{"version":3,"sources":["library/epsilon_math.ts","library/util.ts","library/geometry/vector2.ts","library/entity.ts","library/geometry/line.ts","library/geometry/rect.ts","library/geometry/rect_group.ts","library/environment.ts","library/debug.ts","library/data_structures/hash.ts","library/data_structures/grid.ts","library/texture_cache.ts","library/tilemap/tilemap_objects.ts","game/constants.ts","library/tilemap/tilemap.ts","library/text_entity.ts","library/tilemap/tilemap_data.ts","library/typesafe_loader.ts","game/assets.ts","game/normal_flower.ts","library/react/debug_flag_buttons.tsx","game/debug.ts","library/react/hierarchy.tsx","library/base_text_entity.tsx","library/font_data_url.ts","library/react/react_root.tsx","library/camera.ts","library/data_structures/default_grid.ts","library/base_game.ts","library/collision_grid.ts","library/collision_handler.ts","library/coroutine_manager.ts","library/keyboard.ts","library/base_state.ts","game/hover_text.ts","game/gabbys_glow_thing.ts","game/vine_flower.tsx","game/bouncy_shroom.ts","game/player.ts","game/fountain.ts","game/sfx.ts","game/music_map.ts","game/dialog_overlay.ts","game/dialog_box.ts","game/npc.ts","game/hub_location.ts","game/withers.ts","game/hud.ts","game/cinematics.ts","game/bud.ts","game/wisteria.ts","game/big_shroom.ts","game/game_map.ts","game/overlay.ts","library/title_screen.tsx","game/parallax_layers.ts","game/game.ts","index.tsx"],"names":["epsGreaterThan","x","y","epsLessThan","lastUsedId","Util","list","fn","lowestT","undefined","lowestValue","item","value","highestT","highestValue","low","high","Math","floor","random","array","key","sort","a","b","str","mapObj","re","RegExp","Object","keys","join","replace","matched","toLowerCase","func","timeoutId","waitMilliseconds","options","isImmediate","result","args","doLater","apply","shouldCallNow","clearTimeout","setTimeout","d","monthName","getMonth","getDate","getHours","substr","getMinutes","getSeconds","arr","obj","concat","string","length","intersperse","character","repeat","Vector2","propsOrX","_x","_y","this","toString","round","p","abs","max","dx","dy","sqrt","newY","about","amount","origin","angle","PI","cos","sin","other","reviver","trans","scale","newX","t","console","error","add","lerp","highX","highY","lowX","lowY","RandRange","hasOwnProperty","JSON","stringify","Zero","One","EntityType","Line","props","x1","x2","y1","y2","_x1","_x2","_y1","_y2","serialized","start","end","cx","cy","ex","theta","atan2","rotate","equals","orientedByX","orientedByY","summedLength","min","filter","l","isDegenerate","transform","newEnd","newStart","graphics","color","lineStyle","moveTo","lineTo","p1","p2","p3","p4","s","lineIntersection","mag","split","map","Number","Rect","_width","_height","width","height","withY","withX","topLeft","FromPoints","bottomRight","topRight","bottomLeft","right","bottom","point","size","edgesOnlyIsAnIntersection","intersection","getIntersection","smaller","xmin","xmax1","xmax2","xmax","ymin","ymax1","ymax2","ymax","translate","o","w","h","shrink","botRight","r","AugmentedSprite","entity","Sprite","Entity","name","activeModes","id","velocity","sprite","hitInfo","hit","collisions","interactions","_collidable","_interactable","queuedUpdates","firstUpdateCalled","texture","collidable","interactable","Error","startUpdating","sortableChildren","anchor","set","child","addChild","removeChild","coroutine","GameReference","coroutineManager","startCoroutine","stopCoroutine","state","entities","put","remove","includes","mode","isCollideable","newTexture","parent","FixedStageName","StageName","ParallaxStageName","position","positionAbsolute","children","push","toBeDestroyed","bounds","collisionBounds","shouldUpdate","cb","firstUpdate","update","listener","interactive","on","distance","entityParent","alpha","zIndex","sortChildren","visible","mask","RectGroup","rects","_rects","intersects","r1","r2","delta","rect","subtract","IS_PRODUCTION","window","location","href","IS_DEBUG","Debug","DebugGraphicStack","debug","destroy","persistent","Graphics","drawOnto","stage","toBeRemoved","shift","DrawLine","line","target","fixedCameraStage","lines","getLinesFromRect","results","getRects","DrawRect","profiles","performance","now","average","reduce","rounded","log","drawCount","Container","justDown","Z","DebugMode","down","W","S","D","A","stageReference","prototype","__render","_render","renderer","__renderCanvas","_renderCanvas","HashSet","initialValues","_values","HashMap","get","values","hash","Grid","_data","count","inner","otherwise","TextureCache","textureName","resourceName","tilewidth","tileheight","assets","Cache","getResource","clone","frame","Rectangle","tile","imageUrlRelativeToGame","spritesheetx","spritesheety","GetTextureFromSpritesheet","slice","lastIndexOf","TiledTilemapObjects","_layers","_customObjects","_map","_allObjects","_assets","layers","customObjects","layer","objectsInLayer","loadLayer","turnOffAllObjects","stopUpdating","layerName","objectLayer","object","find","objectsToGroup","objects","gid","customObject","type","process","properties","TiledTilemap","ParseTiledProperties","gidInfo","spritesheet","tileProperties","allProperties","newObj","isCollider","_gidHasCollision","tileName","associatedObject","names","spriteTex","GetTextureForTile","getInstanceType","gridX","gridY","grid","objectToGroup","grouped","candidate","group","groupEdge","current","pop","neighbor","minTileX","POSITIVE_INFINITY","minTileY","groupEntity","getGroupInstanceType","objEntity","C","CanvasWidth","CanvasHeight","InteractionDistance","Scale","TextSegmentState","data","json","pathToTilemap","_tileWidth","_tileHeight","_renderer","_objects","cache","TilemapData","getTileWidth","getTileHeight","getAllObjectLayers","Assets","getLayer","region","loadLayersInRect","tileLayers","getLayerNames","renderTexture","RenderTexture","create","ceil","tileWidth","tileHeight","iStart","jStart","i","j","tex","offset","render","layerEntity","objectLayers","loadObjectLayers","getAllObjects","_tilesets","buildCollisionInfoForTiles","loadTilesets","loadTileLayers","tilesets","imageUrlRelativeToTilemap","image","firstgid","imageheight","imagewidth","tiles","tileCountInTileset","URL","gidStart","gidEnd","gidHasCollision","tileset","tileAndCollisionObjects","objectgroup","_getAllLayersHelper","root","allLayers","getAllLayers","loadTiles","offsetx","offsety","loadRectLayer","chunks","chunk","relTileX","relTileY","isNaN","offsetX","offsetY","absTileX","absTileY","isGidCollider","normalizedGid","tilesWide","matchedTileInfo","getTileAtAbsolutePositionForLayer","FlattenByOne","getCollidersInRegionForLayer","colliders","TypesafeLoader","resourceNames","loader","loadComplete","loadCompleteCallbacks","startStageOneLoading","resources","resource","paths","path","load","startStageTwoLoading","allTilemapDependencyPaths","AssetsToLoad","castedResource","substring","tilemapData","getTilesets","tilemapDependencyPath","finishLoading","callback","Loader","Audio","flowers","flowersMap","1","2","3","4","5","6","flowersRate","0","NormalFlower","initialPosition","level","interactionDistance","frames","init","addY","flowerUpdate","player","DebugFlagButtons","flagNames","flags","flagName","flag","checked","onChange","localStorage","setItem","React","Component","DebugFlags","defaultFlags","prevStoredFlags","parse","getItem","ReadDebugFlagsFromLocalStorage","PIXEL_RATIO","ctx","document","createElement","getContext","devicePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","backingStorePixelRatio","BaseTextEntity","html","Texture","WHITE","canvas","context","_html","createHiDPICanvas","buildTextGraphic","wrappedHtml","htmlToXML","Promise","resolve","img","Image","onload","clearRect","drawImage","src","doc","implementation","createHTMLDocument","write","documentElement","setAttribute","namespaceURI","XMLSerializer","serializeToString","body","ratio","can","style","setTransform","renderHTMLToCanvas","from","TextEntity","text","styles","StandardStyles","fontSize","align","customStyles","defaultStyle","calculateTextWidth","getElementById","font","measureText","setText","buildTextSegments","segment","currentState","NormalText","segments","ch","IdText","StyledText","trim","GameReactWrapper","mounted","monitorHierarchyUpdates","forceUpdate","setSelected","setState","selected","setMoused","moused","renderSelected","fontWeight","fontFamily","paddingTop","paddingBottom","toFixed","game","setInterval","Instance","display","flexDirection","borderLeft","marginLeft","paddingLeft","overflow","marginBottom","padding","debugFlags","GetDrawCount","renderHierarchy","Camera","_position","_desiredPosition","_stage","_canvasWidth","_canvasHeight","_currentBounds","_immediatelyCenterOn","halfDimensions","centerOn","immediate","calculateDesiredPosition","desiredPosition","currentBounds","left","cameraFrame","top","LERP_SPEED","canvasWidth","canvasHeight","newBounds","center","DefaultGrid","makeDefault","_makeDefault","_count","CollisionGrid","_cellSize","_numCellsPerRow","_numCellsPerCol","_cells","_renderLines","getRectCollisions","skipEntity","cells","cell","rectInCell","entityInCell","overlap","firstRect","otherEntity","secondRect","thisEntity","getRectGroupCollisions","collidesRectFast","getCorners","corner","uniqueCells","collidesPoint","takeFirst","contains","firstEntity","secondEntity","getAllCollisions","cellRects","collider1","collider2","clear","removeAll","associatedEntity","startX","stopX","startY","stopY","addRectGroup","cellSize","Cell","_bounds","FromPoint","CollisionHandler","_tileSize","buildCollisionGrid","collideableEntities","isInteractable","collisionRect","rectOrRectGroup","getHitsAt","xHits","hits","resolveCollisions","updatedBounds","xVelocity","yVelocity","xInteractions","yHits","yInteractions","up","CoroutineManager","_lastCoroutineId","_activeCoroutines","_game","co","owner","status","waiting","untilKey","next","done","untilKeyPress","ids","k","KeyboardState","Q","E","R","T","Y","U","I","O","P","F","G","H","J","K","L","X","V","B","N","M","Up","Down","Left","Right","Shift","Spacebar","Enter","justUp","_queuedEvents","addEventListener","e","keyDown","keyUp","event","isDown","number","keyCode","which","String","fromCharCode","toUpperCase","queuedEvent","eventToKey","BaseGameState","spriteToEntity","lastCollisionGrid","BaseGame","app","parallaxStage","camera","collisionHandler","startGameLoop","ticker","gameLoop","view","Application","antialias","transparent","resolution","autoDensity","backgroundColor","Point","onLoadComplete","initialize","ReactDOM","StrictMode","Clear","tick","baseUpdate","ent","stopCoroutinesOwnedBy","activeEntities","getBounds","updateCoroutines","ResetDrawCount","HoverText","shadow","initialY","GabbysGlowThing","tint","glowOverlay","blendMode","BLEND_MODES","SOFT_LIGHT","VineComponent","Vine","parentFlower","finishedVineComponents","isActivated","deadFrame","aliveFrame","setFrame","nextPosition","haveVinePerma","sfx","tickSound","currentTime","play","tickSound2","comp","die","interacted","vine","VineFlower","hoverText","spiritUnused","useSpirit","animateAlive","growVine","BouncyShroom","animateAliveThenDie","haveShroomPerma","Player","speed","jumpHeight","gravity","colliderSize","idle","walk","jump","climb","animState","facing","climbSpeed","jumpingOnLadder","hasBouncedOnShroomThisJump","graphic","audio","StartPosition","trigger","dialogTriggers","triggered","dialogName","cinematics","touchingVine","touchingBouncyBoi","prevVelocity","addX","clampY","newVelocity","addition","Game","animate","stepStone1","checkForDialogTriggers","calculateVelocity","grounded","invertX","Fountain","rechargeRate","spiritTotal","SetAudioToLoop","Sfx","voiceSound1","voiceSound2","voiceSound3","voiceSound4","voiceWithers","climaxSweep","alertNoise","waterfall","stepGrass1","stepGrass2","stepGrass3","stepStone2","stepStone3","stepWood1","stepWood2","stepWood3","fountains","closestFountain","MinBy","f","fountainVol","volume","MusicMap","musicRegionsMap","playing","allMusic","coId","musicRegions","musicPath","songObj","pause","songPathsToPlay","shouldPlay","paused","DialogOverlay","activeDialogText","dialogText","dialog","oldMode","fullText","textToShow","displayDialogContents","playVoiceSound3","startDialog","DialogVisible","DialogBox","speakerText","profilePic","branches","branchText","oldVisible","speaker","playVoiceSound2","displayBranches","branch","NpcDialog","dialogHeight","drawDialogBox","tip","wid","beginFill","drawRoundedRect","endFill","writeDialog","dialogs","textSoFar","playVoiceSound1","initiateDialog","Npc","HubLocation","Withers","followPlayer","SpiritMeter","icons","blackBackground","pivot","rotation","icon","isaudsgksdfjg","Hud","sm","Cinematics","spaceToContinueText","bossCount","npc01CheckCount","npc08CheckCount","npc09CheckCount","npc14CheckCount","hubFlowerLevel","flowerCheckLv0","flowerCheckLv1","flowerCheckLv2","flowerCheckFinal","wisteriaCheckCount","bigMushCheckCount","percentage","time","LinearTween","overlay","stop","fadeScreenToPercentage","StartDialog","startSpeedrunTick","bud","Bud","exclamation","budFollowing","notBeam","newNPC1","newNPC2","newNPC3","newNPC4","endSpeedrunTick","tx","getSpeedrunTimeInS","minutes","seconds","padStart","ms","speedRunTime","teleportBackToHub","newVector","following","Random","v","budFollow","Wisteria","interacting","wisteria","BigShroom","bigMush","GameMap","artMap","cameraRegions","flowerRegions","loadMap","musicMap","pos","getCameraRegion","loadLayersInRectCached","loadFlowers","flower","frequency","parseInt","numFlowers","oldRegion","cameraRegion","setBounds","Overlay","drawRect","TitleScreen","textProps","blackScreen","pressEnterText","enterYourNameText","startedGlowing","waitFrames","menuAudio","ref","autoFocus","onKeyDown","currentTarget","openingCinematic","border","textAlign","outline","ParallaxLayers","scaleFactor","sprites","clouds","TilingSprite","PixiPoint","changeBackground","tileScale","tilePosition","backgroundIndex","forEach","spr","titlescreen","onClick"],"mappings":"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CA,oBACA,oBACA,sBAGJ,eAAgB,CACdhI,KAAM,YACNgI,MAAO,CACL,wBACA,wBACA,0BAGJ,sBAAuB,CACrBhI,KAAM,YACNgI,MAAO,CACL,+BACA,+BACA,iCAGJ,WAAc,CACZhI,KAAM,YACNgI,MAAO,CACL,qBACA,qBACA,qBACA,qBACA,qBACA,uBAGJ,UAAa,CACXhI,KAAM,YACNgI,MAAO,CACL,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,qBACA,uBAGJ,UAAa,CACXhI,KAAM,YACNgI,MAAO,CACL,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,sBAGJ,UAAa,CACXhI,KAAM,YACNgI,MAAO,CACL,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,oBACA,qBACA,uBAGJ,QAAW,CACThI,KAAM,YACNgI,MAAO,CACL,kBACA,kBACA,kBACA,kBACA,kBACA,oBAGJ,QAAW,CACThI,KAAM,YACNgI,MAAO,CACL,kBACA,kBACA,kBACA,kBACA,kBACA,oBAGJ,QAAW,CACThI,KAAM,YACNgI,MAAO,CACL,kBACA,kBACA,kBACA,kBACA,oBAGJ,qBAAsB,CACpBhI,KAAM,YACNgI,MAAO,CACL,6BACA,6BACA,6BACA,6BACA,6BACA,+BAGJ,iBAAkB,CAChBhI,KAAM,YACNgI,MAAO,CACL,yBACA,yBACA,yBACA,2BAGJ,qBAAsB,CACpBhI,KAAM,YACNgI,MAAO,CACL,6BACA,6BACA,6BACA,6BACA,6BACA,+BAGJ,kBAAmB,CACjBhI,KAAM,YACNgI,MAAO,CACL,0BACA,0BACA,0BACA,4BAGJ,kBAAmB,CACjBhI,KAAM,YACNgI,MAAO,CACL,0BACA,0BACA,0BACA,4BAGJ,wBAAyB,CACvBhI,KAAM,YACNgI,MAAO,CACL,gCACA,gCACA,gCACA,gCACA,kCAGJ,OAAU,CACRhI,KAAM,YACNgI,MAAO,CACL,iBACA,iBACA,iBACA,iBACA,iBACA,iBACA,mBAGJ,SAAY,CACVhI,KAAM,YACNgI,MAAO,CACL,mBA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","file":"static/js/main.8e584595.chunk.js","sourcesContent":["export const EPSILON = 0.0000001;\r\n\r\nexport const epsEqual = (x: number, y: number) => {\r\n  return Math.abs(x - y) < EPSILON;\r\n}\r\n\r\nexport const epsGreaterThan = (x: number, y: number) => {\r\n  return (x + EPSILON - y) > 0;\r\n}\r\n\r\nexport const epsLessThan = (x: number, y: number) => {\r\n  return (x - EPSILON - y) < 0;\r\n}","let lastUsedId = 0;\r\n\r\nexport const getUniqueID = () => {\r\n  return lastUsedId++;\r\n};\r\n\r\nexport class Util {\r\n  static MinBy<T>(list: T[], fn: (T: T) => number): T | undefined {\r\n    let lowestT    : T | undefined = undefined;\r\n    let lowestValue: number | undefined = undefined;\r\n\r\n    for (const item of list) {\r\n      const value = fn(item);\r\n\r\n      if (lowestValue === undefined || value < lowestValue) {\r\n        lowestT = item;\r\n        lowestValue = value;\r\n      }\r\n    }\r\n\r\n    return lowestT;\r\n  }\r\n\r\n  static MaxBy<T>(list: T[], fn: (T: T) => number): T | undefined {\r\n    let highestT    : T | undefined = undefined;\r\n    let highestValue: number | undefined = undefined;\r\n\r\n    for (const item of list) {\r\n      const value = fn(item);\r\n\r\n      if (highestValue === undefined || value > highestValue) {\r\n        highestT = item;\r\n        highestValue = value;\r\n      }\r\n    }\r\n\r\n    return highestT;\r\n  }\r\n\r\n  static RandRange(low: number, high: number): number {\r\n    return Math.floor(Math.random() * (high - low) + low);\r\n  }\r\n\r\n  public static SortByKey<T>(array: T[], key: (x: T) => number): T[] {\r\n    return array.sort((a, b) => {\r\n      return key(a) - key(b)\r\n    });\r\n  }\r\n\r\n  public static ReplaceAll(\r\n    str   : string,\r\n    mapObj: { [key: string]: string }\r\n  ): string {\r\n    const re = new RegExp(Object.keys(mapObj).join('|'), 'gi')\r\n\r\n    return str.replace(re, matched => {\r\n      return mapObj[matched.toLowerCase()]\r\n    });\r\n  }\r\n\r\n  public static Debounce<F extends (...args: any[]) => void>(\r\n    func: F,\r\n    waitMilliseconds = 50,\r\n    options = {\r\n      isImmediate: false,\r\n    }\r\n  ): F {\r\n    let timeoutId: any; // types are different on node vs client, so we have to use any.\r\n\r\n    const result = (...args: any[]) => {\r\n      const doLater = () => {\r\n        timeoutId = undefined;\r\n        if (!options.isImmediate) {\r\n          func.apply(this, args);\r\n        }\r\n      }\r\n\r\n      const shouldCallNow = options.isImmediate && timeoutId === undefined;\r\n\r\n      if (timeoutId !== undefined) {\r\n        clearTimeout(timeoutId);\r\n      }\r\n\r\n      timeoutId = setTimeout(doLater, waitMilliseconds);\r\n\r\n      if (shouldCallNow) {\r\n        func.apply(this, args);\r\n      }\r\n    }\r\n\r\n    return result as any;\r\n  }\r\n\r\n  public static FormatDate(d: Date): string {\r\n    const monthName = [\r\n      'Jan',\r\n      'Feb',\r\n      'Mar',\r\n      'Apr',\r\n      'May',\r\n      'Jun',\r\n      'Jul',\r\n      'Aug',\r\n      'Sep',\r\n      'Oct',\r\n      'Nov',\r\n      'Dec',\r\n    ][d.getMonth()]\r\n\r\n    return `${monthName} ${d.getDate()}, ${('00' + d.getHours()).substr(-2)}:${(\r\n      '00' + d.getMinutes()\r\n    ).substr(-2)}:${('00' + d.getSeconds()).substr(-2)}`;\r\n  }\r\n\r\n  public static FlattenByOne<T>(arr: T[][]): T[] {\r\n    let result: T[] = []\r\n\r\n    for (const obj of arr) {\r\n      result = result.concat(obj)\r\n    }\r\n\r\n    return result\r\n  }\r\n\r\n  public static PadString(string: string, length: number, intersperse = \"\", character = \" \") {\r\n    return string + intersperse + character.repeat(length - string.length);\r\n  }\r\n}\r\n","import { EPSILON } from \"../epsilon_math\";\r\nimport { Util } from \"../util\";\r\n\r\nexport interface IVector2 {\r\n  x: number;\r\n  y: number;\r\n}\r\n\r\nexport class Vector2 {\r\n  private _x: number;\r\n  private _y: number;\r\n\r\n  public get x(): number { return this._x; }\r\n  public get y(): number { return this._y; }\r\n  \r\n  constructor();\r\n  constructor(x: number, y: number);\r\n  constructor(props: { x: number, y: number });\r\n  constructor(propsOrX: { x: number, y: number } | number = { x: 0, y: 0 }, y?: number) {\r\n    if (typeof propsOrX === \"number\") {\r\n      this._x = propsOrX;\r\n      this._y = y!;\r\n    } else {\r\n      this._x = propsOrX.x;\r\n      this._y = propsOrX.y;\r\n    }\r\n  }\r\n\r\n  public get half(): Vector2 {\r\n    return new Vector2({ x: this.x / 2, y: this.y / 2 });\r\n  }\r\n\r\n  public static Zero: Vector2 = new Vector2(0, 0);\r\n  public static One: Vector2 = new Vector2(1, 1);\r\n\r\n  static IsVector2(x: any): x is Vector2 {\r\n    return x instanceof Vector2;\r\n  }\r\n\r\n  static Random(highX: number, highY: number, lowX = 0, lowY = 0) {\r\n    return new Vector2({\r\n      x: Util.RandRange(lowX, highX),\r\n      y: Util.RandRange(lowY, highY),\r\n    });\r\n  }\r\n\r\n  hash(): string {\r\n    return this.toString();\r\n  }\r\n\r\n  toString(): string {\r\n    return `[${ this.x }, ${ this.y }]`;\r\n  }\r\n\r\n  invert(): Vector2 {\r\n    return new Vector2({\r\n      x: -this.x,\r\n      y: -this.y,\r\n    });\r\n  }\r\n\r\n  round(): Vector2 {\r\n    return new Vector2({\r\n      x: Math.round(this.x),\r\n      y: Math.round(this.y),\r\n    });\r\n  }\r\n\r\n  floor(): Vector2 {\r\n    return new Vector2({\r\n      x: Math.floor(this.x),\r\n      y: Math.floor(this.y),\r\n    });\r\n  }\r\n\r\n  taxicabDistance(p: Vector2): number {\r\n    return Math.abs(p.x - this.x) + Math.abs(p.y - this.y);\r\n  }\r\n\r\n  diagonalDistance(p: IVector2): number {\r\n    return Math.max(Math.abs(p.x - this.x), Math.abs(p.y - this.y));\r\n  }\r\n\r\n  distance(p: IVector2): number {\r\n    let dx = Math.abs(p.x - this.x);\r\n    let dy = Math.abs(p.y - this.y);\r\n\r\n    return Math.sqrt(dx * dx + dy * dy);\r\n  }\r\n\r\n  translate(p: { x: number, y: number }): Vector2 {\r\n    return new Vector2({\r\n      x: this.x + p.x,\r\n      y: this.y + p.y,\r\n    });\r\n  }\r\n\r\n  subtract(p: { x: number, y: number }): Vector2 {\r\n    return new Vector2({\r\n      x: this.x - p.x,\r\n      y: this.y - p.y,\r\n    });\r\n  }\r\n\r\n  add(p: { x: number, y: number }): Vector2 {\r\n    return new Vector2({\r\n      x: this.x + p.x,\r\n      y: this.y + p.y,\r\n    });\r\n  }\r\n\r\n  addX(x: number): Vector2 {\r\n    return new Vector2({\r\n      x: this.x + x,\r\n      y: this.y,\r\n    });\r\n  }\r\n\r\n  addY(y: number): Vector2 {\r\n    return new Vector2({\r\n      x: this.x,\r\n      y: this.y + y,\r\n    });\r\n  }\r\n  \r\n  clampY(low: number, high: number): Vector2 {\r\n    let newY = this.y;\r\n\r\n    if (newY < low) { newY = low; }\r\n    if (newY > high) { newY = high; }\r\n\r\n    return new Vector2({\r\n      x: this.x,\r\n      y: newY,\r\n    });\r\n  }\r\n\r\n  scale(about: { x: number; y: number }, amount: { x: number; y: number }): Vector2 {\r\n    return new Vector2({\r\n      x: (this.x - about.x) * amount.x + about.x,\r\n      y: (this.y - about.y) * amount.y + about.y,\r\n    });\r\n  }\r\n\r\n  rotate(origin: Vector2, angle: number): Vector2 {\r\n    angle = angle / (180 / Math.PI);\r\n\r\n    return new Vector2({\r\n      x: Math.cos(angle) * (this.x - origin.x) - Math.sin(angle) * (this.y - origin.y) + origin.x,\r\n      y: Math.sin(angle) * (this.x - origin.x) + Math.cos(angle) * (this.y - origin.y) + origin.y,\r\n    });\r\n  }\r\n\r\n  equals(other: Vector2 | undefined): boolean {\r\n    if (other === undefined) { \r\n      return false; \r\n    }\r\n\r\n    return (\r\n      Math.abs(this.x - other.x) < EPSILON && \r\n      Math.abs(this.y - other.y) < EPSILON\r\n    );\r\n  }\r\n\r\n  multiply(other: Vector2 | number): Vector2 {\r\n    if (typeof other === \"number\") {\r\n      return new Vector2({\r\n        x: this.x * other,\r\n        y: this.y * other,\r\n      });\r\n    } else {\r\n      return new Vector2({\r\n        x: this.x * other.x,\r\n        y: this.y * other.y,\r\n      });\r\n    }\r\n  }\r\n\r\n  divide(other: Vector2 | number): Vector2 {\r\n    if (typeof other === \"number\") {\r\n      return new Vector2({\r\n        x: this.x / other,\r\n        y: this.y / other,\r\n      });\r\n    } else {\r\n      return new Vector2({\r\n        x: this.x / other.x,\r\n        y: this.y / other.y,\r\n      });\r\n    }\r\n  }\r\n\r\n  toJSON(): any {\r\n    return {\r\n      x: this.x,\r\n      y: this.y,\r\n      reviver: \"Point\",\r\n    }\r\n  }\r\n\r\n  transform(trans: Vector2, scale: number): Vector2 {\r\n    return new Vector2({\r\n      x: Math.floor((this.x - trans.x) * scale),\r\n      y: Math.floor((this.y - trans.y) * scale),\r\n    });\r\n  }\r\n\r\n  normalize(): Vector2 {\r\n    if (this.x === 0 && this.y === 0) { \r\n      return this; \r\n    }\r\n\r\n    const length = Math.sqrt(this.x * this.x + this.y * this.y);\r\n\r\n    return new Vector2({\r\n      x: this.x / length, \r\n      y: this.y / length\r\n    });\r\n  }\r\n\r\n  withX(newX: number): Vector2 {\r\n    return new Vector2({\r\n      x: newX,\r\n      y: this.y,\r\n    });\r\n  }\r\n\r\n  withY(newY: number): Vector2 {\r\n    return new Vector2({\r\n      x: this.x,\r\n      y: newY,\r\n    });\r\n  }\r\n\r\n  invertX(): Vector2 {\r\n    return new Vector2({\r\n      x: -this.x,\r\n      y: this.y,\r\n    });\r\n  }\r\n\r\n  lerp(other: Vector2, t: number): Vector2 {\r\n    if (t > 1 || t < 0) { console.error(\"Lerp t must be between 0 and 1.\"); }\r\n    if (t === 0) return this;\r\n    if (t === 1) return other;\r\n\r\n    return this.scale({ x: 0, y: 0 }, { x: 1 - t, y: 1 - t }).add(other.scale({ x: 0, y: 0}, { x: t, y: t }))\r\n  }\r\n\r\n  coserp(other: Vector2, t: number): Vector2 {\r\n    t = 0.5 * (1 + Math.cos(2 * t * Math.PI));\r\n\r\n    return this.lerp(other, t);\r\n  }\r\n\r\n  static Deserialize(obj: any): Vector2 {\r\n    if (!obj.hasOwnProperty(\"x\") || !obj.hasOwnProperty(\"y\")) {\r\n      console.error(\"Failed deserializing point\");\r\n    }\r\n\r\n    return new Vector2({\r\n      x: obj.x,\r\n      y: obj.y,\r\n    });\r\n  }\r\n\r\n  static Serialize(obj: Vector2): string {\r\n    return JSON.stringify({ x: obj.x, y: obj.y });\r\n  }\r\n}","import { Vector2, IVector2 } from \"./geometry/vector2\";\r\nimport { Rect } from \"./geometry/rect\";\r\nimport { Sprite, Texture, MaskData, Container } from \"pixi.js\";\r\nimport { getUniqueID } from \"./util\";\r\nimport { RectGroup } from \"./geometry/rect_group\";\r\nimport { BaseGameState } from \"./base_state\";\r\nimport { GameReference, FixedStageName, StageName, ParallaxStageName } from \"./base_game\";\r\nimport { CoroutineId, GameCoroutine } from \"./coroutine_manager\";\r\nimport { IGameState, Mode } from \"Library\";\r\nimport { HitInfo } from \"./collision_handler\";\r\n\r\nexport enum EntityType {\r\n  NormalEntity,\r\n\r\n  /** \r\n   * The collision information for this entity will be calculated by the main\r\n   * game loop.\r\n   */\r\n  MovingEntity,\r\n}\r\n\r\nclass AugmentedSprite extends Sprite {\r\n  entity!: Entity;\r\n}\r\n\r\n\r\n// export class ModeEntity extends Entity<GameState> {\r\n//   shouldUpdate(state: GameState) {\r\n//     return this.activeModes.includes(state.mode);\r\n//   }\r\n// }\r\n\r\n// TODO: probably make less of these methods abstract?\r\nexport class Entity {\r\n  /**\r\n   * This is the name that is displayed in the hierarchy.\r\n   */\r\n  public name     : string;\r\n\r\n  public activeModes: Mode[] = [\"Normal\"];\r\n\r\n  public id       = getUniqueID();\r\n\r\n  public velocity = Vector2.Zero;\r\n\r\n  /**\r\n   * The PIXI Sprite that this Entity wraps.\r\n   */\r\n  public sprite     : AugmentedSprite;\r\n\r\n  public hitInfo    : HitInfo = { hit: false, collisions: [], interactions: [] };\r\n\r\n  protected _collidable  : boolean;\r\n  protected _interactable: boolean;\r\n\r\n  constructor(props: {\r\n    name          : string;\r\n    collidable   ?: boolean;\r\n    texture      ?: Texture;\r\n    interactable ?: boolean;\r\n  }) {\r\n    this.sprite        = new AugmentedSprite(props.texture);\r\n    this.name          = props.name;\r\n    this.sprite.entity = this;\r\n\r\n    this._collidable   = props.collidable   ?? false;\r\n    this._interactable = props.interactable ?? false;\r\n\r\n    if (props.interactable && props.collidable) {\r\n      throw new Error(\"Cant be both interactable and collideable\");\r\n    }\r\n\r\n    this.startUpdating();\r\n\r\n    this.sprite.sortableChildren = true;\r\n    this.sprite.anchor.set(0);\r\n  }\r\n\r\n  addChild(child: Entity, x: number | null = null, y: number | null = null) {\r\n    this.sprite.addChild(child.sprite);\r\n\r\n    if (x !== null) child.x = x;\r\n    if (y !== null) child.y = y;\r\n  }\r\n\r\n  removeChild(child: Entity) {\r\n    this.sprite.removeChild(child.sprite);\r\n  }\r\n\r\n  startCoroutine(name: string, coroutine: GameCoroutine): CoroutineId {\r\n    return GameReference.coroutineManager.startCoroutine(name, coroutine, this);\r\n  }\r\n\r\n  stopCoroutine(id: CoroutineId): void {\r\n    GameReference.coroutineManager.stopCoroutine(id);\r\n  }\r\n\r\n  startUpdating() {\r\n    GameReference.state.entities.put(this);\r\n  }\r\n\r\n  stopUpdating() {\r\n    GameReference.state.entities.remove(this);\r\n  }\r\n\r\n  shouldUpdate(state: IGameState): boolean {\r\n    return this.activeModes.includes(state.mode);\r\n  }\r\n\r\n  update(state: IGameState): void {}\r\n\r\n  firstUpdate(state: IGameState): void {}\r\n\r\n  setCollideable(isCollideable: boolean) {\r\n    this._collidable = isCollideable;\r\n  }\r\n\r\n  setTexture(newTexture: Texture) {\r\n    this.sprite.texture = newTexture;\r\n  }\r\n\r\n  /** \r\n   * Used for collision detection. (x, y) is relative to the sprite, btw, not\r\n   * the map or anything else.\r\n   */\r\n  public collisionBounds(): Rect | RectGroup {\r\n    return new Rect({\r\n      x     : 0,\r\n      y     : 0,\r\n      width : this.width,\r\n      height: this.height\r\n    })\r\n  }\r\n\r\n  /** \r\n   * Returns the position of this Entity relative to the stage (rather than its\r\n   * parent, like position would).\r\n   */\r\n  public positionAbsolute(): Vector2 {\r\n    if (this.parent && (\r\n      this.parent.name === FixedStageName || \r\n      this.parent.name === StageName || \r\n      this.parent.name === ParallaxStageName\r\n      )) {\r\n      return this.position;\r\n    }\r\n\r\n    return this.position.add(this.parent?.positionAbsolute() ?? new Vector2());\r\n  }\r\n\r\n  public get center(): Vector2 {\r\n    return new Vector2(this.position).add({\r\n      x: this.width / 2,\r\n      y: this.height / 2\r\n    });\r\n  }\r\n\r\n  children(): Entity[] {\r\n    const children = this.sprite.children;\r\n    const result: Entity[] = [];\r\n\r\n    for (const child of children) {\r\n      if (child instanceof AugmentedSprite) {\r\n        result.push(child.entity);\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  destroy(state: BaseGameState) {\r\n    state.toBeDestroyed.push(this);\r\n  }\r\n\r\n  hash(): string {\r\n    return `[Entity ${ this.id }]`;\r\n  }\r\n\r\n  isCollideable(): boolean {\r\n    return this._collidable;\r\n  }\r\n\r\n  isInteractable(): boolean {\r\n    return this._interactable;\r\n  }\r\n\r\n  dimensions(): Vector2 {\r\n    const bounds = this.collisionBounds();\r\n\r\n    if (bounds instanceof Rect) {\r\n      return new Vector2(bounds.x, bounds.y);\r\n    } else {\r\n      throw new Error(\"oh no grant doesnt handle this case!!!\");\r\n    }\r\n  }\r\n\r\n  // Sprite wrapper stuff\r\n\r\n  public get parent(): Entity | null { \r\n    const parent = this.sprite.parent;\r\n\r\n    if (parent instanceof AugmentedSprite) {\r\n      const entityParent = parent.entity;\r\n\r\n      if (entityParent) {\r\n        return entityParent;\r\n      }\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  private queuedUpdates: ((state: IGameState) => void)[] = [];\r\n  private firstUpdateCalled = false;\r\n\r\n  baseUpdate(state: IGameState): void {\r\n    if (this.shouldUpdate(state)) {\r\n      for (const cb of this.queuedUpdates) {\r\n        cb(state);\r\n      }\r\n\r\n      if (!this.firstUpdateCalled) {\r\n        this.firstUpdateCalled = true;\r\n        this.firstUpdate(state);\r\n      }\r\n      this.update(state);\r\n    }\r\n\r\n    this.queuedUpdates = [];\r\n  }\r\n\r\n  addOnClick(listener: (state: IGameState) => void) {\r\n    this.sprite.interactive = true;\r\n\r\n    this.sprite.on('click', () => {\r\n      this.queuedUpdates.push(listener);\r\n    });\r\n  }\r\n\r\n  addOnMouseOver(listener: (state: IGameState) => void) {\r\n    this.sprite.interactive = true;\r\n\r\n    this.sprite.on('mouseover', () => {\r\n      this.queuedUpdates.push(listener);\r\n    });\r\n  }\r\n\r\n  addOnMouseOut(listener: (state: IGameState) => void) {\r\n    this.sprite.interactive = true;\r\n\r\n    this.sprite.on('mouseout', () => {\r\n      this.queuedUpdates.push(listener);\r\n    });\r\n  }\r\n\r\n  public get x(): number { return this.sprite.x; }\r\n  public set x(value: number) { this.sprite.x = value; }\r\n\r\n  public get y(): number { return this.sprite.y; }\r\n  public set y(value: number) { this.sprite.y = value; }\r\n\r\n  public get width(): number { return this.sprite.width; }\r\n  public set width(value: number) { this.sprite.width = value; }\r\n\r\n  public get height(): number { return this.sprite.height; }\r\n  public set height(value: number) { this.sprite.height = value; }\r\n\r\n  public get alpha(): number { return this.sprite.alpha; }\r\n  public set alpha(value: number) { this.sprite.alpha = value; }\r\n\r\n  public get position(): Vector2 { return new Vector2({ x: this.x, y: this.y }); }\r\n  public set position(value: Vector2) { this.x = value.x; this.y = value.y; }\r\n\r\n  public get zIndex(): number { return this.sprite.zIndex; }\r\n  public set zIndex(value: number) { this.sprite.zIndex = value; this.sprite.parent && this.sprite.parent.sortChildren(); }\r\n\r\n  public get visible(): boolean { return this.sprite.visible; }\r\n  public set visible(value: boolean) { this.sprite.visible = value; }\r\n\r\n  public set texture(value: Texture) { this.sprite.texture = value; }\r\n\r\n  public set mask(value: Container | MaskData) { this.sprite.mask = value; }\r\n  public get mask(): Container | MaskData { return this.sprite.mask; }\r\n\r\n  public get scale(): Vector2 { return new Vector2({ x: this.sprite.scale.x, y: this.sprite.scale.y }); }\r\n  public set scale(value: Vector2) { \r\n    this.sprite.scale.x = value.x;\r\n    this.sprite.scale.y = value.y;\r\n  }\r\n\r\n  public distance(other: IVector2) {\r\n    return this.position.distance(other);\r\n  }\r\n}\r\n","import { Vector2 } from \"./vector2\"\r\nimport { Graphics } from \"pixi.js\";\r\nimport { epsGreaterThan, epsLessThan } from \"../epsilon_math\";\r\n\r\nexport class Line {\r\n  private _x1: number;\r\n  private _x2: number;\r\n  private _y1: number;\r\n  private _y2: number;\r\n\r\n  public get x1(): number { return this._x1; }\r\n  public get x2(): number { return this._x2; }\r\n  public get y1(): number { return this._y1; }\r\n  public get y2(): number { return this._y2; }\r\n\r\n  public get start(): Vector2 { return new Vector2({ x: this.x1, y: this.y1 }); }\r\n  public get end()  : Vector2 { return new Vector2({ x: this.x2, y: this.y2 }); }\r\n\r\n  public get angleInDegrees(): number {\r\n    const cx = this._x1;\r\n    const cy = this._y1;\r\n\r\n    const ex = this._x2;\r\n    const ey = this._y2;\r\n\r\n    const dy = ey - cy;\r\n    const dx = ex - cx;\r\n\r\n    let theta = Math.atan2(dy, dx);\r\n\r\n    theta *= 180 / Math.PI;\r\n\r\n    if (theta < 0) {\r\n      theta = 360 + theta;\r\n    }\r\n\r\n    return theta;\r\n  }\r\n\r\n  public serialized = \"\";\r\n\r\n  constructor(props: { x1: number, x2: number, y1: number, y2: number } |\r\n                     { start: Vector2, end: Vector2 }) {\r\n    let x1, x2, y1, y2;\r\n\r\n    if ('x1' in props) {\r\n      x1 = props.x1;\r\n      x2 = props.x2;\r\n      y1 = props.y1;\r\n      y2 = props.y2;\r\n    } else {\r\n      x1 = props.start.x;\r\n      x2 = props.end.x;\r\n      y1 = props.start.y;\r\n      y2 = props.end.y;\r\n    }\r\n\r\n    this._x1 = x1;\r\n    this._y1 = y1;\r\n    this._x2 = x2;\r\n    this._y2 = y2;\r\n\r\n    this.serialized = `${ this.x1 }|${ this.x2 }|${ this.y1 }|${ this.y2 }`;\r\n  }\r\n\r\n  public get length(): number {\r\n    return Math.sqrt(\r\n      (this.x2 - this.x1) * (this.x2 - this.x1) +\r\n      (this.y2 - this.y1) * (this.y2 - this.y1)\r\n    );\r\n  }\r\n\r\n  public get isDegenerate(): boolean {\r\n    return this.length === 0;\r\n  }\r\n\r\n  public rotateAbout(origin: Vector2, angle: number): Line {\r\n    const start = this.start;\r\n    const end = this.end;\r\n\r\n    return new Line({\r\n      start: start.rotate(origin, angle),\r\n      end: end.rotate(origin, angle),\r\n    });\r\n  }\r\n\r\n  public scaleAbout(about: Vector2, amount: Vector2): Line {\r\n    return new Line({\r\n      start: this.start.scale(about, amount),\r\n      end: this.end.scale(about, amount),\r\n    });\r\n  }\r\n\r\n  sharesAVertexWith(other: Line): Vector2 | null {\r\n    if (this.start.equals(other.start)) { return this.start; }\r\n    if (this.start.equals(other.end))   { return this.start; }\r\n\r\n    if (this.end.equals(other.start)) { return this.end; }\r\n    if (this.end.equals(other.end))   { return this.end; }\r\n\r\n    return null;\r\n  }\r\n\r\n  static DeserializeLine(s: string): Line {\r\n    const [ x1, x2, y1, y2 ] = s.split(\"|\").map(x => Number(x));\r\n\r\n    return new Line({ x1, x2, y1, y2 });\r\n  }\r\n\r\n  isXAligned(): boolean {\r\n    return this.x1 === this.x2;\r\n  }\r\n\r\n  isYAligned(): boolean {\r\n    return this.y1 === this.y2;\r\n  }\r\n\r\n  // Must be horizontally/vertically oriented lines\r\n  // Does not consider intersection, only overlap\r\n  getOverlap(other: Line): Line | undefined {\r\n    const orientedByX = (\r\n      this.x1 === this.x2 &&\r\n      this.x1 === other.x1 &&\r\n      this.x1 === other.x2\r\n    );\r\n\r\n    const orientedByY = (\r\n      this.y1 === this.y2 &&\r\n      this.y1 === other.y1 &&\r\n      this.y1 === other.y2\r\n    );\r\n\r\n    if (!orientedByX && !orientedByY) { return undefined; }\r\n\r\n    const summedLength  = this.length + other.length;\r\n    const overallLength = new Line({\r\n      x1: Math.min(this.x1, other.x1),\r\n      y1: Math.min(this.y1, other.y1),\r\n      x2: Math.max(this.x2, other.x2),\r\n      y2: Math.max(this.y2, other.y2),\r\n    }).length;\r\n\r\n    if (overallLength >= summedLength) {\r\n      // These lines do not overlap.\r\n\r\n      return undefined;\r\n    }\r\n\r\n    if (orientedByX) {\r\n      return new Line({\r\n        x1: this.x1,\r\n        x2: this.x2,\r\n        y1: Math.max(this.y1, other.y1),\r\n        y2: Math.min(this.y2, other.y2),\r\n      });\r\n    } else /* if (orientedByY) */ {\r\n      return new Line({\r\n        y1: this.y1,\r\n        y2: this.y2,\r\n        x1: Math.max(this.x1, other.x1),\r\n        x2: Math.min(this.x2, other.x2),\r\n      });\r\n    }\r\n  }\r\n\r\n  // A----B----C----D\r\n  // AD - BC returns AB and CD.\r\n  getNonOverlappingSections(other: Line): Line[] | undefined {\r\n    const orientedByX = (\r\n      this.x1 === this.x2 &&\r\n      this.x1 === other.x1 &&\r\n      this.x1 === other.x2\r\n    );\r\n\r\n    const orientedByY = (\r\n      this.y1 === this.y2 &&\r\n      this.y1 === other.y1 &&\r\n      this.y1 === other.y2\r\n    );\r\n\r\n    if (!orientedByX && !orientedByY) { return undefined; }\r\n\r\n    const summedLength  = new Line(this).length + new Line(other).length;\r\n    const overallLength = new Line({\r\n      x1: Math.min(this.x1, other.x1),\r\n      y1: Math.min(this.y1, other.y1),\r\n      x2: Math.max(this.x1, other.x1),\r\n      y2: Math.max(this.y1, other.y1),\r\n    }).length;\r\n\r\n    if (overallLength >= summedLength) {\r\n      // These lines do not overlap.\r\n\r\n      return undefined;\r\n    }\r\n\r\n    if (orientedByX) {\r\n      return [\r\n        new Line({ x1: this.x1, x2: this.x2, y1: Math.min(this.y1, other.y1), y2: Math.max(this.y1, other.y1), }),\r\n        new Line({ x1: this.x1, x2: this.x2, y1: Math.min(this.y2, other.y2), y2: Math.max(this.y2, other.y2), }),\r\n      ].filter(l => !l.isDegenerate);\r\n    } else /* if (orientedByY) */ {\r\n      return [\r\n        new Line({ y1: this.y1, y2: this.y2, x1: Math.min(this.x1, other.x1), x2: Math.max(this.x1, other.x1), }),\r\n        new Line({ y1: this.y1, y2: this.y2, x1: Math.min(this.x2, other.x2), x2: Math.max(this.x2, other.x2), }),\r\n      ].filter(l => !l.isDegenerate);\r\n    }\r\n  }\r\n\r\n  clone(): Line {\r\n    return new Line({ x1: this.x1, x2: this.x2, y1: this.y1, y2: this.y2 });\r\n  }\r\n\r\n  translate(p: Vector2): Line {\r\n    return new Line({\r\n      x1: this.x1 + p.x,\r\n      x2: this.x2 + p.x,\r\n\r\n      y1: this.y1 + p.y,\r\n      y2: this.y2 + p.y,\r\n    });\r\n  }\r\n\r\n  transform(trans: Vector2, scale: number): Line {\r\n    return new Line({\r\n      start: this.start.transform(trans, scale),\r\n      end: this.end.transform(trans, scale),\r\n    });\r\n  }\r\n\r\n  toJSON(): any {\r\n    return {\r\n      x1     : this.x1,\r\n      x2     : this.x2,\r\n      y1     : this.y1,\r\n      y2     : this.y2,\r\n      reviver: \"Line\",\r\n    };\r\n  }\r\n\r\n  toString(): string {\r\n    return `Line: [(${ this.x1 },${ this.y1 }) -> (${ this.x2 },${ this.y2 })]`;\r\n  }\r\n\r\n  equals(other: Line | null) {\r\n    if (other === null) { return false; }\r\n\r\n    return (\r\n      this.x1 === other.x1 &&\r\n      this.x2 === other.x2 &&\r\n      this.y1 === other.y1 &&\r\n      this.y2 === other.y2\r\n    ) || (\r\n      this.x1 === other.x2 &&\r\n      this.x2 === other.x1 &&\r\n      this.y1 === other.y2 &&\r\n      this.y2 === other.y1\r\n    );\r\n  }\r\n\r\n  withNewEnd(newEnd: Vector2): Line {\r\n    return new Line({\r\n      x1: this.x1,\r\n      y1: this.y1,\r\n      x2: newEnd.x,\r\n      y2: newEnd.y,\r\n    });\r\n  }\r\n\r\n  withNewStart(newStart: Vector2): Line {\r\n    return new Line({\r\n      x1: newStart.x,\r\n      y1: newStart.y,\r\n      x2: this.x2,\r\n      y2: this.y2,\r\n    });\r\n  }\r\n\r\n  static Deserialize(obj: any): Line {\r\n    if (\r\n      !obj.hasOwnProperty(\"x1\") ||\r\n      !obj.hasOwnProperty(\"y1\") ||\r\n      !obj.hasOwnProperty(\"x2\") ||\r\n      !obj.hasOwnProperty(\"y2\")) {\r\n\r\n      console.error(\"Failed deserializing Rect\");\r\n    }\r\n\r\n    return new Line({\r\n      x1: obj.x1,\r\n      y1: obj.y1,\r\n      x2: obj.x2,\r\n      y2: obj.y2,\r\n    });\r\n  }\r\n\r\n  static Serialize(obj: Line): string {\r\n    return JSON.stringify({\r\n      x1: obj.x1,\r\n      y1: obj.y1,\r\n      x2: obj.x2,\r\n      y2: obj.y2,\r\n    });\r\n  }\r\n\r\n  drawOnto(graphics: Graphics, color = 0xff0000) {\r\n    graphics.lineStyle(3, color, 1);\r\n\r\n    graphics.moveTo(this.x1, this.y1);\r\n    graphics.lineTo(this.x2, this.y2);\r\n  }\r\n\r\n  /** \r\n   * Returns the point where these two lines, if extended arbitrarily, would\r\n   * intersect.\r\n   */\r\n  lineIntersection(other: Line): Vector2 {\r\n    const p1 = this.start;\r\n    const p2 = this.end;\r\n    const p3 = other.start;\r\n    const p4 = other.end;\r\n\r\n    const s = (\r\n      (p4.x - p3.x) * \r\n      (p1.y - p3.y) - \r\n      (p4.y - p3.y) * \r\n      (p1.x - p3.x)) / (\r\n      (p4.y - p3.y) * \r\n      (p2.x - p1.x) - \r\n      (p4.x - p3.x) * \r\n      (p2.y - p1.y)\r\n    );\r\n\r\n    const x = p1.x + s * (p2.x - p1.x);\r\n    const y = p1.y + s * (p2.y - p1.y);\r\n\r\n    return new Vector2({ x, y });\r\n  }\r\n\r\n  /**\r\n   * Returns the point where these two segments exist, if there is one.\r\n   */\r\n  segmentIntersection(other: Line): Vector2 | null {\r\n    const lineIntersection = this.lineIntersection(other);\r\n\r\n    const x = lineIntersection.x;\r\n    const y = lineIntersection.y;\r\n\r\n    if (\r\n      (\r\n        // within us\r\n\r\n        epsGreaterThan(x, Math.min(this.x1, this.x2)) &&\r\n        epsLessThan   (x, Math.max(this.x1, this.x2)) &&\r\n        epsGreaterThan(y, Math.min(this.y1, this.y2)) &&\r\n        epsLessThan   (y, Math.max(this.y1, this.y2))\r\n      ) && (\r\n        // within other\r\n\r\n        epsGreaterThan(x, Math.min(other.x1, other.x2)) &&\r\n        epsLessThan   (x, Math.max(other.x1, other.x2)) &&\r\n        epsGreaterThan(y, Math.min(other.y1, other.y2)) &&\r\n        epsLessThan   (y, Math.max(other.y1, other.y2))\r\n      )\r\n    ) {\r\n      return lineIntersection;\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  normalize(): Line {\r\n    const mag = Math.sqrt(\r\n      (this.x1 - this.x2) ** 2 +\r\n      (this.y1 - this.y2) ** 2\r\n    );\r\n\r\n    return new Line({\r\n      start: this.start,\r\n      end: new Vector2({\r\n        x: this.start.x + (this.end.x - this.start.x) / mag,\r\n        y: this.start.x + (this.end.y - this.start.y) / mag,\r\n      })\r\n    })\r\n  }\r\n\r\n  hash(): string {\r\n    return this.toString();\r\n  }\r\n\r\n  add(x: Vector2): Line {\r\n    return new Line({ \r\n      start: this.start.add(x),\r\n      end: this.end.add(x),\r\n    })\r\n  }\r\n}\r\n","import { Line } from \"./line\";\r\nimport { Vector2, IVector2 } from \"./vector2\";\r\n\r\n/**\r\n * Immutable rectangle class.\r\n */\r\nexport class Rect {\r\n  private _x     : number;\r\n  private _y     : number;\r\n  private _width : number;\r\n  private _height: number;\r\n\r\n  public get x(): number {\r\n    return this._x;\r\n  }\r\n\r\n  public get y(): number {\r\n    return this._y;\r\n  }\r\n\r\n  public get width(): number {\r\n    return this._width;\r\n  }\r\n\r\n  public get height(): number {\r\n    return this._height;\r\n  }\r\n\r\n  public get centerX(): number {\r\n    return this._x + this._width / 2;\r\n  }\r\n\r\n  public get centerY(): number {\r\n    return this._y + this._height / 2;\r\n  }\r\n\r\n  public get right(): number {\r\n    return this._x + this._width;\r\n  }\r\n\r\n  public get bottom(): number {\r\n    return this._y + this._height;\r\n  }\r\n\r\n  public get top(): number {\r\n    return this._y;\r\n  }\r\n\r\n  public get left(): number {\r\n    return this._x;\r\n  }\r\n\r\n  public get center(): Vector2 {\r\n    return new Vector2({ x: this.x + this.width / 2, y: this.y + this.height / 2 });\r\n  }\r\n\r\n  public get dimensions(): Vector2 {\r\n    return new Vector2({ x: this.width, y: this.height });\r\n  }\r\n\r\n  public static FromPoint(point: IVector2, size: number): Rect {\r\n    return new Rect({\r\n      x: point.x,\r\n      y: point.y,\r\n      width: size,\r\n      height: size\r\n    });\r\n  }\r\n\r\n  public static FromPoints(p1: IVector2, p2: IVector2): Rect {\r\n    return new Rect({\r\n      x: Math.min(p1.x, p2.x),\r\n      y: Math.min(p1.y, p2.y),\r\n      width: Math.abs(p1.x - p2.x),\r\n      height: Math.abs(p1.y - p2.y)\r\n    });\r\n  }\r\n\r\n  public withRight(value: number): Rect {\r\n    return new Rect({\r\n      x: this.x,\r\n      y: this.y,\r\n      width: value - this.x,\r\n      height: this.height\r\n    });\r\n  }\r\n\r\n  public withWidth(value: number): Rect {\r\n    return new Rect({\r\n      x: this.x,\r\n      y: this.y,\r\n      width: value,\r\n      height: this.height\r\n    });\r\n  }\r\n\r\n  public withHeight(value: number): Rect {\r\n    return new Rect({\r\n      x: this.x,\r\n      y: this.y,\r\n      width: this.width,\r\n      height: value\r\n    });\r\n  }\r\n\r\n  public withBottom(value: number): Rect {\r\n    return new Rect({\r\n      x: this.x,\r\n      y: this.y,\r\n      width: this.width,\r\n      height: value - this.y\r\n    });\r\n  }\r\n\r\n  public withX(value: number): Rect {\r\n    return new Rect({\r\n      x: value,\r\n      y: this.y,\r\n      width: this.width,\r\n      height: this.height\r\n    });\r\n  }\r\n\r\n  public withY(value: number): Rect {\r\n    return new Rect({\r\n      x: this.x,\r\n      y: value,\r\n      width: this.width,\r\n      height: this.height\r\n    });\r\n  }\r\n\r\n  public withTop(value: number): Rect {\r\n    return this.withY(value);\r\n  }\r\n\r\n  public withLeft(value: number): Rect {\r\n    return this.withX(value);\r\n  }\r\n\r\n  /**\r\n   * bottomRight is held constant.\r\n   */\r\n  public withTopLeft(topLeft: IVector2): Rect {\r\n    return Rect.FromPoints(topLeft, this.bottomRight);\r\n  }\r\n\r\n  /**\r\n   * bottomLeft is held constant.\r\n   */\r\n  public withTopRight(topRight: IVector2): Rect {\r\n    return Rect.FromPoints(topRight, this.bottomLeft);\r\n  }\r\n\r\n  /**\r\n   * topLeft is held constant.\r\n   */\r\n  public withBottomRight(bottomRight: IVector2): Rect {\r\n    return Rect.FromPoints(bottomRight, this.topLeft);\r\n  }\r\n\r\n  /**\r\n   * topRight is held constant.\r\n   */\r\n  public withBottomLeft(bottomLeft: IVector2): Rect {\r\n    return Rect.FromPoints(bottomLeft, this.topRight);\r\n  }\r\n\r\n  public get topLeft(): Vector2 {\r\n    return new Vector2({\r\n      x: this.x,\r\n      y: this.y\r\n    });\r\n  }\r\n\r\n  public get topRight(): Vector2 {\r\n    return new Vector2({\r\n      x: this.right,\r\n      y: this.y\r\n    });\r\n  }\r\n\r\n  public get bottomRight(): Vector2 {\r\n    return new Vector2({\r\n      x: this.right,\r\n      y: this.bottom\r\n    });\r\n  }\r\n\r\n  public get bottomLeft(): Vector2 {\r\n    return new Vector2({\r\n      x: this.x,\r\n      y: this.bottom\r\n    });\r\n  }\r\n\r\n  constructor(props: { x: number; y: number; width: number; height: number }) {\r\n    this._x      = props.x;\r\n    this._y      = props.y;\r\n    this._width  = props.width;\r\n    this._height = props.height;\r\n  }\r\n\r\n  static DeserializeRect(s: string): Rect {\r\n    const [x, y, w, h] = s.split(\"|\").map(x => Number(x));\r\n\r\n    return new Rect({ x, y, width: w, height: h });\r\n  }\r\n\r\n  /**\r\n   * Return the four edges of this Rect as Lines.\r\n   */\r\n  getLinesFromRect(): Line[] {\r\n    return [\r\n      new Line({ x1: this.x, y1: this.y, x2: this.x + this.width, y2: this.y }),\r\n      new Line({ x1: this.x, y1: this.y, x2: this.x, y2: this.y + this.height }),\r\n      new Line({\r\n        x1: this.x + this.width,\r\n        y1: this.y + this.height,\r\n        x2: this.x + this.width,\r\n        y2: this.y\r\n      }),\r\n      new Line({\r\n        x1: this.x + this.width,\r\n        y1: this.y + this.height,\r\n        x2: this.x,\r\n        y2: this.y + this.height\r\n      })\r\n    ];\r\n  }\r\n\r\n  /**\r\n   * Return the four corners of this Rect.\r\n   */\r\n  getCorners(): Vector2[] {\r\n    return [\r\n      new Vector2({ x: this.x, y: this.y }),\r\n      new Vector2({ x: this.x + this.width, y: this.y }),\r\n      new Vector2({ x: this.x, y: this.y + this.height }),\r\n      new Vector2({ x: this.x + this.width, y: this.y + this.height })\r\n    ];\r\n  }\r\n\r\n  serialize(): string {\r\n    return `${this.x}|${this.y}|${this.width}|${this.height}`;\r\n  }\r\n\r\n  // consider overlapping edges as intersection, but not overlapping corners.\r\n  intersects(\r\n    other: Rect,\r\n    props: { edgesOnlyIsAnIntersection: boolean } = { edgesOnlyIsAnIntersection: false }\r\n  ): boolean {\r\n    const intersection = this.getIntersection(other, true);\r\n\r\n    if (props.edgesOnlyIsAnIntersection) {\r\n      return !!intersection && (intersection.width > 0 || intersection.height > 0);\r\n    } else {\r\n      return !!intersection && intersection.width * intersection.height > 0;\r\n    }\r\n  }\r\n\r\n  completelyContains(smaller: Rect): boolean {\r\n    return (\r\n      this.x <= smaller.x &&\r\n      this.x + this.width >= smaller.x + smaller.width &&\r\n      this.y <= smaller.y &&\r\n      this.y + this.height >= smaller.y + smaller.height\r\n    );\r\n  }\r\n\r\n  getIntersection(\r\n    other: Rect,\r\n    edgesOnlyIsAnIntersection = false\r\n  ): Rect | undefined {\r\n    const xmin = Math.max(this.x, other.x);\r\n    const xmax1 = this.x + this.width;\r\n    const xmax2 = other.x + other.width;\r\n    const xmax = Math.min(xmax1, xmax2);\r\n\r\n    if (xmax > xmin || (edgesOnlyIsAnIntersection && xmax >= xmin)) {\r\n      const ymin = Math.max(this.y, other.y);\r\n      const ymax1 = this.y + this.height;\r\n      const ymax2 = other.y + other.height;\r\n      const ymax = Math.min(ymax1, ymax2);\r\n\r\n      if (ymax >= ymin || (edgesOnlyIsAnIntersection && ymax >= ymin)) {\r\n        return new Rect({\r\n          x: xmin,\r\n          y: ymin,\r\n          width: xmax - xmin,\r\n          height: ymax - ymin\r\n        });\r\n      }\r\n    }\r\n\r\n    return undefined;\r\n  }\r\n\r\n  contains(p: IVector2): boolean {\r\n    return (\r\n      p.x >= this.x &&\r\n      p.x < this.x + this.width &&\r\n      p.y >= this.y &&\r\n      p.y < this.y + this.height\r\n    );\r\n  }\r\n\r\n  clone(): Rect {\r\n    return new Rect({ x: this.x, y: this.y, width: this.width, height: this.height });\r\n  }\r\n\r\n  add(p: IVector2): Rect {\r\n    return this.translate(p);\r\n  }\r\n\r\n  subtract(p: IVector2): Rect {\r\n    return this.translate({ x: -p.x, y: -p.y });\r\n  }\r\n\r\n\r\n  translate(p: IVector2): Rect {\r\n    return new Rect({\r\n      x: this.x + p.x,\r\n      y: this.y + p.y,\r\n      width: this.width,\r\n      height: this.height\r\n    });\r\n  }\r\n\r\n  scale(p: Vector2): Rect {\r\n    return new Rect({\r\n      x: this.x,\r\n      y: this.y,\r\n      width: this.width * p.x,\r\n      height: this.height * p.y\r\n    });\r\n  }\r\n\r\n  centeredAtOrigin(): Rect {\r\n    return new Rect({\r\n      x: -this.width / 2,\r\n      y: -this.height / 2,\r\n      width: this.width,\r\n      height: this.height\r\n    });\r\n  }\r\n\r\n  equals(o: Rect | undefined | null): boolean {\r\n    if (!o) {\r\n      return false;\r\n    }\r\n\r\n    return this.x === o.x && this.y === o.y && this.width === o.width && this.height === o.height;\r\n  }\r\n\r\n  toJSON(): any {\r\n    return {\r\n      x: this.x,\r\n      y: this.y,\r\n      w: this.width,\r\n      h: this.height,\r\n      reviver: \"Rect\"\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Adds amount to both width and height.\r\n   */\r\n  extend(amount: number): Rect {\r\n    return new Rect({\r\n      x: this.x,\r\n      y: this.y,\r\n      width: this.width + amount,\r\n      height: this.height + amount\r\n    });\r\n  }\r\n\r\n  shrink(amount: number): Rect {\r\n    return new Rect({\r\n      x: this.x + amount,\r\n      y: this.y + amount,\r\n      width: Math.max(this.width - amount * 2, 0),\r\n      height: Math.max(this.height - amount * 2, 0)\r\n    });\r\n  }\r\n\r\n  floor(): Rect {\r\n    return new Rect({\r\n      x: Math.floor(this.x),\r\n      y: Math.floor(this.y),\r\n      width: Math.floor(this.width),\r\n      height: Math.floor(this.height)\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Grow the Rect by amount in all directions.\r\n   */\r\n  expand(amount: number): Rect {\r\n    return this.shrink(-amount);\r\n  }\r\n\r\n  transform(trans: Vector2, scale: number): Rect {\r\n    const topLeft = this.topLeft.transform(trans, scale);\r\n    const botRight = this.bottomRight.transform(trans, scale);\r\n\r\n    return new Rect({\r\n      x: topLeft.x,\r\n      y: topLeft.y,\r\n      width: botRight.x - topLeft.x,\r\n      height: botRight.y - topLeft.y\r\n    });\r\n  }\r\n\r\n  static Deserialize(obj: any): Rect {\r\n    if (\r\n      !obj.hasOwnProperty(\"x\") ||\r\n      !obj.hasOwnProperty(\"y\") ||\r\n      !obj.hasOwnProperty(\"w\") ||\r\n      !obj.hasOwnProperty(\"h\")\r\n    ) {\r\n      console.error(\"Failed deserializing Rect\");\r\n    }\r\n\r\n    return new Rect({\r\n      x: obj.x,\r\n      y: obj.y,\r\n      width: obj.w,\r\n      height: obj.h\r\n    });\r\n  }\r\n\r\n  static Serialize(r: Rect): string {\r\n    return JSON.stringify({\r\n      x: r.x,\r\n      y: r.y,\r\n      w: r.width,\r\n      h: r.height\r\n    });\r\n  }\r\n\r\n  toString(): string {\r\n    return `[${this.x}, ${this.y}]`;\r\n  }\r\n}\r\n","import { Rect } from \"./rect\";\r\nimport { Vector2 } from \"./vector2\";\r\n\r\n\r\nexport class RectGroup {\r\n  private _rects: Rect[];\r\n\r\n  constructor(rects: Rect[]) {\r\n    this._rects = rects;\r\n  }\r\n\r\n  intersects(other: Rect | RectGroup) {\r\n    if (other instanceof Rect) {\r\n      for (const rect of this._rects) {\r\n        if (rect.intersects(other)) {\r\n          return true;\r\n        }\r\n      }\r\n\r\n      return false;\r\n    }\r\n\r\n    if (other instanceof RectGroup) {\r\n      for (const r1 of this._rects) {\r\n        for (const r2 of this._rects) {\r\n          if (r1.intersects(r2)) {\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n\r\n      return false;\r\n    }\r\n  }\r\n\r\n  getRects(): Rect[] {\r\n    return this._rects;\r\n  }\r\n\r\n  add(delta: Vector2): RectGroup {\r\n    const newRects = this._rects.map(rect => rect.add(delta));\r\n\r\n    return new RectGroup(newRects);\r\n  }\r\n\r\n  subtract(delta: Vector2): RectGroup {\r\n    const newRects = this._rects.map(rect => rect.subtract(delta));\r\n\r\n    return new RectGroup(newRects);\r\n  }\r\n}","export const IS_PRODUCTION  = !window.location.href.includes(\"localhost\") || window.location.href.includes(\"debug=false\");\r\nexport const IS_DEVELOPMENT = !IS_PRODUCTION;\r\nexport const IS_DEBUG       = (IS_DEVELOPMENT || window.location.href.includes(\"debug=true\")) && !(window.location.href.includes(\"debug=false\"));","import { Vector2, IVector2 } from \"./geometry/vector2\";\r\nimport { Graphics, Sprite, Container } from \"pixi.js\";\r\nimport { Line } from \"./geometry/line\";\r\nimport { Entity } from \"./entity\";\r\nimport { Rect } from \"./geometry/rect\";\r\nimport { RectGroup } from \"./geometry/rect_group\";\r\nimport { GameReference } from \"./base_game\";\r\nimport { BaseGameState } from \"./base_state\";\r\nimport { IS_DEBUG, IS_PRODUCTION } from \"./environment\";\r\n\r\nconst MAX_DEBUGGING_GRAPHICS_COUNT = 500;\r\n\r\nexport class Debug {\r\n  public static stageReference: Entity;\r\n\r\n  public static DebugMode = false;\r\n\r\n  public static DebugGraphicStack: Graphics[] = [];\r\n\r\n  public static Clear(): void {\r\n    for (const debug of Debug.DebugGraphicStack) {\r\n      debug.parent.removeChild(debug);\r\n      debug.destroy();\r\n    }\r\n\r\n    Debug.DebugGraphicStack = [];\r\n  }\r\n\r\n  /** \r\n   * Draw a point on the canvas.\r\n   * \r\n   * We expect this function to be called every tick in an update() function.\r\n   * Debug graphics drawn in the previous tick are removed in the game loop. \r\n   * If that's not what you want, pass persistent = true.\r\n   */\r\n  public static DrawPoint(point: IVector2, color = 0xff0000, persistent = false): Graphics {\r\n    if (IS_PRODUCTION) {\r\n      console.error(\"SHOULD NOT HAPPEN\")\r\n    }\r\n\r\n    const graphics = new Graphics();\r\n\r\n    new Line({\r\n      x1: point.x - 40,\r\n      x2: point.x + 40,\r\n\r\n      y1: point.y - 40,\r\n      y2: point.y + 40,\r\n    }).drawOnto(graphics, color);\r\n\r\n    new Line({\r\n      x1: point.x + 40,\r\n      x2: point.x - 40,\r\n\r\n      y1: point.y - 40,\r\n      y2: point.y + 40,\r\n    }).drawOnto(graphics, color);\r\n\r\n    GameReference.stage.sprite.addChild(graphics);\r\n\r\n    if (!persistent) {\r\n      this.DebugGraphicStack.push(graphics);\r\n\r\n      if (this.DebugGraphicStack.length > MAX_DEBUGGING_GRAPHICS_COUNT) {\r\n        const toBeRemoved = this.DebugGraphicStack.shift()!;\r\n\r\n        toBeRemoved.parent.removeChild(toBeRemoved);\r\n        toBeRemoved.destroy();\r\n      }\r\n    }\r\n\r\n    return graphics;\r\n  }\r\n\r\n  /** \r\n   * Draw a line from start to end on the canvas, for debugging.\r\n   * \r\n   * We expect this function to be called every tick in an update() function.\r\n   * Debug graphics drawn in the previous tick are removed in the game loop.\r\n   * \r\n   * If that's not what you want, pass persistent = true.\r\n   */\r\n  public static DrawLineV2(start: Vector2, end: Vector2, color = 0xff0000, persistent = false): Graphics {\r\n    if (IS_PRODUCTION) {\r\n      console.error(\"SHOULD NOT HAPPEN\")\r\n    }\r\n\r\n    return Debug.DrawLine(new Line({ start, end }), color, persistent);\r\n  }\r\n\r\n  /** \r\n   * Draw a line on the canvas, for debugging.\r\n   * \r\n   * We expect this function to be called every tick in an update() function.\r\n   * Debug graphics drawn in the previous tick are removed in the game loop.\r\n   * \r\n   * If that's not what you want, pass persistent = true.\r\n   */\r\n  public static DrawLine(line: Line, color = 0xff0000, persistent = false, target: \"stage\" | \"fixed\" = \"fixed\"): Graphics {\r\n    if (IS_PRODUCTION) {\r\n      console.error(\"SHOULD NOT HAPPEN\")\r\n    }\r\n\r\n    const graphics = new Graphics();\r\n\r\n    line.drawOnto(graphics, color);\r\n\r\n    if (target === \"fixed\") {\r\n      GameReference.fixedCameraStage.sprite.addChild(graphics);\r\n    } else {\r\n      GameReference.stage.sprite.addChild(graphics);\r\n    }\r\n\r\n    if (!persistent) {\r\n      this.DebugGraphicStack.push(graphics);\r\n\r\n      if (this.DebugGraphicStack.length > MAX_DEBUGGING_GRAPHICS_COUNT) {\r\n        const toBeRemoved = this.DebugGraphicStack.shift()!;\r\n\r\n        toBeRemoved.parent.removeChild(toBeRemoved);\r\n        toBeRemoved.destroy();\r\n      }\r\n    }\r\n\r\n    return graphics;\r\n  }\r\n\r\n  /** \r\n   * Draw a rectangle from start to end on the canvas, for debugging.\r\n   * \r\n   * We expect this function to be called every tick in an update() function.\r\n   * Debug graphics drawn in the previous tick are removed in the game loop.\r\n   * \r\n   * If that's not what you want, pass persistent = true.\r\n   */\r\n  public static DrawRect(rect: Rect, color = 0xff0000, persistent = false, target: \"stage\" | \"fixed\" = \"fixed\"): Graphics[] {\r\n    if (IS_PRODUCTION) {\r\n      console.error(\"SHOULD NOT HAPPEN\")\r\n    }\r\n\r\n    const lines: Graphics[] = [];\r\n\r\n    for (const line of rect.getLinesFromRect()) {\r\n      lines.push(Debug.DrawLine(line, color, persistent, target));\r\n    }\r\n\r\n    return lines;\r\n  }\r\n\r\n  /** \r\n   * Draw the bounds of a game object on the canvas, for debugging.\r\n   * \r\n   * We expect this function to be called every tick in an update() function.\r\n   * Debug graphics drawn in the previous tick are removed in the game loop.\r\n   * \r\n   * If that's not what you want, pass persistent = true.\r\n   */\r\n  public static DrawBounds(\r\n    entity: Entity | Sprite | Graphics | RectGroup | Container | Rect, \r\n    color = 0xff0000, \r\n    persistent = false,\r\n    target: \"stage\" | \"fixed\" = \"stage\"\r\n  ): Graphics[] {\r\n    if (IS_PRODUCTION) {\r\n      console.error(\"SHOULD NOT HAPPEN\")\r\n    }\r\n\r\n    if (entity instanceof Entity) {\r\n      entity = entity.collisionBounds()\r\n        .add(entity.positionAbsolute())\r\n        ;\r\n    } \r\n    \r\n    if (entity instanceof RectGroup) {\r\n      const results: Graphics[] = [];\r\n\r\n      for (const rect of entity.getRects()) {\r\n        const lines = Debug.DrawRect(rect, color, persistent, target);\r\n\r\n        for (const line of lines) {\r\n          results.push(line);\r\n        }\r\n      }\r\n\r\n      return results;\r\n    } else {\r\n      return Debug.DrawRect(new Rect({\r\n        x     : entity.x,\r\n        y     : entity.y,\r\n        width : entity.width,\r\n        height: entity.height,\r\n      }), color, persistent, target);\r\n    }\r\n  }\r\n\r\n  private static profiles: { [key: string]: number[] } = {};\r\n\r\n  /**\r\n   * Performance test a block of code.\r\n   */\r\n  public static Profile(name: string, cb: () => void): void {\r\n    Debug.profiles[name] = Debug.profiles[name] || [];\r\n\r\n    const start = window.performance.now();\r\n\r\n    cb(); \r\n\r\n    const end = window.performance.now();\r\n\r\n    Debug.profiles[name].push(end - start);\r\n\r\n    if (Debug.profiles[name].length === 60) {\r\n      const average = Debug.profiles[name].reduce((a, b) => a + b) / 60;\r\n      const rounded = Math.floor(average * 100) / 100;\r\n\r\n      Debug.profiles[name] = [];\r\n\r\n      console.log(`${ name }: ${ rounded }ms`)\r\n    }\r\n  }\r\n\r\n  static ResetDrawCount() {\r\n    (Sprite as any).drawCount = 0;\r\n    (Container as any).drawCount = 0;\r\n  }\r\n\r\n  static GetDrawCount() {\r\n    return (\r\n      (Sprite as any).drawCount + \r\n      (Container as any).drawCount\r\n    );\r\n  }\r\n\r\n  public static DebugStuff(state: BaseGameState) {\r\n    if (state.keys.justDown.Z) {\r\n      Debug.DebugMode = true;\r\n\r\n      state.stage.x = 0;\r\n      state.stage.y = 0;\r\n\r\n      if (state.stage.scale.x === 0.2) {\r\n        state.stage.scale = new Vector2({ x: 1, y: 1 });\r\n      } else {\r\n        state.stage.scale = new Vector2({ x: 0.2, y: 0.2 });\r\n      }\r\n    }\r\n\r\n    if (Debug.DebugMode) {\r\n      if (state.keys.down.W) {\r\n        state.stage.y += 20;\r\n      }\r\n\r\n      if (state.keys.down.S) {\r\n        state.stage.y -= 20;\r\n      }\r\n\r\n      if (state.keys.down.D) {\r\n        state.stage.x -= 20;\r\n      }\r\n\r\n      if (state.keys.down.A) {\r\n        state.stage.x += 20;\r\n      }\r\n    }\r\n  }\r\n\r\n  public static DebugShowRect(state: BaseGameState, rect: Rect) {\r\n    state.stage.scale = new Vector2({ x: 0.2, y: 0.2 });\r\n    state.stage.x = -rect.x * 0.2;\r\n    state.stage.y = -rect.y * 0.2;\r\n  }\r\n}\r\n\r\n(Sprite as any).drawCount = 0;\r\n\r\n(Sprite.prototype as any).__render = (Sprite.prototype as any)._render;\r\n(Sprite.prototype as any)._render = function (renderer: any) {\r\n  (Sprite as any).drawCount++;\r\n  this.__render(renderer);\r\n};\r\n\r\n\r\n(Sprite.prototype as any).__renderCanvas = (Sprite.prototype as any)._renderCanvas;\r\n(Sprite.prototype as any)._renderCanvas = function (renderer: any) {\r\n  (Sprite as any).drawCount++;\r\n  this.__renderCanvas(renderer);\r\n};\r\n\r\n\r\n// PIXI.Container\r\n\r\n(Container as any).drawCount = 0;\r\n\r\n(Container.prototype as any).__render = (Container.prototype as any)._render;\r\n(Container.prototype as any)._render = function (renderer: any) {\r\n  (Container as any).drawCount++;\r\n  this.__render(renderer);\r\n};\r\n\r\n\r\n(Container.prototype as any).__renderCanvas = (Container.prototype as any)._renderCanvas;\r\n(Container.prototype as any)._renderCanvas = function (renderer: any) {\r\n  (Container as any).drawCount++;\r\n  this.__renderCanvas(renderer);\r\n};","export class HashSet<K extends { hash(): string }> {\r\n  private _values: HashMap<K, K>;\r\n\r\n  constructor(initialValues: K[] = []) {\r\n    this._values = new HashMap<K, K>();\r\n\r\n    for (const value of initialValues) {\r\n      this.put(value);\r\n    }\r\n  }\r\n\r\n  remove(key: K): void {\r\n    this._values.remove(key);\r\n  }\r\n\r\n  put(key: K): void {\r\n    this._values.put(key, key);\r\n  }\r\n\r\n  get(key: K): boolean {\r\n    return this._values.get(key) !== undefined;\r\n  }\r\n\r\n  values(): K[] {\r\n    return this._values.values();\r\n  }\r\n}\r\n\r\nexport class HashMap<K extends { hash(): string }, V> {\r\n  private _values: { [key: string]: V } = {};\r\n\r\n  put(key: K, value: V) {\r\n    this._values[key.hash()] = value;\r\n  }\r\n\r\n  remove(key: K): void {\r\n    delete this._values[key.hash()];\r\n  }\r\n\r\n  get(key: K): V {\r\n    return this._values[key.hash()];\r\n  }\r\n\r\n  values(): V[] {\r\n    return Object.keys(this._values).map(key => this._values[key]);\r\n  }\r\n}\r\n\r\nexport class DefaultHashMap<K extends { hash(): string }, V> {\r\n  private _values: { [key: string]: V } = {};\r\n  private _makeDefault: () => V;\r\n\r\n  constructor(makeDefaultValue: () => V) {\r\n    this._makeDefault = makeDefaultValue;\r\n  }\r\n\r\n  put(key: K, value: V) {\r\n    this._values[key.hash()] = value;\r\n  }\r\n\r\n  get(key: K): V {\r\n    if (this._values[key.hash()] === undefined) {\r\n      this._values[key.hash()] = this._makeDefault();\r\n    } \r\n\r\n    return this._values[key.hash()];\r\n  }\r\n}\r\n\r\n","// 2D array that allows for negative indices\r\nexport class Grid<T> {\r\n  private _data: { [key: number]: { [key: number]: T} } = {};\r\n\r\n  getCount() {\r\n    let count = 0;\r\n\r\n    for (const key of Object.keys(this._data)) {\r\n      const inner = this._data[Number(key)];\r\n\r\n      count += Object.keys(inner).length;\r\n    }\r\n\r\n    return count;\r\n  }\r\n\r\n  keys(): { x: number, y: number }[] {\r\n    const result: { x: number, y: number }[] = [];\r\n\r\n    for (const x of Object.keys(this._data)) {\r\n      const inner = this._data[Number(x)];\r\n\r\n      for (const y of Object.keys(inner)) {\r\n        result.push({ \r\n          x: Number(x), \r\n          y: Number(y),\r\n        });\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  set(x: number, y: number, value: T) {\r\n    if (!this._data[x]) {\r\n      this._data[x] = {};\r\n    }\r\n\r\n    this._data[x][y] = value;\r\n  }\r\n\r\n  get(x: number, y: number): T | null {\r\n    if (!this._data[x]) {\r\n      return null;\r\n    }\r\n\r\n    if (this._data[x][y] === undefined) {\r\n      return null;\r\n    }\r\n\r\n    return this._data[x][y];\r\n  }\r\n\r\n  getOrDefault(x: number, y: number, otherwise: T): T {\r\n    const result = this.get(x, y);\r\n\r\n    if (result === null) {\r\n      return otherwise;\r\n    } else {\r\n      return result;\r\n    }\r\n  }\r\n}\r\n","import { Rectangle, Texture } from 'pixi.js'\r\nimport { AssetName } from '../game/assets';\r\nimport { Tile } from './tilemap/tilemap_types';\r\nimport { TypesafeLoader } from './typesafe_loader';\r\nimport { C } from '../game/constants';\r\n\r\nexport class TextureCache {\r\n  static Cache: { [key: string]: Texture } = {};\r\n\r\n  public static GetTextureFromSpritesheet({ resourceName: textureName, x, y, tilewidth, tileheight, assets }: { \r\n    resourceName: AssetName; \r\n    x          : number;\r\n    y          : number;\r\n    tilewidth  : number;\r\n    tileheight : number;\r\n    assets     : TypesafeLoader<{}>;\r\n  }): Texture {\r\n    const key = `${ textureName }-${ x }-${ y }`;\r\n\r\n    if (!TextureCache.Cache[key]) {\r\n      const texture = (assets.getResource(textureName) as Texture).clone();\r\n\r\n      texture.frame = new Rectangle(x * tilewidth, y * tileheight, tilewidth, tileheight);\r\n\r\n      this.Cache[key] = texture;\r\n    }\r\n\r\n    return this.Cache[key];\r\n  }\r\n\r\n  public static GetTextureForTile({ assets, tile }: { assets: TypesafeLoader<{}>; tile: Tile; }): Texture {\r\n    const {\r\n      tile: {\r\n        imageUrlRelativeToGame,\r\n        spritesheetx,\r\n        spritesheety,\r\n      },\r\n    } = tile;\r\n\r\n    return TextureCache.GetTextureFromSpritesheet({ \r\n      // TODO: Is there any way to improve this cast?\r\n      // Once I add a loader for tilemaps, probably yes!\r\n      resourceName: imageUrlRelativeToGame.slice(0, imageUrlRelativeToGame.lastIndexOf(\".\")) as AssetName,\r\n      x          : spritesheetx, \r\n      y          : spritesheety, \r\n      tilewidth  : tile.tile.tilewidth ,\r\n      tileheight : tile.tile.tileheight,\r\n      assets     : assets,\r\n    });\r\n  }\r\n}","import { Entity } from \"../entity\";\r\nimport { Rect } from \"../geometry/rect\";\r\nimport { TiledObjectLayerJSON, Tile } from \"./tilemap_types\";\r\nimport { TextureCache } from \"../texture_cache\";\r\nimport { Grid } from \"../data_structures/grid\";\r\nimport { Texture } from \"pixi.js\";\r\nimport { TiledTilemap, MapLayer } from \"./tilemap\";\r\nimport { TilemapRegion } from \"./tilemap_data\";\r\nimport { TypesafeLoader } from \"../typesafe_loader\";\r\n\r\nexport type GetInstanceTypeProps = {\r\n  layerName: string; \r\n  x: number; \r\n  y: number \r\n}\r\n\r\ntype TilemapCustomObjectSingle = {\r\n  type            : \"single\";\r\n  name            : string;\r\n  getInstanceType : (\r\n    tex: Texture, \r\n    tileProperties: { [key: string]: unknown }, \r\n    props: GetInstanceTypeProps) => Entity | null;\r\n};\r\n\r\ntype TilemapCustomObjectGroup = {\r\n  type                 : \"group\";\r\n  names                : string[];\r\n  getInstanceType      : (tex: Texture) => Entity;\r\n  getGroupInstanceType : (props: GetInstanceTypeProps) => Entity;\r\n};\r\n\r\ntype TilemapCustomObjectRect = {\r\n  type     : \"rect\";\r\n  layerName: string;\r\n  process  : (rect: TilemapRegion) => void;\r\n};\r\n\r\nexport type TilemapCustomObjects = \r\n  | TilemapCustomObjectGroup\r\n  | TilemapCustomObjectSingle\r\n  | TilemapCustomObjectRect\r\n\r\nexport type ObjectInfo = { entity: Entity; layerName: string };\r\n\r\nexport class TiledTilemapObjects {\r\n  private _layers: TiledObjectLayerJSON[];\r\n  private _customObjects: TilemapCustomObjects[];\r\n  private _map: TiledTilemap;\r\n\r\n  /**\r\n   * Every custom object in the game.\r\n   */\r\n  private _allObjects: ObjectInfo[] = [];\r\n\r\n  private _assets: TypesafeLoader<any>;\r\n\r\n  constructor(props: {\r\n    assets       : TypesafeLoader<any>;\r\n    layers       : TiledObjectLayerJSON[];\r\n    customObjects: TilemapCustomObjects[];\r\n    map          : TiledTilemap;\r\n  }) {\r\n    const { layers, customObjects, map } = props;\r\n\r\n    this._assets        = props.assets;\r\n    this._layers        = layers;\r\n    this._customObjects = customObjects;\r\n    this._map           = map;\r\n\r\n    for (const layer of this._layers) {\r\n      const objectsInLayer = this.loadLayer(layer);\r\n\r\n      this._allObjects = [...this._allObjects, ...objectsInLayer];\r\n    }\r\n\r\n    this.turnOffAllObjects();\r\n  }\r\n\r\n  turnOffAllObjects() {\r\n    for (const customObject of this._allObjects) {\r\n      customObject.entity.stopUpdating();\r\n    }\r\n  }\r\n\r\n  loadObjectLayers(): MapLayer[] {\r\n    this.turnOffAllObjects();\r\n\r\n    let result: MapLayer[] = [];\r\n\r\n    for (const layer of this._layers) {\r\n      result.push({\r\n        entity     : new Entity({ name: layer.name }),\r\n        layerName  : layer.name,\r\n        objectLayer: true,\r\n      });\r\n    }\r\n\r\n    for (const object of this._allObjects) {\r\n      const associatedLayer = result.find(obj => obj.layerName === object.layerName)!;\r\n\r\n      associatedLayer.entity.addChild(object.entity);\r\n      object.entity.startUpdating();\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  private loadLayer(layer: TiledObjectLayerJSON): ObjectInfo[] {\r\n    const results: ObjectInfo[] = [];\r\n\r\n    type ObjectInGroup = {\r\n      name : string;\r\n      tile : Tile;\r\n      gridX: number;\r\n      gridY: number;\r\n    };\r\n\r\n    const objectsToGroup: ObjectInGroup[] = [];\r\n\r\n    // Step 0: \r\n    // Add all single objects\r\n\r\n    processNextObject:\r\n    for (const obj of layer.objects) {\r\n      if (!obj.gid) {\r\n        // this is probably a region, so see if we have one of those.\r\n\r\n        for (const customObject of this._customObjects) {\r\n          if (customObject.type === \"rect\" && customObject.layerName === layer.name) {\r\n            customObject.process({\r\n              rect: new Rect({\r\n                  x     : obj.x     ,\r\n                  y     : obj.y     ,\r\n                  width : obj.width ,\r\n                  height: obj.height,\r\n                }),\r\n              properties: TiledTilemap.ParseTiledProperties(obj.properties),\r\n            });\r\n\r\n            continue processNextObject;\r\n          }\r\n        }\r\n\r\n        throw new Error(`on layer ${ layer.name } at position x: ${ obj.x } and y: ${ obj.y } you have a rect region that's not being processed`);\r\n      }\r\n\r\n      const { spritesheet, tileProperties } = this._map._data.gidInfo(obj.gid);\r\n      const objProperties: { [key: string]: unknown } = {};\r\n\r\n      for (const { name, value } of (obj.properties || [])) {\r\n        tileProperties[name] = value;\r\n      }\r\n\r\n      const allProperties = {\r\n        ...tileProperties,\r\n        ...objProperties,\r\n      };\r\n\r\n      let newObj: Entity | null = null;\r\n      let x = obj.x;\r\n      let y = obj.y - spritesheet.tileheight // Tiled pivot point is (0, 1) so we need to subtract by tile height.\r\n\r\n      const tile = {\r\n        x             : x,\r\n        y             : y,\r\n        tile          : spritesheet,\r\n        isCollider    : this._map._data._gidHasCollision[obj.gid] || false,\r\n        gid           : obj.gid,\r\n        tileProperties: allProperties,\r\n      };\r\n\r\n      const tileName = allProperties.name as string;\r\n\r\n      if (tileName === undefined) {\r\n        throw new Error(\"Custom object needs a tile type\");\r\n      }\r\n\r\n      const associatedObject = this._customObjects.find(obj => {\r\n        if (obj.type === \"single\") {\r\n          return obj.name === tileName;\r\n        }\r\n\r\n        if (obj.type === \"group\") {\r\n          return obj.names.includes(tileName);\r\n        }\r\n\r\n        return false;\r\n      });\r\n\r\n      if (associatedObject === undefined) {\r\n        throw new Error(`Unhandled tile type: ${ tileName }`);\r\n      }\r\n\r\n      if (associatedObject.type === \"single\") {\r\n        if (associatedObject.name === tileName) {\r\n          const spriteTex = TextureCache.GetTextureForTile({ assets: this._assets, tile }); \r\n\r\n          newObj = associatedObject.getInstanceType(spriteTex, allProperties, {\r\n            layerName: layer.name,\r\n            x: tile.x,\r\n            y: tile.y,\r\n          });\r\n        }\r\n      } else if (associatedObject.type === \"group\") {\r\n        // add to the list of grouped objects, which we will process later.\r\n\r\n        if (associatedObject.names.includes(tileName)) {\r\n          objectsToGroup.push({\r\n            name: tileName,\r\n            tile: tile,\r\n            // TODO: We're making an assumption that the size of the objects\r\n            // are all the same. I think this is safe tho?\r\n            gridX: tile.x / obj.width,\r\n            gridY: tile.y / obj.height,\r\n          });\r\n        }\r\n      }\r\n\r\n      if (newObj) {\r\n        newObj.x = tile.x;\r\n        newObj.y = tile.y;\r\n\r\n        results.push({\r\n          entity   : newObj,\r\n          layerName: layer.name,\r\n        });\r\n      }\r\n    }\r\n\r\n    // Find all groups and add them\r\n    // Step 1: Load all objects into grid\r\n\r\n    const grid = new Grid<{ obj: ObjectInGroup, grouped: boolean }>();\r\n\r\n    for (const objectToGroup of objectsToGroup) {\r\n      grid.set(objectToGroup.gridX, objectToGroup.gridY, {\r\n        obj    : objectToGroup,\r\n        grouped: false,\r\n      });\r\n    }\r\n\r\n    // Step 2: BFS from each object to find all neighbors which are part of the\r\n    // group.\r\n\r\n    for (const obj of objectsToGroup) {\r\n      const result = grid.get(obj.gridX, obj.gridY);\r\n\r\n      if (!result) { throw new Error(\"Wat\"); }\r\n\r\n      const { grouped } = result;\r\n\r\n      if (grouped) {\r\n        continue;\r\n      }\r\n\r\n      // Step 2a: Find all names of objects in that group\r\n\r\n      let customObject: TilemapCustomObjectGroup | null = null;\r\n\r\n      for (const candidate of this._customObjects) {\r\n        if (candidate.type === \"group\") {\r\n          if (candidate.names.includes(obj.name)) {\r\n            customObject = candidate;\r\n\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (customObject === null) {\r\n        throw new Error(\"HUH!?!?\");\r\n      }\r\n\r\n      // Step 2: Actually run BFS\r\n\r\n      const group: ObjectInGroup[] = [obj];\r\n      const groupEdge: ObjectInGroup[] = [obj];\r\n\r\n      while (groupEdge.length > 0) {\r\n        const current = groupEdge.pop()!;\r\n        const dxdy = [\r\n          [ 1,  0],\r\n          [-1,  0],\r\n          [ 0 , 1],\r\n          [ 0 ,-1],\r\n        ];\r\n\r\n        for (const [dx, dy] of dxdy) {\r\n          const result = grid.get(current.gridX + dx, current.gridY + dy);\r\n\r\n          if (!result) { continue; }\r\n\r\n          const { obj: neighbor, grouped } = result;\r\n\r\n          if (grouped) { continue; }\r\n          if (group.includes(neighbor)) { continue; }\r\n          if (customObject.names.includes(neighbor.name)) {\r\n            group.push(neighbor);\r\n            groupEdge.push(neighbor);\r\n          }\r\n        }\r\n      }\r\n\r\n      // BFS complete; `group` contains entire group.\r\n\r\n      for (const obj of group) {\r\n        grid.get(obj.gridX, obj.gridY)!.grouped = true;\r\n      }\r\n\r\n      // Find (x, y) of group\r\n\r\n      let minTileX = Number.POSITIVE_INFINITY;\r\n      let minTileY = Number.POSITIVE_INFINITY;\r\n\r\n      for (const obj of group) {\r\n        minTileX = Math.min(minTileX, obj.tile.x);\r\n        minTileY = Math.min(minTileY, obj.tile.y);\r\n      }\r\n\r\n      const groupEntity = customObject.getGroupInstanceType({\r\n        layerName: layer.name,\r\n        x        : minTileX,\r\n        y        : minTileY,\r\n      });\r\n\r\n      groupEntity.x = minTileX;\r\n      groupEntity.y = minTileY;\r\n\r\n      for (const obj of group) {\r\n        const spriteTex = TextureCache.GetTextureForTile({ assets: this._assets, tile: obj.tile });\r\n        const objEntity = customObject.getInstanceType(spriteTex);\r\n\r\n        groupEntity.addChild(objEntity);\r\n\r\n        objEntity.x = obj.tile.x - groupEntity.x;\r\n        objEntity.y = obj.tile.y - groupEntity.y;\r\n      }\r\n\r\n      results.push({\r\n        entity   : groupEntity,\r\n        layerName: layer.name,\r\n      });\r\n    }\r\n\r\n    return results;\r\n  }\r\n\r\n  getAllObjects(): ObjectInfo[] {\r\n    return this._allObjects;\r\n  }\r\n}","import { Vector2 } from \"../library/geometry/vector2\";\r\n\r\nexport class C {\r\n  public static CanvasWidth  = 1024;\r\n  public static CanvasHeight = 768;\r\n\r\n  public static InteractionDistance = 600;\r\n\r\n  public static Scale = new Vector2(1 / 4, 1 / 4);\r\n}","import { Sprite, Renderer, RenderTexture } from 'pixi.js'\r\nimport { Rect } from '../geometry/rect'\r\nimport { TiledJSON } from './tilemap_types';\r\nimport { TextureCache } from '../texture_cache';\r\nimport { Entity } from '../entity';\r\nimport { TiledTilemapObjects, TilemapCustomObjects, ObjectInfo } from './tilemap_objects'\r\nimport { TilemapData, TilemapRegion } from './tilemap_data';\r\nimport { Assets } from '../../game/assets';\r\nimport { TypesafeLoader } from '../typesafe_loader';\r\nimport { C } from '../../game/constants';\r\nimport { Vector2 } from '../geometry/vector2';\r\n\r\nexport type MapLayer = {\r\n  layerName  : string;\r\n  entity     : Entity;\r\n  objectLayer: boolean;\r\n};\r\n\r\n// TODO: Handle the weird new file format where tilesets link to ANOTHER json file\r\n\r\nexport class TiledTilemap {\r\n  private _tileWidth  : number;\r\n  private _tileHeight : number;\r\n  private _renderer   : Renderer;\r\n  private _objects    : TiledTilemapObjects;\r\n  private _assets     : TypesafeLoader<any>;\r\n\r\n  _data : TilemapData;\r\n\r\n  constructor({ json: data, renderer, pathToTilemap, customObjects, assets }: { \r\n    // this is required to calculate the relative paths of the tileset images.\r\n    json         : TiledJSON; \r\n    renderer     : Renderer; \r\n    pathToTilemap: string;\r\n    customObjects: TilemapCustomObjects[];\r\n    assets       : TypesafeLoader<any>;\r\n  }) {\r\n    this._data       = new TilemapData({ data, pathToTilemap });\r\n    this._renderer   = renderer;\r\n    this._tileWidth  = this._data.getTileWidth();\r\n    this._tileHeight = this._data.getTileHeight();\r\n    this._assets     = assets;\r\n\r\n    this._objects    = new TiledTilemapObjects({\r\n      layers       : this._data.getAllObjectLayers(),\r\n      customObjects: customObjects,\r\n      map          : this,\r\n      assets       : Assets,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Load all the regions on a specified layer.\r\n   */\r\n  loadRegionLayer(layerName: string): TilemapRegion[] {\r\n    const layer = this._data.getLayer(layerName);\r\n\r\n    if (layer.type === \"rects\") {\r\n      return layer.rects;\r\n    }\r\n\r\n    throw new Error(\"Not a rect layer\");\r\n  }\r\n\r\n  private cache: { [key: string]: MapLayer[] } = {};\r\n\r\n  public loadLayersInRectCached(region: Rect): MapLayer[] {\r\n    // for (const k of Object.keys(this.cache)) {\r\n    //   const obj = this.cache[k]\r\n\r\n    //   for (const l of obj) {\r\n    //     if (l.entity.texture) {\r\n    //       l.entity.texture.destroy();\r\n    //     }\r\n\r\n    //     l.entity.parent?.removeChild(l.entity);\r\n    //   }\r\n    // }\r\n\r\n    this.cache = {};\r\n\r\n    const hash = region.toString();\r\n\r\n    if (!this.cache[hash]) {\r\n      this.cache[hash] = this.loadLayersInRect(region);\r\n    }\r\n\r\n    return this.cache[hash];\r\n  }\r\n\r\n  private loadLayersInRect(region: Rect): MapLayer[] {\r\n    let tileLayers: MapLayer[] = [];\r\n\r\n    // Load tile layers\r\n\r\n    for (const layerName of this._data.getLayerNames()) {\r\n      const layer = this._data.getLayer(layerName);\r\n      if (layer.type !== \"tiles\") { continue; }\r\n\r\n      const renderTexture = RenderTexture.create({\r\n        width : Math.ceil(region.width  * C.Scale.x),\r\n        height: Math.ceil(region.height * C.Scale.y),\r\n      });\r\n\r\n      const tileWidth  = this._tileWidth;\r\n      const tileHeight = this._tileHeight;\r\n\r\n      const iStart = region.x / tileWidth;\r\n      const jStart = region.y / tileHeight;\r\n\r\n      if (iStart !== Math.floor(iStart) || jStart !== Math.floor(jStart)) {\r\n        throw new Error(\"x and y of passed in region aren't divisible by tileWidth/height\")\r\n      }\r\n\r\n      for (let i = region.x / tileWidth; i < region.right / tileWidth; i++) {\r\n        for (let j = region.y / tileHeight; j < region.bottom / tileHeight; j++) {\r\n          const tile = layer.grid.get(i, j);\r\n\r\n          if (!tile) { continue; }\r\n\r\n          const tex = TextureCache.GetTextureForTile({ assets: this._assets, tile });\r\n          const sprite = new Sprite(tex);\r\n\r\n          // We have to offset here because we'd be drawing outside of the\r\n          // bounds of the RenderTexture otherwise.\r\n\r\n          sprite.x = (tile.x - region.x - layer.offset.x) * C.Scale.x;\r\n          sprite.y = (tile.y - region.y - layer.offset.y) * C.Scale.y;\r\n          sprite.width                                   *= C.Scale.x;\r\n          sprite.height                                  *= C.Scale.y;\r\n\r\n          this._renderer.render(sprite, renderTexture, false);\r\n        }\r\n      }\r\n\r\n      const layerEntity = new Entity({ \r\n        texture: renderTexture, \r\n        name   : layerName,\r\n      });\r\n\r\n      layerEntity.x      = region.x;\r\n      layerEntity.y      = region.y;\r\n      layerEntity.width  = region.width;\r\n      layerEntity.height = region.height;\r\n\r\n      tileLayers.push({\r\n        entity     : layerEntity,\r\n        layerName  ,\r\n        objectLayer: false,\r\n      });\r\n    }\r\n\r\n    // Load object layers\r\n    // TODO: only load objects in this region - not the entire layer!!!\r\n\r\n    const objectLayers = this._objects.loadObjectLayers();\r\n\r\n    for (const objectLayer of objectLayers) {\r\n      objectLayer.entity.zIndex = 5; // TODO\r\n    }\r\n\r\n    for (const tileLayer of tileLayers) {\r\n      tileLayer.entity.zIndex = 0;\r\n    }\r\n\r\n    tileLayers = [...tileLayers, ...objectLayers];\r\n\r\n    return tileLayers;\r\n  }\r\n\r\n  turnOffAllObjects() {\r\n    this._objects.turnOffAllObjects();\r\n  }\r\n\r\n  getAllObjects(): ObjectInfo[] {\r\n    return this._objects.getAllObjects();\r\n  }\r\n\r\n  public static ParseTiledProperties(properties: { name: string; type: string; value: string }[] | undefined): { [key: string]: string } {\r\n    const result: { [key: string]: string } = {};\r\n\r\n    if (properties === undefined) {\r\n      return {};\r\n    }\r\n\r\n    for (const obj of properties) {\r\n      result[obj.name] = obj.value;\r\n    }\r\n\r\n    return result;\r\n  }\r\n}\r\n","import { BaseTextEntity } from \"./base_text_entity\";\r\nimport { BaseGameState } from \"./base_state\";\r\n\r\nexport type TextAlignType = \"left\" | \"right\" | \"center\";\r\n\r\nexport type TextEntityStyle = {\r\n  color   : string;\r\n  fontSize: number;\r\n  align  ?: TextAlignType;\r\n}\r\n\r\nexport type TextStyles = {\r\n  [key: string]: TextEntityStyle;\r\n}\r\n\r\nexport type TextSegment = {\r\n  text : string;\r\n  style: TextEntityStyle;\r\n}\r\n\r\nexport enum TextSegmentState {\r\n  NormalText,\r\n  IdText,\r\n  StyledText,\r\n}\r\n\r\nexport const AdvanceState = (currentState: TextSegmentState): TextSegmentState => {\r\n  if (currentState === TextSegmentState.NormalText) {\r\n    return TextSegmentState.IdText;\r\n  } else if (currentState === TextSegmentState.IdText) {\r\n    return TextSegmentState.StyledText;\r\n  } else if (currentState === TextSegmentState.StyledText) {\r\n    return TextSegmentState.NormalText;\r\n  }\r\n\r\n  return undefined as any; // stupid typechecker\r\n}\r\n\r\n/**\r\n * Format: \r\n * \r\n * \"%1%This is some red text% normal text %2%blue text!%\".\r\n */\r\nexport class TextEntity extends BaseTextEntity<BaseGameState> {\r\n  customStyles: TextStyles;\r\n  defaultStyle: TextEntityStyle;\r\n\r\n  public static StandardStyles: TextStyles = {\r\n    1: { color: \"white\", fontSize: 32, align: \"left\" },\r\n    2: { color: \"cyan\"  , fontSize: 40, align: \"left\" },\r\n  };\r\n\r\n  /**\r\n   * Format: \r\n   * \r\n   * \"%1%This is some red text% normal text %2%blue text!%\".\r\n   */\r\n  constructor({ \r\n    text, \r\n    styles   = TextEntity.StandardStyles, \r\n    width    = 500, \r\n    height   = 300,\r\n    color    = \"white\",\r\n    fontSize = 32,\r\n    align    = \"left\",\r\n  }: { text: string; styles?: TextStyles; width?: number; height?: number; color?: string; fontSize?: number; align ?: TextAlignType }) {\r\n    super(\"\" , width, height);\r\n\r\n    this.defaultStyle = { color, fontSize, align };\r\n    this.customStyles = styles;\r\n    this.setText(text);\r\n  }\r\n\r\n  setText(text: string): void {\r\n    if (text === \"\") {\r\n      this.html = \"\";\r\n\r\n      return;\r\n    }\r\n\r\n    const textSegments = this.buildTextSegments(text);\r\n\r\n    const html = textSegments.map(segment => {\r\n      return (\r\n        `<span \r\n          style=\"\r\n            color: ${ segment.style.color }; \r\n            font-family: FreePixel; \r\n            text-align: ${ segment.style.align || \"left\" };\r\n            font-size: ${ segment.style.fontSize }px;\"\r\n        >${ segment.text }</span>`\r\n      );\r\n    }).join(\"\").replace(/\\n/g, \"\");\r\n\r\n    this.html = html;\r\n  }\r\n\r\n  // TODO: This is a hard function to write properly.\r\n  // This only works after the CSS has loaded \r\n  calculateTextWidth = (text: string) => {\r\n    const canvas = document.getElementById(\"canvas2d\")! as HTMLCanvasElement;\r\n    const context = canvas.getContext(\"2d\")!;\r\n    context.font = `${ this.defaultStyle.fontSize }px FreePixel`;\r\n    const calculatedWidth = context.measureText(text).width;\r\n\r\n    return calculatedWidth;\r\n  };\r\n\r\n  buildTextSegments(text: string): TextSegment[] {\r\n    let i = 0;\r\n    const readChar = () => text[i++];\r\n    let state = TextSegmentState.NormalText;\r\n\r\n    const segments: TextSegment[] = [{\r\n      text: \"\",\r\n      style: this.defaultStyle,\r\n    }];\r\n\r\n    let id = \"\";\r\n\r\n    while (i < text.length) {\r\n      const ch = readChar();\r\n\r\n      if (ch === \"%\") {\r\n        if (state === TextSegmentState.NormalText) {\r\n          id = \"\";\r\n        } else if (state === TextSegmentState.IdText) {\r\n          segments.push({\r\n            text: \"\",\r\n            style: this.customStyles[id],\r\n          });\r\n        } else if (state === TextSegmentState.StyledText) {\r\n          segments.push({\r\n            text: \"\",\r\n            style: this.defaultStyle,\r\n          });\r\n        }\r\n\r\n        state = AdvanceState(state);\r\n        \r\n        continue;\r\n      } else {\r\n        if (state === TextSegmentState.NormalText) {\r\n          segments[segments.length - 1].text += ch;\r\n        } else if (state === TextSegmentState.IdText) {\r\n          id += ch;\r\n        } else if (state === TextSegmentState.StyledText) {\r\n          segments[segments.length - 1].text += ch;\r\n        }\r\n      }\r\n    } \r\n\r\n    return segments.filter(segment => segment.text.trim() !== \"\");\r\n  }\r\n\r\n  // public set width(value: number) {\r\n  //   this.sprite.width = value;\r\n  //   // this.buildTextGraphic();\r\n  // }\r\n\r\n  // public set height(value: number) {\r\n  //   this.sprite.width = value;\r\n  //   // this.buildTextGraphic();\r\n  // }\r\n\r\n}","import { TiledJSON, Tileset, Tile, TiledLayerTypes, TiledTileLayerJSON, TiledObjectLayerJSON, SpritesheetTile } from \"./tilemap_types\";\r\nimport { Grid } from \"../data_structures/grid\";\r\nimport { Rect } from \"../geometry/rect\";\r\nimport { RectGroup } from \"../geometry/rect_group\";\r\nimport { Vector2 } from \"../geometry/vector2\";\r\nimport { TiledTilemap } from \"./tilemap\";\r\nimport { Util } from \"../util\";\r\n\r\nexport type TilemapRegion = {\r\n  rect      : Rect;\r\n  properties: { [key: string]: string };\r\n}\r\n\r\nexport type TilemapLayer = \r\n  | {\r\n    type: \"tiles\";\r\n    grid: Grid<Tile>;\r\n    offset: Vector2;\r\n  } | {\r\n    type : \"rects\";\r\n    rects: TilemapRegion[];\r\n    offset: Vector2;\r\n  }\r\n\r\nexport class TilemapData {\r\n  private _data      : TiledJSON;\r\n  private _tileWidth : number;\r\n  private _tileHeight: number;\r\n  private _layers    : { [tilesetName: string]: TilemapLayer };\r\n  private _tilesets  : Tileset[];\r\n\r\n  // (should be private, but cant be for organization reasons)\r\n  _gidHasCollision: { [id: number]: boolean } = {};\r\n\r\n  constructor(props: { \r\n    data         : TiledJSON;\r\n    pathToTilemap: string;\r\n  }) {\r\n    const { data, pathToTilemap } = props;\r\n\r\n    this._data = data;\r\n    this._tileWidth       = this._data.tilewidth;\r\n    this._tileHeight      = this._data.tileheight;\r\n    this._gidHasCollision = this.buildCollisionInfoForTiles()\r\n    this._tilesets        = this.loadTilesets(pathToTilemap, this._data);\r\n    this._layers          = this.loadTileLayers();\r\n  }\r\n\r\n  isGidCollider(gid: number): boolean {\r\n    return this._gidHasCollision[gid] || false;\r\n  }\r\n\r\n  getTileWidth(): number {\r\n    return this._tileWidth;\r\n  }\r\n\r\n  getTileHeight(): number {\r\n    return this._tileHeight;\r\n  }\r\n\r\n  getTilesets(): Tileset[] {\r\n    return this._tilesets;\r\n  }\r\n\r\n  private loadTilesets(pathToTilemap: string, json: TiledJSON): Tileset[] {\r\n    const tilesets: Tileset[] = [];\r\n\r\n    for (const { image: imageUrlRelativeToTilemap, name, firstgid, imageheight, imagewidth, tileheight, tilewidth, tiles } of json.tilesets) {\r\n      const tileCountInTileset = (imageheight * imagewidth) / (tileheight * tilewidth);\r\n      const imageUrlRelativeToGame = \r\n        new URL(pathToTilemap + \"/\" + imageUrlRelativeToTilemap, \"http://a\").href.slice(\"http://a\".length + 1); // slice off the initial / too\r\n\r\n      tilesets.push({\r\n        name,\r\n        imageUrlRelativeToTilemap,\r\n        imageUrlRelativeToGame,\r\n        imagewidth,\r\n        imageheight,\r\n        tilewidth,\r\n        tileheight,\r\n        tiles,\r\n\r\n        gidStart: firstgid,\r\n        gidEnd  : firstgid + tileCountInTileset,\r\n      });\r\n    }\r\n\r\n    return tilesets;\r\n  }\r\n\r\n  private buildCollisionInfoForTiles(): { [key: number]: boolean } {\r\n    // Build a dumb (for now) object of collision ids by just checking if the\r\n    // tile literally has any collision object at all and takes that to mean the\r\n    // entire thing is covered.\r\n\r\n    // We could improve this if we want!\r\n\r\n    const gidHasCollision: { [id: number]: boolean } = {};\r\n\r\n    for (const tileset of this._data.tilesets) {\r\n      if (tileset.tiles) {\r\n        for (const tileAndCollisionObjects of tileset.tiles) {\r\n          if (!tileAndCollisionObjects.objectgroup) {\r\n            continue;\r\n          }\r\n\r\n          if (tileAndCollisionObjects.objectgroup.objects.length > 0) {\r\n            gidHasCollision[\r\n              tileAndCollisionObjects.id + tileset.firstgid\r\n            ] = true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return gidHasCollision;\r\n  }\r\n\r\n  getLayerNames(): string[] {\r\n    return Object.keys(this._layers);\r\n  }\r\n\r\n  private getAllLayers(): (TiledTileLayerJSON | TiledObjectLayerJSON)[] {\r\n    return this._getAllLayersHelper(this._data.layers);\r\n  }\r\n\r\n  getLayer(layerName: string) {\r\n    return this._layers[layerName];\r\n  }\r\n\r\n  /**\r\n   * Returns all layers as a flat array - most notably flattens\r\n   * layer groups, which are nested.\r\n   */\r\n  private _getAllLayersHelper(root: TiledLayerTypes[]): (TiledTileLayerJSON | TiledObjectLayerJSON)[] {\r\n    let result: (TiledTileLayerJSON | TiledObjectLayerJSON)[] = [];\r\n\r\n    for (const layer of root) {\r\n      if (layer.type === \"group\") {\r\n        result = [...result, ...this._getAllLayersHelper(layer.layers)];\r\n      } else {\r\n        result.push(layer);\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  getAllObjectLayers(): TiledObjectLayerJSON[] {\r\n    const allLayers = this.getAllLayers();\r\n    const objectLayers: TiledObjectLayerJSON[] = [];\r\n\r\n    for (const layer of allLayers) {\r\n      if (layer.type === \"objectgroup\") {\r\n        objectLayers.push(layer);\r\n      }\r\n    }\r\n\r\n    return objectLayers;\r\n  }\r\n\r\n  private loadTileLayers(): { [layerName: string]: TilemapLayer } {\r\n    const result: { [layerName: string]: TilemapLayer } = {};\r\n    const layers = this.getAllLayers();\r\n\r\n    for (const layer of layers) {\r\n      if (layer.type === \"tilelayer\") {\r\n        const grid = this.loadTiles(layer);\r\n\r\n        result[layer.name] = { \r\n          type: \"tiles\",\r\n          grid,\r\n          offset: new Vector2(layer.offsetx, layer.offsety),\r\n        };\r\n      } else if (layer.type === \"objectgroup\") {\r\n        result[layer.name] = this.loadRectLayer(layer);\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  loadRectLayer(layer: TiledObjectLayerJSON): TilemapLayer {\r\n    const objects = layer.objects;\r\n    const rects: TilemapRegion[] = [];\r\n\r\n    for (const obj of objects) {\r\n      if (!obj.gid) {\r\n        rects.push({\r\n          rect: new Rect({\r\n            x: obj.x,\r\n            y: obj.y,\r\n            width: obj.width,\r\n            height: obj.height,\r\n          }),\r\n          properties: TiledTilemap.ParseTiledProperties(obj.properties) || {},\r\n        });\r\n      }\r\n    }\r\n\r\n    return {\r\n      type : \"rects\",\r\n      rects: rects,\r\n      offset: Vector2.Zero,\r\n    };\r\n  }\r\n\r\n  private loadTiles(layer: TiledTileLayerJSON): Grid<Tile> {\r\n    const result = new Grid<Tile>();\r\n    const { chunks } = layer;\r\n\r\n    // TODO: If the world gets very large, loading in all chunks like this might\r\n    // not be the best idea - lazy loading could be better.\r\n\r\n    for (const chunk of chunks) {\r\n      for (let i = 0; i < chunk.data.length; i++) {\r\n        const gid = chunk.data[i];\r\n\r\n        if (gid === 0) { continue; } // empty\r\n        if (gid > 200000) { throw new Error(\"???\"); } // tiled bug? (TODO: does this actually happen?)\r\n\r\n        const relTileX = (i % chunk.width);\r\n        const relTileY = Math.floor(i / chunk.width);\r\n\r\n        if (isNaN(layer.offsetx)) layer.offsetx = 0; // TODO this is indicative of a tmx tileset embed, which we dont support yet\r\n        if (isNaN(layer.offsety)) layer.offsety = 0;\r\n\r\n        const offsetX = layer.offsetx / this._tileWidth;\r\n        const offsetY = layer.offsety / this._tileHeight;\r\n\r\n        if (offsetX !== Math.floor(offsetX) || offsetY !== Math.floor(offsetY)) {\r\n          throw new Error(\"AAAAAAAAAAAAAAAAAAAAAAAAA\");\r\n        }\r\n\r\n        const absTileX = relTileX + chunk.x + offsetX;\r\n        const absTileY = relTileY + chunk.y + offsetY;\r\n\r\n        const { spritesheet, tileProperties } = this.gidInfo(gid);\r\n\r\n        // TODO: Merge instance properties and tileset properties...\r\n\r\n        result.set(absTileX, absTileY, {\r\n          x             : absTileX * this._tileWidth  + layer.offsetx,\r\n          y             : absTileY * this._tileHeight + layer.offsety,\r\n          tile          : spritesheet,\r\n          isCollider    : this.isGidCollider(gid),\r\n          tileProperties: tileProperties,\r\n          gid           : gid,\r\n        });\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  gidInfo(gid: number): {\r\n    spritesheet   : SpritesheetTile;\r\n    tileProperties: { [key: string]: unknown };\r\n  } {\r\n    for (const { gidStart, gidEnd, imageUrlRelativeToGame, imagewidth, tilewidth, tileheight, tiles } of this._tilesets) {\r\n      if (gid >= gidStart && gid < gidEnd) {\r\n        const normalizedGid = gid - gidStart;\r\n        const tilesWide     = imagewidth / tilewidth;\r\n\r\n        const x = (normalizedGid % tilesWide);\r\n        const y = Math.floor(normalizedGid / tilesWide);\r\n\r\n        const spritesheet = {\r\n          imageUrlRelativeToGame,\r\n          spritesheetx: x,\r\n          spritesheety: y,\r\n          tilewidth,\r\n          tileheight,\r\n          tileProperties: tiles,\r\n        };\r\n\r\n        let tileProperties: { [key: string]: unknown } = {};\r\n\r\n        if (tiles) {\r\n          const matchedTileInfo = tiles.find(tile => gid === gidStart + tile.id);\r\n\r\n          if (matchedTileInfo && matchedTileInfo.properties) {\r\n            for (const { name, value } of matchedTileInfo.properties) {\r\n              tileProperties[name] = value;\r\n            }\r\n          }\r\n        }\r\n\r\n        return {\r\n          spritesheet,\r\n          tileProperties,\r\n        };\r\n      }\r\n    }\r\n\r\n    throw new Error(\"gid out of range. ask gabby what to do?!?\");\r\n  }\r\n\r\n  public getTilesAtAbsolutePosition(x: number, y: number): Tile[] {\r\n    return this.getLayerNames()\r\n      .map(layerName => this.getTileAtAbsolutePositionForLayer(x, y, layerName))\r\n      .filter(x => x) as Tile[];\r\n  }\r\n\r\n  public getTileAtAbsolutePositionForLayer(x: number, y: number, layerName: string): Tile | null {\r\n    const tileWidth  = this._tileWidth;\r\n    const tileHeight = this._tileHeight;\r\n\r\n    const layer = this._layers[layerName];\r\n\r\n    if (layer.type === \"tiles\") {\r\n      return layer.grid.get(\r\n        Math.floor(x / tileWidth),\r\n        Math.floor(y / tileHeight)\r\n      );\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  getCollidersInRegion(region: Rect): Rect[] {\r\n    return Util.FlattenByOne(this.getLayerNames().map(layerName => this.getCollidersInRegionForLayer(region, layerName).getRects()));\r\n  }\r\n\r\n  getCollidersInRegionForLayer(region: Rect, layerName: string): RectGroup {\r\n    const lowX = Math.floor(region.x / this._tileWidth);\r\n    const lowY = Math.floor(region.y / this._tileHeight);\r\n\r\n    const highX = Math.ceil(region.right  / this._tileWidth);\r\n    const highY = Math.ceil(region.bottom / this._tileHeight);\r\n\r\n    let colliders: Rect[] = [];\r\n\r\n    for (let x = lowX; x <= highX; x++) {\r\n      for (let y = lowY; y <= highY; y++) {\r\n        const tile = this.getTileAtAbsolutePositionForLayer(\r\n          x * this._tileWidth, \r\n          y * this._tileHeight,\r\n          layerName\r\n        );\r\n        \r\n        if (tile && tile.isCollider) {\r\n          colliders.push(new Rect({\r\n            x: x * this._tileWidth,\r\n            y: y * this._tileHeight,\r\n            width: this._tileWidth,\r\n            height: this._tileHeight,\r\n          }));\r\n        }\r\n      }\r\n    }\r\n\r\n    return new RectGroup(colliders);\r\n  }\r\n}","import { Loader, Texture } from 'pixi.js'\r\nimport { AssetsToLoad } from '../game/assets';\r\nimport { TilemapData } from './tilemap/tilemap_data';\r\nimport { TiledJSON } from './tilemap/tilemap_types';\r\n\r\ntype AnimationResource = {\r\n  type : \"Animation\";\r\n  paths: string[];\r\n};\r\n\r\ntype NormalResource = {\r\n  type: \"Image\" | \"Audio\" | \"TileMap\" | \"TileWorld\" | \"Spritesheet\";\r\n  path: string;\r\n};\r\n\r\ntype IndividualResourceObj = AnimationResource | NormalResource;\r\n\r\ntype ResourceReturn<T extends string> =\r\n  T extends \"Image\"       ? Texture :\r\n  T extends \"Audio\"       ? HTMLAudioElement :\r\n  T extends \"TileMap\"     ? TiledJSON :\r\n  T extends \"TileWorld\"   ? object :\r\n  T extends \"Spritesheet\" ? unknown :\r\n  T extends \"Animation\"   ? Texture[] :\r\n  never\r\n\r\nexport type AllResourcesType = { [key: string]: IndividualResourceObj; };\r\n\r\n/** \r\n * TypeSafe loader is intended to be a wrapper around PIXI.Loader which gives a\r\n * type-checked getResource() check.\r\n */\r\nexport class TypesafeLoader<Resources extends AllResourcesType> {\r\n  loader: Loader;\r\n  loadComplete: boolean;\r\n  loadCompleteCallbacks: (() => void)[];\r\n\r\n  constructor(resourceNames: Resources) {\r\n    this.loadCompleteCallbacks = [];\r\n    this.loader = new Loader();\r\n    this.loadComplete = false;\r\n\r\n    this.startStageOneLoading(resourceNames);\r\n  }\r\n\r\n  // Stage 1: Load all assets in resources.ts\r\n  private startStageOneLoading = (resources: Resources) => {\r\n    for (const key of Object.keys(resources)) {\r\n      const resource = resources[key];\r\n\r\n      if (resource.type === \"Animation\") {\r\n        for (const path of resource.paths) {\r\n          this.loader.add(path);\r\n        }\r\n      } else {\r\n        this.loader.add(resource.path);\r\n      }\r\n    }\r\n\r\n    this.loader.load(this.startStageTwoLoading);\r\n  }\r\n\r\n  // Stage 2: Load all assets required by tilemaps - mostly tilesets, I hope!.\r\n  private startStageTwoLoading = () => {\r\n    let allTilemapDependencyPaths: string[] = [];\r\n\r\n    for (const resource of Object.keys(AssetsToLoad)) {\r\n      const castedResource = resource as keyof typeof AssetsToLoad;\r\n      const pathToTilemap = resource.substring(0, resource.lastIndexOf(\"/\"))\r\n\r\n      if (AssetsToLoad[castedResource].type === \"TileMap\") {\r\n        const tilemapData = new TilemapData({ \r\n          data: this.getResource(castedResource) as TiledJSON, \r\n          pathToTilemap, \r\n        });\r\n\r\n        allTilemapDependencyPaths = allTilemapDependencyPaths.concat(\r\n          tilemapData.getTilesets().map(tileset => tileset.imageUrlRelativeToGame)\r\n        );\r\n      }\r\n    }\r\n\r\n    for (const tilemapDependencyPath of allTilemapDependencyPaths) {\r\n      if (!this.loader.resources[tilemapDependencyPath]) {\r\n        this.loader.add(tilemapDependencyPath);\r\n      }\r\n    }\r\n\r\n    this.loader.load(this.finishLoading);\r\n  }\r\n\r\n  getResource<T extends keyof typeof AssetsToLoad>(resourceName: T): ResourceReturn<(typeof AssetsToLoad)[T]['type']> {\r\n    const resource = AssetsToLoad[resourceName] as IndividualResourceObj;\r\n\r\n    if (resource.type === \"Audio\") {\r\n      return new Audio(resource.path) as any;\r\n    } else if (resource.type === \"Animation\") {\r\n      return resource.paths.map(path => this.loader.resources[path].texture) as any;\r\n    } else if (resource.type === \"Image\") {\r\n      return this.loader.resources[resource.path].texture as any;\r\n    } else if (resource.type === \"Spritesheet\") {\r\n      throw new Error(\"Unhandled\");\r\n    } else if (resource.type === \"TileMap\") {\r\n      return this.loader.resources[resource.path].data;\r\n    } else if (resource.type === \"TileWorld\") {\r\n      return this.loader.resources[resource.path].data;\r\n    }\r\n\r\n    throw new Error(\"AAAAAA\");\r\n  }\r\n\r\n  private finishLoading = () => {\r\n    this.loadComplete = true;\r\n\r\n    for (const callback of this.loadCompleteCallbacks) {\r\n      callback();\r\n    }\r\n\r\n    this.loadCompleteCallbacks = [];\r\n  }\r\n\r\n  onLoadComplete(callback: () => void) {\r\n    if (this.loadComplete) {\r\n      setTimeout(() => {\r\n        callback();\r\n      }, 0);\r\n    } else {\r\n      this.loadCompleteCallbacks.push(callback);\r\n    }\r\n  }\r\n}","// THIS FILE IS AUTOGENERATED from the parameters in config.json. Do not edit it.\r\n// If you want to change something about how it's generated, look at library/asset_builder.ts.\r\n\r\nimport { TypesafeLoader } from \"../library/typesafe_loader\";\r\n\r\nexport type AssetType =\r\n  | \"Image\"\r\n  | \"TileMap\"\r\n  | \"TileWorld\"\r\n  | \"Audio\"\r\n  | \"Spritesheet\"\r\n  | \"Animation\"\r\n\r\nexport type AssetName = keyof typeof AssetsToLoad\r\nexport type AssetPath = \r\n  | \"bigfruit.png\"\r\n  | \"dialog_box.png\"\r\n  | \"dialog_tip.png\"\r\n  | \"exclamation.png\"\r\n  | \"fountain_nowater.png\"\r\n  | \"glow.png\"\r\n  | \"hub bg/hub_bg1.png\"\r\n  | \"interactions.json\"\r\n  | \"map.json\"\r\n  | \"music/Maybe Tomorrow.mp3\"\r\n  | \"music/Sanctuary.mp3\"\r\n  | \"music/The Hub.mp3\"\r\n  | \"music/Vines.mp3\"\r\n  | \"music/Withers.mp3\"\r\n  | \"music.json\"\r\n  | \"npc1.png\"\r\n  | \"npc2.png\"\r\n  | \"npc3.png\"\r\n  | \"npc4.png\"\r\n  | \"npc5.png\"\r\n  | \"owo.png\"\r\n  | \"parallax bg/00 - sky ver2.png\"\r\n  | \"parallax bg/00 - sky.png\"\r\n  | \"parallax bg/01 - skyline back.png\"\r\n  | \"parallax bg/02 - skyline.png\"\r\n  | \"parallax bg/03 - mist.png\"\r\n  | \"parallax bg/04 - city back.png\"\r\n  | \"parallax bg/05 - forest back.png\"\r\n  | \"parallax bg/06 - city.png\"\r\n  | \"parallax bg/07 - forest.png\"\r\n  | \"parallax bg/bigcloud01.png\"\r\n  | \"parallax bg/bigcloud02.png\"\r\n  | \"parallax bg/bigcloud03.png\"\r\n  | \"parallax bg/bigcloud04.png\"\r\n  | \"parallax bg/bigcloud05.png\"\r\n  | \"sound effects/Distant Gears.mp3\"\r\n  | \"sound effects/alert_noise.mp3\"\r\n  | \"sound effects/button 1.mp3\"\r\n  | \"sound effects/button 2.mp3\"\r\n  | \"sound effects/climax sweep.mp3\"\r\n  | \"sound effects/refill spirit.mp3\"\r\n  | \"sound effects/step grass 1.mp3\"\r\n  | \"sound effects/step grass 2.mp3\"\r\n  | \"sound effects/step grass 3.mp3\"\r\n  | \"sound effects/step stone 1.mp3\"\r\n  | \"sound effects/step stone 2.mp3\"\r\n  | \"sound effects/step stone 3.mp3\"\r\n  | \"sound effects/step wood 1.mp3\"\r\n  | \"sound effects/step wood 2.mp3\"\r\n  | \"sound effects/step wood 3.mp3\"\r\n  | \"sound effects/use spirit.mp3\"\r\n  | \"sound effects/voices/voice 1.mp3\"\r\n  | \"sound effects/voices/voice 2.mp3\"\r\n  | \"sound effects/voices/voice 3.mp3\"\r\n  | \"sound effects/voices/voice 4.mp3\"\r\n  | \"sound effects/voices/voice withers.mp3\"\r\n  | \"sound effects/waterfall.mp3\"\r\n  | \"sound effects/withers_chuckle.mp3\"\r\n  | \"spirit_bg_hud.png\"\r\n  | \"spirit_empty_hud.png\"\r\n  | \"spirit_full_hud.png\"\r\n  | \"tileset.png\"\r\n  | \"tileset2.png\"\r\n  | \"titlescreen.png\"\r\n  | \"transparent.png\"\r\n  | \"tree_bg.png\"\r\n  | \"tree_bg_bottom_left.png\"\r\n  | \"tree_bg_bottom_right.png\"\r\n  | \"tree_bg_top_left.png\"\r\n  | \"tree_bg_top_right.png\"\r\n  | \"vine_flower_source.png\"\r\n  | \"world.json\"\r\n  | \"bigshroom (1).png\"\r\n  | \"bigshroom (2).png\"\r\n  | \"bigshroom (3).png\"\r\n  | \"bigshroom (4).png\"\r\n  | \"bigshroom (5).png\"\r\n  | \"bigshroom (6).png\"\r\n  | \"bigshroom (7).png\"\r\n  | \"bud/bud_idle_0000.png\"\r\n  | \"bud/bud_idle_0001.png\"\r\n  | \"bud/bud_idle_0002.png\"\r\n  | \"bud/bud_idle_angery_0000.png\"\r\n  | \"bud/bud_idle_angery_0001.png\"\r\n  | \"bud/bud_idle_angery_0002.png\"\r\n  | \"char_climb (1).png\"\r\n  | \"char_climb (2).png\"\r\n  | \"char_climb (3).png\"\r\n  | \"char_climb (4).png\"\r\n  | \"char_climb (5).png\"\r\n  | \"char_climb (6).png\"\r\n  | \"char_idle (1).png\"\r\n  | \"char_idle (2).png\"\r\n  | \"char_idle (3).png\"\r\n  | \"char_idle (4).png\"\r\n  | \"char_idle (5).png\"\r\n  | \"char_idle (6).png\"\r\n  | \"char_idle (7).png\"\r\n  | \"char_idle (8).png\"\r\n  | \"char_idle (9).png\"\r\n  | \"char_idle (10).png\"\r\n  | \"char_idle (11).png\"\r\n  | \"char_jump (1).png\"\r\n  | \"char_jump (2).png\"\r\n  | \"char_jump (3).png\"\r\n  | \"char_jump (4).png\"\r\n  | \"char_jump (5).png\"\r\n  | \"char_jump (6).png\"\r\n  | \"char_jump (7).png\"\r\n  | \"char_jump (8).png\"\r\n  | \"char_jump (9).png\"\r\n  | \"char_walk (1).png\"\r\n  | \"char_walk (2).png\"\r\n  | \"char_walk (3).png\"\r\n  | \"char_walk (4).png\"\r\n  | \"char_walk (5).png\"\r\n  | \"char_walk (6).png\"\r\n  | \"char_walk (7).png\"\r\n  | \"char_walk (8).png\"\r\n  | \"char_walk (9).png\"\r\n  | \"char_walk (10).png\"\r\n  | \"char_walk (11).png\"\r\n  | \"flower1 (1).png\"\r\n  | \"flower1 (2).png\"\r\n  | \"flower1 (3).png\"\r\n  | \"flower1 (4).png\"\r\n  | \"flower1 (5).png\"\r\n  | \"flower1 (6).png\"\r\n  | \"flower2 (1).png\"\r\n  | \"flower2 (2).png\"\r\n  | \"flower2 (3).png\"\r\n  | \"flower2 (4).png\"\r\n  | \"flower2 (5).png\"\r\n  | \"flower2 (6).png\"\r\n  | \"flower3 (1).png\"\r\n  | \"flower3 (2).png\"\r\n  | \"flower3 (3).png\"\r\n  | \"flower3 (4).png\"\r\n  | \"flower3 (5).png\"\r\n  | \"flowers/blueflower (1).png\"\r\n  | \"flowers/blueflower (2).png\"\r\n  | \"flowers/blueflower (3).png\"\r\n  | \"flowers/blueflower (4).png\"\r\n  | \"flowers/blueflower (5).png\"\r\n  | \"flowers/blueflower (6).png\"\r\n  | \"flowers/grass1 (1).png\"\r\n  | \"flowers/grass1 (2).png\"\r\n  | \"flowers/grass1 (3).png\"\r\n  | \"flowers/grass1 (4).png\"\r\n  | \"flowers/pinkflower (1).png\"\r\n  | \"flowers/pinkflower (2).png\"\r\n  | \"flowers/pinkflower (3).png\"\r\n  | \"flowers/pinkflower (4).png\"\r\n  | \"flowers/pinkflower (5).png\"\r\n  | \"flowers/pinkflower (6).png\"\r\n  | \"flowers/shroom1 (1).png\"\r\n  | \"flowers/shroom1 (2).png\"\r\n  | \"flowers/shroom1 (3).png\"\r\n  | \"flowers/shroom1 (4).png\"\r\n  | \"flowers/shroom2 (1).png\"\r\n  | \"flowers/shroom2 (2).png\"\r\n  | \"flowers/shroom2 (3).png\"\r\n  | \"flowers/shroom2 (4).png\"\r\n  | \"flowers/yellowflowers (1).png\"\r\n  | \"flowers/yellowflowers (2).png\"\r\n  | \"flowers/yellowflowers (3).png\"\r\n  | \"flowers/yellowflowers (4).png\"\r\n  | \"flowers/yellowflowers (5).png\"\r\n  | \"flowey (1).png\"\r\n  | \"flowey (2).png\"\r\n  | \"flowey (3).png\"\r\n  | \"flowey (4).png\"\r\n  | \"flowey (5).png\"\r\n  | \"flowey (6).png\"\r\n  | \"flowey (7).png\"\r\n  | \"fountain (1).png\"\r\n  | \"fountain (2).png\"\r\n  | \"fountain (3).png\"\r\n  | \"grass1 (1).png\"\r\n  | \"grass1 (2).png\"\r\n  | \"grass1 (3).png\"\r\n  | \"grass1 (4).png\"\r\n  | \"mushroom1 (1).png\"\r\n  | \"mushroom1 (2).png\"\r\n  | \"mushroom1 (3).png\"\r\n  | \"mushroom1 (4).png\"\r\n  | \"mushroom1 (5).png\"\r\n  | \"mushroom1 (6).png\"\r\n  | \"notbeam/notbeam_0000.png\"\r\n  | \"notbeam/notbeam_0001.png\"\r\n  | \"notbeam/notbeam_0002.png\"\r\n  | \"notbeam/notbeam_0003.png\"\r\n  | \"shroom1 (1).png\"\r\n  | \"shroom1 (2).png\"\r\n  | \"shroom1 (3).png\"\r\n  | \"shroom1 (4).png\"\r\n  | \"shroom2 (1).png\"\r\n  | \"shroom2 (2).png\"\r\n  | \"shroom2 (3).png\"\r\n  | \"shroom2 (4).png\"\r\n  | \"vine_flower_live (1).png\"\r\n  | \"vine_flower_live (2).png\"\r\n  | \"vine_flower_live (3).png\"\r\n  | \"vine_flower_live (4).png\"\r\n  | \"vine_flower_live (5).png\"\r\n  | \"vine_flower_live (6).png\"\r\n  | \"vine_live (1).png\"\r\n  | \"vine_live (2).png\"\r\n  | \"vine_live (3).png\"\r\n  | \"vine_live (4).png\"\r\n  | \"vine_live (5).png\"\r\n  | \"vine_live (6).png\"\r\n  | \"vine_live (7).png\"\r\n  | \"vine_live (8).png\"\r\n  | \"wisteria (1).png\"\r\n  | \"wisteria (2).png\"\r\n  | \"wisteria (3).png\"\r\n  | \"wisteria (4).png\"\r\n  | \"wisteria (5).png\"\r\n  | \"wisteria (6).png\"\r\n  | \"wisteria (7).png\"\r\n  | \"withers/withers_idle_0000.png\"\r\n  | \"withers/withers_idle_0001.png\"\r\n  | \"withers/withers_idle_0002.png\"\r\n\r\n\r\n\r\nexport const AssetsToLoad = {\r\n  \"bigfruit\"                          : { type: \"Image\"       as const, path: \"bigfruit.png\"                           },\r\n  \"dialog_box\"                        : { type: \"Image\"       as const, path: \"dialog_box.png\"                         },\r\n  \"dialog_tip\"                        : { type: \"Image\"       as const, path: \"dialog_tip.png\"                         },\r\n  \"exclamation\"                       : { type: \"Image\"       as const, path: \"exclamation.png\"                        },\r\n  \"fountain_nowater\"                  : { type: \"Image\"       as const, path: \"fountain_nowater.png\"                   },\r\n  \"glow\"                              : { type: \"Image\"       as const, path: \"glow.png\"                               },\r\n  \"hub bg/hub_bg1\"                    : { type: \"Image\"       as const, path: \"hub bg/hub_bg1.png\"                     },\r\n  \"interactions\"                      : { type: \"TileMap\"     as const, path: \"interactions.json\"                      },\r\n  \"map\"                               : { type: \"TileMap\"     as const, path: \"map.json\"                               },\r\n  \"music/Maybe Tomorrow\"              : { type: \"Audio\"       as const, path: \"music/Maybe Tomorrow.mp3\"               },\r\n  \"music/Sanctuary\"                   : { type: \"Audio\"       as const, path: \"music/Sanctuary.mp3\"                    },\r\n  \"music/The Hub\"                     : { type: \"Audio\"       as const, path: \"music/The Hub.mp3\"                      },\r\n  \"music/Vines\"                       : { type: \"Audio\"       as const, path: \"music/Vines.mp3\"                        },\r\n  \"music/Withers\"                     : { type: \"Audio\"       as const, path: \"music/Withers.mp3\"                      },\r\n  \"music\"                             : { type: \"TileMap\"     as const, path: \"music.json\"                             },\r\n  \"npc1\"                              : { type: \"Image\"       as const, path: \"npc1.png\"                               },\r\n  \"npc2\"                              : { type: \"Image\"       as const, path: \"npc2.png\"                               },\r\n  \"npc3\"                              : { type: \"Image\"       as const, path: \"npc3.png\"                               },\r\n  \"npc4\"                              : { type: \"Image\"       as const, path: \"npc4.png\"                               },\r\n  \"npc5\"                              : { type: \"Image\"       as const, path: \"npc5.png\"                               },\r\n  \"owo\"                               : { type: \"Image\"       as const, path: \"owo.png\"                                },\r\n  \"parallax bg/00 - sky ver2\"         : { type: \"Image\"       as const, path: \"parallax bg/00 - sky ver2.png\"          },\r\n  \"parallax bg/00 - sky\"              : { type: \"Image\"       as const, path: \"parallax bg/00 - sky.png\"               },\r\n  \"parallax bg/01 - skyline back\"     : { type: \"Image\"       as const, path: \"parallax bg/01 - skyline back.png\"      },\r\n  \"parallax bg/02 - skyline\"          : { type: \"Image\"       as const, path: \"parallax bg/02 - skyline.png\"           },\r\n  \"parallax bg/03 - mist\"             : { type: \"Image\"       as const, path: \"parallax bg/03 - mist.png\"              },\r\n  \"parallax bg/04 - city back\"        : { type: \"Image\"       as const, path: \"parallax bg/04 - city back.png\"         },\r\n  \"parallax bg/05 - forest back\"      : { type: \"Image\"       as const, path: \"parallax bg/05 - forest back.png\"       },\r\n  \"parallax bg/06 - city\"             : { type: \"Image\"       as const, path: \"parallax bg/06 - city.png\"              },\r\n  \"parallax bg/07 - forest\"           : { type: \"Image\"       as const, path: \"parallax bg/07 - forest.png\"            },\r\n  \"parallax bg/bigcloud01\"            : { type: \"Image\"       as const, path: \"parallax bg/bigcloud01.png\"             },\r\n  \"parallax bg/bigcloud02\"            : { type: \"Image\"       as const, path: \"parallax bg/bigcloud02.png\"             },\r\n  \"parallax bg/bigcloud03\"            : { type: \"Image\"       as const, path: \"parallax bg/bigcloud03.png\"             },\r\n  \"parallax bg/bigcloud04\"            : { type: \"Image\"       as const, path: \"parallax bg/bigcloud04.png\"             },\r\n  \"parallax bg/bigcloud05\"            : { type: \"Image\"       as const, path: \"parallax bg/bigcloud05.png\"             },\r\n  \"sound effects/Distant Gears\"       : { type: \"Audio\"       as const, path: \"sound effects/Distant Gears.mp3\"        },\r\n  \"sound effects/alert_noise\"         : { type: \"Audio\"       as const, path: \"sound effects/alert_noise.mp3\"          },\r\n  \"sound effects/button 1\"            : { type: \"Audio\"       as const, path: \"sound effects/button 1.mp3\"             },\r\n  \"sound effects/button 2\"            : { type: \"Audio\"       as const, path: \"sound effects/button 2.mp3\"             },\r\n  \"sound effects/climax sweep\"        : { type: \"Audio\"       as const, path: \"sound effects/climax sweep.mp3\"         },\r\n  \"sound effects/refill spirit\"       : { type: \"Audio\"       as const, path: \"sound effects/refill spirit.mp3\"        },\r\n  \"sound effects/step grass 1\"        : { type: \"Audio\"       as const, path: \"sound effects/step grass 1.mp3\"         },\r\n  \"sound effects/step grass 2\"        : { type: \"Audio\"       as const, path: \"sound effects/step grass 2.mp3\"         },\r\n  \"sound effects/step grass 3\"        : { type: \"Audio\"       as const, path: \"sound effects/step grass 3.mp3\"         },\r\n  \"sound effects/step stone 1\"        : { type: \"Audio\"       as const, path: \"sound effects/step stone 1.mp3\"         },\r\n  \"sound effects/step stone 2\"        : { type: \"Audio\"       as const, path: \"sound effects/step stone 2.mp3\"         },\r\n  \"sound effects/step stone 3\"        : { type: \"Audio\"       as const, path: \"sound effects/step stone 3.mp3\"         },\r\n  \"sound effects/step wood 1\"         : { type: \"Audio\"       as const, path: \"sound effects/step wood 1.mp3\"          },\r\n  \"sound effects/step wood 2\"         : { type: \"Audio\"       as const, path: \"sound effects/step wood 2.mp3\"          },\r\n  \"sound effects/step wood 3\"         : { type: \"Audio\"       as const, path: \"sound effects/step wood 3.mp3\"          },\r\n  \"sound effects/use spirit\"          : { type: \"Audio\"       as const, path: \"sound effects/use spirit.mp3\"           },\r\n  \"sound effects/voices/voice 1\"      : { type: \"Audio\"       as const, path: \"sound effects/voices/voice 1.mp3\"       },\r\n  \"sound effects/voices/voice 2\"      : { type: \"Audio\"       as const, path: \"sound effects/voices/voice 2.mp3\"       },\r\n  \"sound effects/voices/voice 3\"      : { type: \"Audio\"       as const, path: \"sound effects/voices/voice 3.mp3\"       },\r\n  \"sound effects/voices/voice 4\"      : { type: \"Audio\"       as const, path: \"sound effects/voices/voice 4.mp3\"       },\r\n  \"sound effects/voices/voice withers\": { type: \"Audio\"       as const, path: \"sound effects/voices/voice withers.mp3\" },\r\n  \"sound effects/waterfall\"           : { type: \"Audio\"       as const, path: \"sound effects/waterfall.mp3\"            },\r\n  \"sound effects/withers_chuckle\"     : { type: \"Audio\"       as const, path: \"sound effects/withers_chuckle.mp3\"      },\r\n  \"spirit_bg_hud\"                     : { type: \"Image\"       as const, path: \"spirit_bg_hud.png\"                      },\r\n  \"spirit_empty_hud\"                  : { type: \"Image\"       as const, path: \"spirit_empty_hud.png\"                   },\r\n  \"spirit_full_hud\"                   : { type: \"Image\"       as const, path: \"spirit_full_hud.png\"                    },\r\n  \"tileset\"                           : { type: \"Image\"       as const, path: \"tileset.png\"                            },\r\n  \"tileset2\"                          : { type: \"Image\"       as const, path: \"tileset2.png\"                           },\r\n  \"titlescreen\"                       : { type: \"Image\"       as const, path: \"titlescreen.png\"                        },\r\n  \"transparent\"                       : { type: \"Image\"       as const, path: \"transparent.png\"                        },\r\n  \"tree_bg\"                           : { type: \"Image\"       as const, path: \"tree_bg.png\"                            },\r\n  \"tree_bg_bottom_left\"               : { type: \"Image\"       as const, path: \"tree_bg_bottom_left.png\"                },\r\n  \"tree_bg_bottom_right\"              : { type: \"Image\"       as const, path: \"tree_bg_bottom_right.png\"               },\r\n  \"tree_bg_top_left\"                  : { type: \"Image\"       as const, path: \"tree_bg_top_left.png\"                   },\r\n  \"tree_bg_top_right\"                 : { type: \"Image\"       as const, path: \"tree_bg_top_right.png\"                  },\r\n  \"vine_flower_source\"                : { type: \"Image\"       as const, path: \"vine_flower_source.png\"                 },\r\n  \"world\"                             : { type: \"TileWorld\"   as const, path: \"world.json\"                             },\r\n\r\n  /* Animations */\r\n\r\n  \"bigshroom\": {\r\n    type: \"Animation\" as const,\r\n    paths: [\r\n      \"bigshroom (1).png\",\r\n      \"bigshroom (2).png\",\r\n      \"bigshroom (3).png\",\r\n      \"bigshroom (4).png\",\r\n      \"bigshroom (5).png\",\r\n      \"bigshroom (6).png\",\r\n      \"bigshroom (7).png\",\r\n    ],\r\n  },\r\n  \"bud/bud_idle\": {\r\n    type: \"Animation\" as const,\r\n    paths: [\r\n      \"bud/bud_idle_0000.png\",\r\n      \"bud/bud_idle_0001.png\",\r\n      \"bud/bud_idle_0002.png\",\r\n    ],\r\n  },\r\n  \"bud/bud_idle_angery\": {\r\n    type: \"Animation\" as const,\r\n    paths: [\r\n      \"bud/bud_idle_angery_0000.png\",\r\n      \"bud/bud_idle_angery_0001.png\",\r\n      \"bud/bud_idle_angery_0002.png\",\r\n    ],\r\n  },\r\n  \"char_climb\": {\r\n    type: \"Animation\" as const,\r\n    paths: [\r\n      \"char_climb (1).png\",\r\n      \"char_climb (2).png\",\r\n      \"char_climb (3).png\",\r\n      \"char_climb (4).png\",\r\n      \"char_climb (5).png\",\r\n      \"char_climb (6).png\",\r\n    ],\r\n  },\r\n  \"char_idle\": {\r\n    type: \"Animation\" as const,\r\n    paths: [\r\n      \"char_idle (1).png\",\r\n      \"char_idle (2).png\",\r\n      \"char_idle (3).png\",\r\n      \"char_idle (4).png\",\r\n      \"char_idle (5).png\",\r\n      \"char_idle (6).png\",\r\n      \"char_idle (7).png\",\r\n      \"char_idle (8).png\",\r\n      \"char_idle (9).png\",\r\n      \"char_idle (10).png\",\r\n      \"char_idle (11).png\",\r\n    ],\r\n  },\r\n  \"char_jump\": {\r\n    type: \"Animation\" as const,\r\n    paths: [\r\n      \"char_jump (1).png\",\r\n      \"char_jump (2).png\",\r\n      \"char_jump (3).png\",\r\n      \"char_jump (4).png\",\r\n      \"char_jump (5).png\",\r\n      \"char_jump (6).png\",\r\n      \"char_jump (7).png\",\r\n      \"char_jump (8).png\",\r\n      \"char_jump (9).png\",\r\n    ],\r\n  },\r\n  \"char_walk\": {\r\n    type: \"Animation\" as const,\r\n    paths: [\r\n      \"char_walk (1).png\",\r\n      \"char_walk (2).png\",\r\n      \"char_walk (3).png\",\r\n      \"char_walk (4).png\",\r\n      \"char_walk (5).png\",\r\n      \"char_walk (6).png\",\r\n      \"char_walk (7).png\",\r\n      \"char_walk (8).png\",\r\n      \"char_walk (9).png\",\r\n      \"char_walk (10).png\",\r\n      \"char_walk (11).png\",\r\n    ],\r\n  },\r\n  \"flower1\": {\r\n    type: \"Animation\" as const,\r\n    paths: [\r\n      \"flower1 (1).png\",\r\n      \"flower1 (2).png\",\r\n      \"flower1 (3).png\",\r\n      \"flower1 (4).png\",\r\n      \"flower1 (5).png\",\r\n      \"flower1 (6).png\",\r\n    ],\r\n  },\r\n  \"flower2\": {\r\n    type: \"Animation\" as const,\r\n    paths: [\r\n      \"flower2 (1).png\",\r\n      \"flower2 (2).png\",\r\n      \"flower2 (3).png\",\r\n      \"flower2 (4).png\",\r\n      \"flower2 (5).png\",\r\n      \"flower2 (6).png\",\r\n    ],\r\n  },\r\n  \"flower3\": {\r\n    type: \"Animation\" as const,\r\n    paths: [\r\n      \"flower3 (1).png\",\r\n      \"flower3 (2).png\",\r\n      \"flower3 (3).png\",\r\n      \"flower3 (4).png\",\r\n      \"flower3 (5).png\",\r\n    ],\r\n  },\r\n  \"flowers/blueflower\": {\r\n    type: \"Animation\" as const,\r\n    paths: [\r\n      \"flowers/blueflower (1).png\",\r\n      \"flowers/blueflower (2).png\",\r\n      \"flowers/blueflower (3).png\",\r\n      \"flowers/blueflower (4).png\",\r\n      \"flowers/blueflower (5).png\",\r\n      \"flowers/blueflower (6).png\",\r\n    ],\r\n  },\r\n  \"flowers/grass1\": {\r\n    type: \"Animation\" as const,\r\n    paths: [\r\n      \"flowers/grass1 (1).png\",\r\n      \"flowers/grass1 (2).png\",\r\n      \"flowers/grass1 (3).png\",\r\n      \"flowers/grass1 (4).png\",\r\n    ],\r\n  },\r\n  \"flowers/pinkflower\": {\r\n    type: \"Animation\" as const,\r\n    paths: [\r\n      \"flowers/pinkflower (1).png\",\r\n      \"flowers/pinkflower (2).png\",\r\n      \"flowers/pinkflower (3).png\",\r\n      \"flowers/pinkflower (4).png\",\r\n      \"flowers/pinkflower (5).png\",\r\n      \"flowers/pinkflower (6).png\",\r\n    ],\r\n  },\r\n  \"flowers/shroom1\": {\r\n    type: \"Animation\" as const,\r\n    paths: [\r\n      \"flowers/shroom1 (1).png\",\r\n      \"flowers/shroom1 (2).png\",\r\n      \"flowers/shroom1 (3).png\",\r\n      \"flowers/shroom1 (4).png\",\r\n    ],\r\n  },\r\n  \"flowers/shroom2\": {\r\n    type: \"Animation\" as const,\r\n    paths: [\r\n      \"flowers/shroom2 (1).png\",\r\n      \"flowers/shroom2 (2).png\",\r\n      \"flowers/shroom2 (3).png\",\r\n      \"flowers/shroom2 (4).png\",\r\n    ],\r\n  },\r\n  \"flowers/yellowflowers\": {\r\n    type: \"Animation\" as const,\r\n    paths: [\r\n      \"flowers/yellowflowers (1).png\",\r\n      \"flowers/yellowflowers (2).png\",\r\n      \"flowers/yellowflowers (3).png\",\r\n      \"flowers/yellowflowers (4).png\",\r\n      \"flowers/yellowflowers (5).png\",\r\n    ],\r\n  },\r\n  \"flowey\": {\r\n    type: \"Animation\" as const,\r\n    paths: [\r\n      \"flowey (1).png\",\r\n      \"flowey (2).png\",\r\n      \"flowey (3).png\",\r\n      \"flowey (4).png\",\r\n      \"flowey (5).png\",\r\n      \"flowey (6).png\",\r\n      \"flowey (7).png\",\r\n    ],\r\n  },\r\n  \"fountain\": {\r\n    type: \"Animation\" as const,\r\n    paths: [\r\n      \"fountain (1).png\",\r\n      \"fountain (2).png\",\r\n      \"fountain (3).png\",\r\n    ],\r\n  },\r\n  \"grass1\": {\r\n    type: \"Animation\" as const,\r\n    paths: [\r\n      \"grass1 (1).png\",\r\n      \"grass1 (2).png\",\r\n      \"grass1 (3).png\",\r\n      \"grass1 (4).png\",\r\n    ],\r\n  },\r\n  \"mushroom1\": {\r\n    type: \"Animation\" as const,\r\n    paths: [\r\n      \"mushroom1 (1).png\",\r\n      \"mushroom1 (2).png\",\r\n      \"mushroom1 (3).png\",\r\n      \"mushroom1 (4).png\",\r\n      \"mushroom1 (5).png\",\r\n      \"mushroom1 (6).png\",\r\n    ],\r\n  },\r\n  \"notbeam/notbeam\": {\r\n    type: \"Animation\" as const,\r\n    paths: [\r\n      \"notbeam/notbeam_0000.png\",\r\n      \"notbeam/notbeam_0001.png\",\r\n      \"notbeam/notbeam_0002.png\",\r\n      \"notbeam/notbeam_0003.png\",\r\n    ],\r\n  },\r\n  \"shroom1\": {\r\n    type: \"Animation\" as const,\r\n    paths: [\r\n      \"shroom1 (1).png\",\r\n      \"shroom1 (2).png\",\r\n      \"shroom1 (3).png\",\r\n      \"shroom1 (4).png\",\r\n    ],\r\n  },\r\n  \"shroom2\": {\r\n    type: \"Animation\" as const,\r\n    paths: [\r\n      \"shroom2 (1).png\",\r\n      \"shroom2 (2).png\",\r\n      \"shroom2 (3).png\",\r\n      \"shroom2 (4).png\",\r\n    ],\r\n  },\r\n  \"vine_flower_live\": {\r\n    type: \"Animation\" as const,\r\n    paths: [\r\n      \"vine_flower_live (1).png\",\r\n      \"vine_flower_live (2).png\",\r\n      \"vine_flower_live (3).png\",\r\n      \"vine_flower_live (4).png\",\r\n      \"vine_flower_live (5).png\",\r\n      \"vine_flower_live (6).png\",\r\n    ],\r\n  },\r\n  \"vine_live\": {\r\n    type: \"Animation\" as const,\r\n    paths: [\r\n      \"vine_live (1).png\",\r\n      \"vine_live (2).png\",\r\n      \"vine_live (3).png\",\r\n      \"vine_live (4).png\",\r\n      \"vine_live (5).png\",\r\n      \"vine_live (6).png\",\r\n      \"vine_live (7).png\",\r\n      \"vine_live (8).png\",\r\n    ],\r\n  },\r\n  \"wisteria\": {\r\n    type: \"Animation\" as const,\r\n    paths: [\r\n      \"wisteria (1).png\",\r\n      \"wisteria (2).png\",\r\n      \"wisteria (3).png\",\r\n      \"wisteria (4).png\",\r\n      \"wisteria (5).png\",\r\n      \"wisteria (6).png\",\r\n      \"wisteria (7).png\",\r\n    ],\r\n  },\r\n  \"withers/withers_idle\": {\r\n    type: \"Animation\" as const,\r\n    paths: [\r\n      \"withers/withers_idle_0000.png\",\r\n      \"withers/withers_idle_0001.png\",\r\n      \"withers/withers_idle_0002.png\",\r\n    ],\r\n  },\r\n};\r\n\r\nexport const Assets = new TypesafeLoader(AssetsToLoad);\r\n","import { Texture } from \"pixi.js\";\r\n\r\nimport { Assets, AssetsToLoad } from \"./assets\";\r\nimport { Entity } from \"../library/entity\";\r\nimport { GameCoroutine } from \"../library/coroutine_manager\";\r\nimport { C } from \"./constants\";\r\nimport { Vector2 } from \"../library/geometry/vector2\";\r\n\r\nlet flowers = 0;\r\n\r\nlet flowersMap: {[key: number]: keyof typeof AssetsToLoad} = {\r\n  1: \"flower1\",\r\n  2: \"flower2\",\r\n  3: \"flower3\",\r\n  4: \"grass1\",\r\n  5: \"shroom1\",\r\n  6: \"shroom2\",\r\n}\r\n\r\nlet flowersRate: {[key: number]: string[]} = {\r\n  0: [\"flower3\"], //Sanctuary level\r\n  1: [\"grass1\", \"flower1\"], //Vine level\r\n  2: [\"shroom1\", \"shroom1\", \"flower2\"], //Mushroom level\r\n  3: [\"flower1\", \"flower2\", \"flower3\", \"grass1\", \"shroom1\", \"shroom1\"]  //Tree level\r\n}\r\n\r\nexport class NormalFlower extends Entity {\r\n  interactionDistance = C.InteractionDistance;\r\n  frame = 0;\r\n  frames!: Texture[];\r\n\r\n  initialPosition: Vector2;\r\n  level   : number | undefined;\r\n\r\n  constructor(initialPosition: Vector2, level: number | undefined) {\r\n    super({\r\n      name   : \"Flower\",\r\n      texture: Assets.getResource(\"flower1\")[0],\r\n    });\r\n\r\n    this.level           = level;\r\n    this.initialPosition = initialPosition;\r\n\r\n    this.init();\r\n  }\r\n\r\n  init() {\r\n    if (this.level != undefined && this.level in flowersRate) {\r\n      let flowers = flowersRate[this.level];\r\n      let r = Math.floor(Math.random() * flowers.length);\r\n\r\n      this.frames = Assets.getResource(flowers[r] as keyof typeof AssetsToLoad) as Texture[];\r\n    } else {\r\n      this.frames = Assets.getResource(flowersMap[Math.floor(Math.random()*Object.keys(flowersMap).length) + 1]) as Texture[];\r\n    }\r\n\r\n    this.sprite.anchor.set(0.5, 0);\r\n\r\n    // Vary flowers size/rotation\r\n    if (Math.random() > 0.5) this.sprite.scale.x *= -1;\r\n    let r = Math.random() + 0.5;\r\n    this.sprite.scale.set(r);\r\n    this.position = this.initialPosition.addY(256*(1 - r));\r\n    this.startCoroutine(`flower-update-${ ++flowers }`, this.flowerUpdate());\r\n  }\r\n\r\n  *flowerUpdate(): GameCoroutine {\r\n    while (true) {\r\n      const state = yield { frames: 10 };\r\n\r\n      if (state.player.position.distance(this.position) < this.interactionDistance) {\r\n        this.frame = Math.min(this.frames.length - 1, this.frame + 1);\r\n      } else {\r\n        this.frame = Math.max(0, this.frame - 1);\r\n      }\r\n\r\n      this.texture = this.frames[this.frame];\r\n    }\r\n  }\r\n}","import React from 'react';\r\nimport { IS_DEBUG } from '../environment';\r\n\r\nexport type DebugFlagsType = {\r\n  [key: string]: boolean;\r\n};\r\n\r\nconst LOCAL_STORAGE_KEY = \"debug flags\";\r\n\r\nexport const ReadDebugFlagsFromLocalStorage = <T extends DebugFlagsType>(defaultFlags: T): T => {\r\n  if (IS_DEBUG) {\r\n    const prevStoredFlags = JSON.parse((window.localStorage.getItem(LOCAL_STORAGE_KEY) || \"{}\")) as DebugFlagsType;\r\n\r\n    // delete flags that don't exist\r\n\r\n    for (const flagName of Object.keys(prevStoredFlags)) {\r\n      if (!defaultFlags.hasOwnProperty(flagName)) {\r\n        delete prevStoredFlags[flagName];\r\n      }\r\n    }\r\n\r\n    return {\r\n      ...defaultFlags,\r\n      ...prevStoredFlags,\r\n    };\r\n  } else {\r\n    return defaultFlags;\r\n  }\r\n}\r\n\r\nconst SaveDebugFlagsToLocalStorage = (flags: DebugFlagsType) => {\r\n  window.localStorage.setItem(LOCAL_STORAGE_KEY, JSON.stringify(flags));\r\n};\r\n\r\ntype DebugFlagButtonsProps = {\r\n  flags: DebugFlagsType;\r\n};\r\n\r\nexport class DebugFlagButtons extends React.Component<DebugFlagButtonsProps, {}> {\r\n  render() {\r\n    const flagNames = Object.keys(this.props.flags);\r\n\r\n    return (\r\n      <div>\r\n        {\r\n          flagNames.map(flagName => {\r\n            const flag = this.props.flags[flagName];\r\n\r\n            return (\r\n              <div\r\n                key={flagName}\r\n              >\r\n                <input \r\n                  type=\"checkbox\" \r\n                  checked={ flag } \r\n                  onChange={ () => { \r\n                    // NOTE: This is TERRIBLE React code. DO NOT LEARN FROM\r\n                    // THIS. DO NOT IMITATE THIS. IN FACT, RUN FAR AWAY FROM\r\n                    // THIS!!!\r\n\r\n                    // The reason this works at all is because GameReactWrapper\r\n                    // does a forceUpdate() on a setInterval to keep everything\r\n                    // in sync. DebugFlagButtons will be captured in the\r\n                    // setInterval and forced to update.\r\n\r\n                    // The point being that the value gets synced back into the\r\n                    // game with no one being the wiser. MAGIC!\r\n                    this.props.flags[flagName] = !this.props.flags[flagName];\r\n\r\n                    SaveDebugFlagsToLocalStorage(this.props.flags);\r\n                  }}\r\n                /> { flagName }\r\n              </div>\r\n            );\r\n          })\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}","import { ReadDebugFlagsFromLocalStorage } from \"../library/react/debug_flag_buttons\";\r\n\r\nexport const DebugFlags = ReadDebugFlagsFromLocalStorage({\r\n  \"Play Music\"                   : true,\r\n  \"Set Position To Start Object\" : false,\r\n  \"Show Initial Cinematic\"       : true,\r\n  \"Show Menu\"                    : true,\r\n  \"Show Bud Text\"                : true,\r\n  \"Show Flowers in Hierarchy\"    : false,\r\n  \"Fairy Follows You Immediately\": false,\r\n  \"High Performance\"             : true,\r\n  \"Have Vine Perma\"              : false,\r\n  \"Have Shroom Perma\"            : false,\r\n  \"SKIP ALL DIALOG\"              : false,\r\n});","import React from 'react';\r\n\r\nimport { Container, Graphics } from 'pixi.js';\r\nimport { Entity } from '../entity';\r\nimport { Debug } from '../debug';\r\nimport { IGameState } from 'Library';\r\nimport { NormalFlower } from '../../game/normal_flower';\r\nimport { DebugFlags } from '../../game/debug';\r\n\r\ntype HierarchyProps = { \r\n  root       : Entity | Container;\r\n  setSelected: (obj: Entity | Container) => void;\r\n  setMoused  : (obj: Entity | Container | null) => void;\r\n  gameState  : IGameState;\r\n  selectedEntity   : Entity | Container | null;\r\n};\r\n\r\nexport class Hierarchy extends React.Component<HierarchyProps, { hover: boolean }> {\r\n  constructor(props: HierarchyProps) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      hover: false,\r\n    };\r\n\r\n    setInterval(() => {\r\n      this.updateDebugGraphics();\r\n    }, 50);\r\n  }\r\n\r\n  oldTint: { [key: number]: number } = {};\r\n\r\n  hoverGraphics: Graphics[] = [];\r\n  hoverTarget: Entity | Container | null = null;\r\n\r\n  updateDebugGraphics = () => {\r\n    // clear debug graphics\r\n\r\n    for (const graphic of this.hoverGraphics) {\r\n      graphic.parent.removeChild(graphic);\r\n      graphic.destroy();\r\n    }\r\n\r\n    this.hoverGraphics = [];\r\n\r\n    if (this.hoverTarget !== null) {\r\n      this.hoverGraphics = [...Debug.DrawBounds(this.props.root, 0xff0000, true, \"stage\")];\r\n\r\n      if (this.props.root instanceof Entity) {\r\n        const point = Debug.DrawPoint(this.props.root.position, 0xff0000, true);\r\n\r\n        this.hoverGraphics = [\r\n          ...this.hoverGraphics,\r\n          point,\r\n        ];\r\n      }\r\n    }\r\n\r\n    if (this.props.selectedEntity === this.props.root) {\r\n      this.hoverGraphics = [...this.hoverGraphics, ...Debug.DrawBounds(this.props.selectedEntity, 0xff0000, true, \"stage\")];\r\n\r\n      if (this.props.root instanceof Entity) {\r\n        const point = Debug.DrawPoint(this.props.selectedEntity.position, 0xff0000, true);\r\n\r\n        this.hoverGraphics = [\r\n          ...this.hoverGraphics,\r\n          point,\r\n        ];\r\n      }\r\n    }\r\n  };\r\n\r\n  mouseOver = () => {\r\n    this.setState({ hover: true })\r\n\r\n    if (this.props.root instanceof Entity) {\r\n      this.oldTint[this.props.root.id] = this.props.root.sprite.tint;\r\n\r\n      this.props.root.sprite.tint = 0x000099;\r\n    }\r\n\r\n    this.hoverTarget = this.props.root;\r\n    this.props.setMoused(this.props.root);\r\n  };\r\n\r\n  mouseOut = () => {\r\n    this.setState({ hover: false })\r\n\r\n    if (this.props.root instanceof Entity) {\r\n      this.props.root.sprite.tint = this.oldTint[this.props.root.id];\r\n    }\r\n\r\n    this.hoverTarget = null;\r\n    this.props.setMoused(null);\r\n  };\r\n\r\n  click = () => {\r\n    this.props.setSelected(this.props.root);\r\n\r\n    console.log(this.props.root);\r\n  };\r\n\r\n  renderLeaf(root: any) {\r\n    if (!DebugFlags[\"Show Flowers in Hierarchy\"] && root instanceof NormalFlower) { return null };\r\n\r\n    return (<div>\r\n      { this.props.selectedEntity === this.props.root ? <strong>{ root.name }</strong> : root.name } (depth: { root.zIndex }) { root instanceof Entity && (\r\n          root.activeModes.includes(this.props.gameState.mode) ? \"Active\" : \"Inactive\"\r\n      )}\r\n    </div>)\r\n  }\r\n\r\n  render() {\r\n    const root = this.props.root;\r\n\r\n    return (\r\n      <div \r\n        style={{ \r\n          paddingLeft: \"10px\", \r\n          fontFamily: 'Arial',\r\n          fontSize: '14px',\r\n          backgroundColor: this.state.hover ? \"darkgray\" : \"black\" \r\n        }}\r\n      >\r\n        <div\r\n          onMouseEnter={this.mouseOver}\r\n          onMouseLeave={this.mouseOut}\r\n          onClick={this.click}\r\n        >\r\n          {this.renderLeaf(root)}\r\n        </div>\r\n        {\r\n          root instanceof Entity &&\r\n          root.children().length > 0 && \r\n            root.children().map(child => {\r\n              return <Hierarchy selectedEntity={this.props.selectedEntity} setMoused={this.props.setMoused} setSelected={this.props.setSelected } root={ child } gameState={ this.props.gameState } />\r\n            })\r\n        }\r\n      </div>\r\n    )\r\n  };\r\n}\r\n","import { Texture } from 'pixi.js';\r\nimport { FontDataUrl } from './font_data_url';\r\nimport { Entity } from './entity';\r\nimport { BaseGameState } from './base_state';\r\n\r\n// 1. Encode font into dataurl\r\n// 2. Use dataurl in SVG (otherwise you wouldnt be able to refer to the font in the SVG).\r\n// 3. Load the SVG into an image\r\n// 4. Render the image to a canvas\r\n// 5. Use the canvas as a texture for a Sprite\r\n\r\n// 6. Waste 30 minutes trying to debug your code only to realize it was because\r\n//    there was a missing ' in font_data_url\r\n\r\nexport const PIXEL_RATIO = (() => {\r\n  const ctx = document.createElement(\"canvas\").getContext(\"2d\")!,\r\n      dpr = window.devicePixelRatio || 1,\r\n      bsr = (ctx as any).webkitBackingStorePixelRatio ||\r\n            (ctx as any).mozBackingStorePixelRatio ||\r\n            (ctx as any).msBackingStorePixelRatio ||\r\n            (ctx as any).oBackingStorePixelRatio ||\r\n            (ctx as any).backingStorePixelRatio || 1;\r\n\r\n  return dpr / bsr;\r\n})();\r\n    \r\nexport class BaseTextEntity<T extends BaseGameState> extends Entity {\r\n  canvas        : HTMLCanvasElement;\r\n  context       : CanvasRenderingContext2D;\r\n  protected _html: string;\r\n\r\n  constructor(html: string, width: number, height: number) {\r\n    super({\r\n      texture: Texture.WHITE,\r\n      name   : \"BaseTextEntity\"\r\n    });\r\n\r\n    this.sprite.width  = width;\r\n    this.sprite.height = height;\r\n\r\n    this._html   = html;\r\n    this.canvas  = this.createHiDPICanvas(this.width, this.height);\r\n    this.context = this.canvas.getContext('2d')!;\r\n\r\n    this.buildTextGraphic();\r\n  }\r\n\r\n  set html(value: string) {\r\n    if (this._html !== value) {\r\n      this._html = value;\r\n\r\n      this.buildTextGraphic()\r\n    }\r\n  }\r\n\r\n  update() {};\r\n\r\n  // converting woff into dataurl:\r\n  // https://gist.github.com/viljamis/c4016ff88745a0846b94\r\n\r\n  // reference used for this insanity: \r\n  // https://stackoverflow.com/questions/12652769/rendering-html-elements-to-canvas\r\n\r\n  private async renderHTMLToCanvas(html: string, ctx: CanvasRenderingContext2D, x: number, y: number, width: number, height: number) {\r\n    const wrappedHtml = `\r\n      <div style=\"width: ${ this.width }\">\r\n        ${ html }\r\n      </div>\r\n    `;\r\n\r\n    const data = `data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${ width }\" height=\"${ height }\">\r\n      <foreignObject width=\"100%\" height=\"100%\">\r\n        <defs>\r\n          <style type=\"text/css\">\r\n            @font-face {\r\n              font-family: FreePixel;\r\n              src: ${ FontDataUrl }\r\n            }\r\n          </style>\r\n        </defs>\r\n\r\n        ${ this.htmlToXML(wrappedHtml) }\r\n      \r\n      </foreignObject>\r\n    </svg>`;\r\n\r\n    await new Promise(resolve => {\r\n      const img = new Image();\r\n      \r\n      img.onload = () => {\r\n        ctx.clearRect(0, 0, this.width, this.height);\r\n        ctx.drawImage(img, x, y);\r\n\r\n        resolve();\r\n      };\r\n\r\n      img.src = data;\r\n    });\r\n  }\r\n\r\n  private htmlToXML(html: string): string {\r\n    const doc = document.implementation.createHTMLDocument('');\r\n\r\n    doc.write(html);\r\n\r\n    // You must manually set the xmlns if you intend to immediately serialize     \r\n    // the HTML document to a string as opposed to appending it to a\r\n    // <foreignObject> in the DOM\r\n    doc.documentElement.setAttribute('xmlns', doc.documentElement.namespaceURI!);\r\n\r\n    // Get well-formed markup\r\n    html = (new XMLSerializer()).serializeToString(doc.body);\r\n\r\n    return html;\r\n  }\r\n\r\n  private createHiDPICanvas(w: number, h: number, ratio: number | undefined = undefined) {\r\n    if (ratio === undefined) { \r\n      ratio = PIXEL_RATIO; \r\n    }\r\n    \r\n    const can = document.createElement(\"canvas\");\r\n\r\n    can.width        = w * ratio;\r\n    can.height       = h * ratio;\r\n    can.style.width  = w + \"px\";\r\n    can.style.height = h + \"px\";\r\n\r\n    can.getContext(\"2d\")!.setTransform(ratio, 0, 0, ratio, 0, 0);\r\n\r\n    return can;\r\n  }\r\n\r\n  protected async buildTextGraphic() {\r\n    await this.renderHTMLToCanvas(this._html, this.context, 0, 0, this.width, this.height);\r\n\r\n    this.sprite.texture = Texture.from(this.canvas);\r\n    this.sprite.texture.update();\r\n  }\r\n\r\n  clear() {\r\n    this.context.clearRect(0, 0, this.width, this.height);\r\n\r\n    this.sprite.texture = Texture.from(this.canvas);\r\n    this.sprite.texture.update();\r\n  }\r\n}\r\n","export const FontDataUrl = \"url('data:application/font-woff;charset=utf-8;base64,AAEAAAANAIAAAwBQRFNJRwAAAAEAAPXIAAAACEdERUYC2gAEAAD10AAAACBPUy8yQal3RwAAANwAAABgY21hcAvh29UAAPhIAAAFKGdhc3AAAAADAAD1wAAAAAhnbHlm8tOLKgAAFkQAAM8saGVhZP6TCFsAAPAoAAAANmhoZWELBQIBAAAWAAAAACRobXR4yeTAbwAA8GAAAAVgbG9jYQEk4ygAAOVwAAAKuG1heHAC0gCxAAAWJAAAACBuYW1leSf5mQAA9fAAAAJYcG9zdD0HyCoAAAE8AAAUwwADA/8BkAAFAAAFAAVHAAABAAUABUcAAAIAAIACgAAAAAAFCQAAAAAABAAAAAEAAAAAAAAAAAAAAAAgICAgAEAAIPsCBgD+AAEABwACAGAAAZ/f1wAAA4AFAQAAACAAAQACAAAAAAAA/zgAZAABAAAAAAAAAAAAAAAAAAAAAAAAAq0AAAJyAnMAAwAEAAUABgAHAAgACQAKAAsADAANAA4ADwAQABEAEgATABQAFQAWABcAGAAZABoAGwAcAB0AHgAfACAAIQAiACMAJAAlACYAJwAoACkAKgArACwALQAuAC8AMAAxADIAMwA0ADUANgA3ADgAOQA6ADsAPAA9AD4APwBAAEEAQgBDAEQARQBGAEcASABJAEoASwBMAE0ATgBPAFAAUQBSAFMAVABVAFYAVwBYAFkAWgBbAFwAXQBeAF8AYABhAQIArACjAIQAhQC9AJYA6ACGAI4AiwCdAKkApAEDAIoA2gCDAJMA8gDzAI0AlwCIAQQA3gDxAJ4AqgD1APQA9gCiAK0AyQDHAK4AYgBjAJAAZADLAGUAyADKAM8AzADNAM4A6QBmANMA0ADRAK8AZwDwAJEA1gDUANUAaADrAO0AiQBqAGkAawBtAGwAbgCgAG8AcQBwAHIAcwB1AHQAdgB3AOoAeAB6AHkAewB9AHwAuAChAH8AfgCAAIEA7ADuALoBBQEGAQcBCAEJAQoA/QD+AP8BAAELAQwBDQEBAQ4BDwEQAREBEgETARQBFQD4APkBFgEXARgBGQEaARsA+gDXARwBHQEeAR8BIAEhASIBIwDiAOMBJAElASYBJwEoASkBKgErASwBLQCwALEBLgEvATABMQEyATMBNAE1APsA/ADkAOUBNgE3ATgBOQE6ATsBPAE9AT4BPwFAAUEAuwFCAUMBRAFFAOYA5wCmAUYBRwFIAUkBSgFLAUwBTQFOAU8BUAFRANgA4QDbANwA3QDgAVIA3wFTAVQBVQFWAVcBWAFZAVoBWwFcAV0BXgFfAWABYQFiAWMBZAFlAWYBZwFoAWkBagFrAWwBbQFuAW8BcAFxAXIBcwF0AXUBdgF3AXgBeQF6AXsBfAF9AX4BfwGAAYEBggGDAYQBhQGGAYcBiAGJAYoBiwGMAY0BjgGPAJsBkAGRAZIBkwGUAZUBlgGXAZgBmQGaAZsBnAGdAZ4BnwGgAaEBogGjAaQBpQGmAacBqAGpAaoBqwGsAa0BrgGvAbABsQGyAbMBtAG1AbYBtwG4AbkBugG7AbwBvQG+Ab8BwAHBAcIBwwHEAcUBxgHHAcgByQHKAcsBzAHNAc4BzwHQAdEB0gHTAdQB1QHWAdcB2AHZAdoB2wHcAd0B3gHfAeAB4QHiAeMB5AHlAeYB5wHoAekB6gHrAewB7QHuAe8B8AHxAfIB8wH0AfUB9gH3AfgB+QH6AfsCdAJ1AnYCdwJ4AnkCegJ7AnwCfQJ+An8CgAKBAoIAsgCzAfwB/QC2ALcAxAC0ALUAxQCCAMIAhwCrAMYB/gH/AL4AvwIAAgECAgIDAgQCBQIGAIwCBwIIAgkCCgILAgwCDQCYAKgAmgCZALwAwwClAJICDgIPAhACEQCcAKcAjwISAJQAlQITAhQCFQIWAhcCGAIZAhoCGwIcAh0CHgIfAiACIQIiAiMCJAIlAiYCJwIoAikCKgIrAiwCLQIuAi8CMAIxAjICMwI0AjUCNgI3AjgCOQI6AjsCPAI9Aj4CPwJAAkECQgJDAkQCRQJGAkcCSAJJAkoCSwJMAk0CTgJPAlACUQJSAlMCVAJVAlYCVwJYAlkCWgJbAlwCXQJeAl8CYAC5AmECYgJjAmQCZQJmAmcCaAJpAmoCawJsAm0CbgJvAnACcQKDAoQChQKGAocCiAKJAooCiwKMAo0CjgKPApACkQKSApMClAKVApYClwKYApkCmgKbApwCnQKeAp8CoAKhAqICowKkAqUCpgKnAqgCqQKqAqsCrAKtAq4CrwKwArECsgKzArQCtQpjb250cm9sREVMCXNmdGh5cGhlbgZtaWRkb3QHQW1hY3JvbgdhbWFjcm9uBkFicmV2ZQZhYnJldmUHQW9nb25lawdhb2dvbmVrBkRjYXJvbgZkY2Fyb24GRGNyb2F0B0VtYWNyb24HZW1hY3JvbgRFZG90BGVkb3QHRW9nb25lawdlb2dvbmVrBkVjYXJvbgZlY2Fyb24IR2NlZGlsbGEIZ2NlZGlsbGEHSW1hY3JvbgdpbWFjcm9uB0lvZ29uZWsHaW9nb25lawhLY2VkaWxsYQhrY2VkaWxsYQZMYWN1dGUGbGFjdXRlCExjZWRpbGxhCGxjZWRpbGxhBkxjYXJvbgZsY2Fyb24GTmFjdXRlBm5hY3V0ZQhOY2VkaWxsYQhuY2VkaWxsYQZOY2Fyb24GbmNhcm9uB09tYWNyb24Hb21hY3JvbglPZGJsYWN1dGUJb2RibGFjdXRlBlJhY3V0ZQZyYWN1dGUIUmNlZGlsbGEIcmNlZGlsbGEGUmNhcm9uBnJjYXJvbgZTYWN1dGUGc2FjdXRlCFRjZWRpbGxhCHRjZWRpbGxhBlRjYXJvbgZ0Y2Fyb24HVW1hY3Jvbgd1bWFjcm9uBVVyaW5nBXVyaW5nCVVkYmxhY3V0ZQl1ZGJsYWN1dGUHVW9nb25lawd1b2dvbmVrBlphY3V0ZQZ6YWN1dGUEWmRvdAR6ZG90BU9ob3JuBW9ob3JuBVVob3JuBXVob3JuBmFjYXJvbgZpY2Fyb24Gb2Nhcm9uBnVjYXJvbg91ZGllcmVzaXNtYWNyb24OdWRpZXJlc2lzYWN1dGUOdWRpZXJlc2lzY2Fyb24OdWRpZXJlc2lzZ3JhdmUFdGlsZGUIZ3JhdmVjbWIIYWN1dGVjbWIIdGlsZGVjbWINaG9va2Fib3ZlY29tYgtkb3RiZWxvd2NtYgV0b25vcw5kaWFseXRpa2F0b25vcwpBbHBoYXRvbm9zDEVwc2lsb250b25vcwhFdGF0b25vcwlJb3RhdG9ub3MMT21pY3JvbnRvbm9zDFVwc2lsb250b25vcwpPbWVnYXRvbm9zEWlvdGFkaWVyZXNpc3Rvbm9zBUFscGhhBEJldGEFR2FtbWEKRGVsdGFncmVlawdFcHNpbG9uBFpldGEDRXRhBVRoZXRhBElvdGEFS2FwcGEGTGFtYmRhAk11Ak51AlhpB09taWNyb24CUGkDUmhvBVNpZ21hA1RhdQdVcHNpbG9uA1BoaQNDaGkDUHNpCk9tZWdhZ3JlZWsMSW90YWRpZXJlc2lzD1Vwc2lsb25kaWVyZXNpcwphbHBoYXRvbm9zDGVwc2lsb250b25vcwhldGF0b25vcwlpb3RhdG9ub3MUdXBzaWxvbmRpZXJlc2lzdG9ub3MFYWxwaGEEYmV0YQVnYW1tYQVkZWx0YQdlcHNpbG9uBHpldGEDZXRhBXRoZXRhBGlvdGEFa2FwcGEGbGFtYmRhB211Z3JlZWsCbnUCeGkHb21pY3JvbgNyaG8Gc2lnbWExBXNpZ21hA3RhdQd1cHNpbG9uA3BoaQNjaGkDcHNpBW9tZWdhDGlvdGFkaWVyZXNpcw91cHNpbG9uZGllcmVzaXMMb21pY3JvbnRvbm9zDHVwc2lsb250b25vcwpvbWVnYXRvbm9zCWFmaWkxMDAyMwlhZmlpMTAwNTEJYWZpaTEwMDUyCWFmaWkxMDA1MwlhZmlpMTAwNTQJYWZpaTEwMDU1CWFmaWkxMDA1NglhZmlpMTAwNTcJYWZpaTEwMDU4CWFmaWkxMDA1OQlhZmlpMTAwNjAJYWZpaTEwMDYxCWFmaWkxMDA2MglhZmlpMTAxNDUJQWN5cmlsbGljCWFmaWkxMDAxOAlhZmlpMTAwMTkJYWZpaTEwMDIwCWFmaWkxMDAyMQlhZmlpMTAwMjIJYWZpaTEwMDI0CWFmaWkxMDAyNQlhZmlpMTAwMjYJYWZpaTEwMDI3CWFmaWkxMDAyOAlhZmlpMTAwMjkJYWZpaTEwMDMwCWFmaWkxMDAzMQlhZmlpMTAwMzIJYWZpaTEwMDMzCWFmaWkxMDAzNAlhZmlpMTAwMzUJYWZpaTEwMDM2CWFmaWkxMDAzNwlhZmlpMTAwMzgJYWZpaTEwMDM5CWFmaWkxMDA0MAlhZmlpMTAwNDEJYWZpaTEwMDQyCWFmaWkxMDA0MwlhZmlpMTAwNDQJYWZpaTEwMDQ1CWFmaWkxMDA0NglhZmlpMTAwNDcJYWZpaTEwMDQ4CWFmaWkxMDA0OQlhY3lyaWxsaWMJYWZpaTEwMDY2CWFmaWkxMDA2NwlhZmlpMTAwNjgJYWZpaTEwMDY5CWFmaWkxMDA3MAlhZmlpMTAwNzIJYWZpaTEwMDczCWFmaWkxMDA3NAlhZmlpMTAwNzUJYWZpaTEwMDc2CWFmaWkxMDA3NwlhZmlpMTAwNzgJYWZpaTEwMDc5CWFmaWkxMDA4MAlhZmlpMTAwODEJYWZpaTEwMDgyCWFmaWkxMDA4MwlhZmlpMTAwODQJYWZpaTEwMDg1CWFmaWkxMDA4NglhZmlpMTAwODcJYWZpaTEwMDg4CWFmaWkxMDA4OQlhZmlpMTAwOTAJYWZpaTEwMDkxCWFmaWkxMDA5MglhZmlpMTAwOTMJYWZpaTEwMDk0CWFmaWkxMDA5NQlhZmlpMTAwOTYJYWZpaTEwMDk3CWFmaWkxMDA3MQlhZmlpMTAwOTkJYWZpaTEwMTAwCWFmaWkxMDEwMQlhZmlpMTAxMDIJYWZpaTEwMTAzCWFmaWkxMDEwNAlhZmlpMTAxMDUJYWZpaTEwMTA2CWFmaWkxMDEwNwlhZmlpMTAxMDgJYWZpaTEwMTA5CWFmaWkxMDExMAlhZmlpMTAxOTMJYWZpaTEwMDUwCWFmaWkxMDA5OAlhZmlpMDAyMDgKZGJsbG93bGluZQZtaW51dGUGc2Vjb25kCWV4Y2xhbWRibAhmcmFjdGlvbgluc3VwZXJpb3IGcGVzZXRhBGRvbmcERXVybwlhZmlpNjEzNTIJYXJyb3dsZWZ0B2Fycm93dXAKYXJyb3dyaWdodAlhcnJvd2Rvd24JYXJyb3dib3RoCWFycm93dXBkbgxhcnJvd3VwZG5ic2UKb3J0aG9nb25hbAVhbmdsZQxpbnRlcnNlY3Rpb24FdW5pb24LZXF1aXZhbGVuY2USbG9naWNhbG5vdHJldmVyc2VkC2ludGVncmFsdG9wDmludGVncmFsYm90dG9tCFNGMTAwMDAwB3VuaTI1MDEIU0YxMTAwMDAHdW5pMjUwMwhTRjAxMDAwMAd1bmkyNTBGCFNGMDMwMDAwB3VuaTI1MTMIU0YwMjAwMDAHdW5pMjUxNwhTRjA0MDAwMAd1bmkyNTFCCFNGMDgwMDAwB3VuaTI1MUQHdW5pMjUyMAd1bmkyNTIzCFNGMDkwMDAwB3VuaTI1MjUHdW5pMjUyOAd1bmkyNTJCCFNGMDYwMDAwB3VuaTI1MkYHdW5pMjUzMAd1bmkyNTMzCFNGMDcwMDAwB3VuaTI1MzcHdW5pMjUzOAd1bmkyNTNCCFNGMDUwMDAwB3VuaTI1M0YHdW5pMjU0Mgd1bmkyNTRCCFNGNDMwMDAwCFNGMjQwMDAwCFNGNTEwMDAwCFNGNTIwMDAwCFNGMzkwMDAwCFNGMjIwMDAwCFNGMjEwMDAwCFNGMjUwMDAwCFNGNTAwMDAwCFNGNDkwMDAwCFNGMzgwMDAwCFNGMjgwMDAwCFNGMjcwMDAwCFNGMjYwMDAwCFNGMzYwMDAwCFNGMzcwMDAwCFNGNDIwMDAwCFNGMTkwMDAwCFNGMjAwMDAwCFNGMjMwMDAwCFNGNDcwMDAwCFNGNDgwMDAwCFNGNDEwMDAwCFNGNDUwMDAwCFNGNDYwMDAwCFNGNDAwMDAwCFNGNTQwMDAwCFNGNTMwMDAwCFNGNDQwMDAwB3VwYmxvY2sHZG5ibG9jawVibG9jawdsZmJsb2NrB3J0YmxvY2sHbHRzaGFkZQVzaGFkZQdka3NoYWRlC2JsYWNrc3F1YXJlDmJsYWNrcmVjdGFuZ2xlF2JsYWNrdXBwb2ludGluZ3RyaWFuZ2xlGWJsYWNrcmlnaHRwb2ludGluZ3BvaW50ZXIZYmxhY2tkb3ducG9pbnRpbmd0cmlhbmdsZRhibGFja2xlZnRwb2ludGluZ3BvaW50ZXIGY2lyY2xlDWJ1bGxldGludmVyc2UJaW52Y2lyY2xlCXNtaWxlZmFjZRBibGFja3NtaWxpbmdmYWNlB2NvbXBhc3MGZmVtYWxlBG1hbGUFc3BhZGUEY2x1YgVoZWFydAdkaWFtb25kC211c2ljYWxub3RlEGVpZ2h0aG5vdGViZWFtZWQHdW5pRjhGRgJmaQJmbAZnbHlwaDEGZ2x5cGgyCGdseXBoNDcxCGdseXBoNDcyCGdseXBoNDczCGdseXBoNDc0CGdseXBoNDc1CGdseXBoNDc2CGdseXBoNDc3CGdseXBoNDc4CGdseXBoNDc5CGdseXBoNDgwCGdseXBoNDgxCGdseXBoNDgyCGdseXBoNDgzCGdseXBoNDg0CGdseXBoNDg1CGdseXBoNjM0CGdseXBoNjM1CGdseXBoNjM2CGdseXBoNjM3CGdseXBoNjM4CGdseXBoNjM5CGdseXBoNjQwCGdseXBoNjQxCGdseXBoNjQyCGdseXBoNjQzCGdseXBoNjQ0CGdseXBoNjQ1CGdseXBoNjQ2CGdseXBoNjQ3CGdseXBoNjQ4CGdseXBoNjQ5CGdseXBoNjUwCGdseXBoNjUxCGdseXBoNjUyCGdseXBoNjUzCGdseXBoNjU0CGdseXBoNjU1CGdseXBoNjU2CGdseXBoNjU3CGdseXBoNjU4CGds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AAEBgP4CBAEHAAAHAAABMxEhFSERIwGAgQIA/gCBBwD8AH37fwAAAAACAX/+AQP/BwAAAwAHAAABIREhAzMDIwIBAf7+AoGBAYEDgv6ABP73AQAAAAEBAP4ABAAHAAAHAAABIREhFSERIQEAAYABgP6A/oAHAPwBgfuAAAABAQD+AQQABwAABwAAASERIREhESEBAAGAAYD+gf6ABwD8gv6A+/8AAQAB/gICAQcAAAcAAAEzESMRITUhAYCBgf6BAX8HAPcCBIF9AAAAAAEAAP4AAgEHAAAHAAABMxEjESERIQGAgYH+gAGABwD3AAQCAYAAAAABAAH+AAKABwAABwAAASERIREjNTMBAAGA/oD//wcA9wAEgIEAAAAAAQAB/gACgAcAAAcAAAEhESERIxEzAQABgP6A//8HAPcABAIBgAAAAAEAAP4CBAADAAAHAAARIRUhESMRIQQA/gCB/oEDAH37fwSBAAEAAP3+A/8DgAAHAAARIREhESMRIQP//gKB/oADgP6A+/4EAgAAAAABAAD9/wP/AwAABwAAESEVIREhESMD//6A/oD/AwCB+4AEgAABAAD9/gP/A4AABwAAESERIREhESMD//6A/oD/A4D+gPv+BAIAAAAAAQAAAoMEAAcAAAcAAAEzESEVITUhAX+BAgD8AAF/BwD8AH19AAAAAAEAAAIAA/8G/gAHAAABMxEhESERIQGAgQH+/AEBgAb+/IL+gAGAAAABAAACfwP/Bv8ABwAAEyERIRUhNTP/AYABgPwB/wb//AGBgQABAAACAAP/Bv4ABwAAEyERIREhETP/AYABgPwB/wb+/IL+gAGAAAAAAQAA/gIEAAcAAAsAAAEzESEVIREjESE1IQF/gQIA/gCB/oEBfwcA/AB9+38EgX0AAQAA/f4D/wb+AAsAAAEzESERIREjESERIQGAgQH+/gKB/oABgAb+/IL+gPv+BAIBgAAAAAEAAP3/A/8G/wALAAATIREhFSERIREjNTP/AYABgP6A/oD//wb//AGB+4AEgIEAAAEAAP3+A/8G/gALAAATIREhESERIREjETP/AYABgP6A/oD//wb+/IL+gPv+BAIBgAAAAAACAAACAQQAA4AAAwAHAAARIRUhESEVIQQA/AAEAPwAAoKBAX+BAAAAAgEA/gIChAcAAAMABwAAATMRIwEzESMCA4GB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AACC6AAAgzgAAIN4AACDxAAAg+gAAIQwAACEZAAAhPAAAIVIAACFlAAAhewAAIZkAACGqAAAhvgAAIcoAACHkAAAh7wAAIf4AACILAAAiFQAAIi0AACJBAAAiXgAAImsAACJ4AAAihQAAIpYAACKmAAAiuAAAIsYAACLaAAAi7QAAIwYAACMZAAAjLAAAIz8AACNIAAAjWgAAI24AACONAAAjowAAI7YAACPMAAAj4wAAI/IAACQGAAAkEgAAJCEAACQsAAAkPAAAJEkAACRTAAAkZQAAJHkAACSTAAAkoAAAJK0AACS8AAAkzQAAJN0AACTvAAAk/QAAJQwAACUfAAAlMwAAJUkAACVeAAAlbwAAJX4AACWOAAAlnAAAJa0AACW7AAAl0QAAJeQAACX3AAAmFgAAJi0AACY6AAAmRQAAJlAAACZjAAAmigAAJqkAACa1AAAmxwAAJuEAACb3AAAnEQAAJykAACc4AAAnRwAAJ2AAACdwAAAndwAAJ5MAACeaAAAnoQAAJ6gAACexAAAnvAAAJ8YAACfQAAAn4gAAJ/MAACgDAAAoDgAAKB4AACgpAAAoNQAAKGYAAChvAAAofAAAKI0AACicAAAorAAAKMEAACjNAAAo6QAAKQIAACkkAAApQgAAKVcAAClnAAApdgAAKYgAACmZAAApswAAKcwAACnoAAAqAQAAKhcAAColAAAqOAAAKkYAACpNAAAqZAAAKngAACqBAAAqkgAAKqMAACq0AAAqwAAAKtsAACrrAAAq+AAAKw8AACslAAArLgAAKzgAACtBAAArSAAAK08AACtWAAArXQAAK2YAACtwAAAreQAAK4IAACuLAAArlQAAK54AACunAAArsQAAK7wAACvGAAAr0AAAK9oAACvkAAAr7gAAK/gAACwBAAAsCwAALBQAACweAAAsKAAALDIAACw7AAAsRQAALFEAACxeAAAsagAALHcAACyBAAAsiwAALJYAACyiAAAssAAALLwAACzIAAAs1wAALOIAACztAAAs+wAALQYAAC0RAAAtHwAALSsAAC04AAAtSgAALVYAAC1jAAAtdAAALYEAAC2NAAAtnwAALawAAC24AAAtyQAALdoAAC3rAAAuBAAALgsAAC4SAAAuGQAALiAAAC4nAAAuYQAALs4AAC88AAAvQwAAL0oAAC9XAAAvZgAAL3MAAC+CAAAvmAAAL7IAAC/EAAAv2gAAMAEAADAgAAAwOAAAME0AADBlAAAweAAAMJAAADCiAAAwtQAAMMUAADDfAAAw8QAAMQoAADEcAAAxHAAAMRwAADEcAAAxOgAAMVEAADFRAAAxUQAAMWQAADGIAAAxiAAAMYgAADGIAAAxiAAAMYgAADGIAAAxqgAAMcAAADHLAAAxywAAMdgAADHfAAAx6AAAMe8AADH6AAAyBgAAMgYAADIiAAAyIgAAMiIAADIsAAAyNQAAMlwAADJ7AAAyjQAAMqAAADK4AAAyywAAMtcAADLpAAAzAwAAMyoAADNJAAAzWwAAM3MAADOGAAAzlwAAM7MAADPEAAAzxAAAM8QAADPLAABAAAAAQAAENs2+18PPPUCCwgAAAAAAMy6EogAAAAAzLmr1v///f4EAwcBAAAACAAAAAEAAAAABAAAAAAAAAAEAAAAAAACAAB/AH8AfgCAAH4BfwGBAQAA/wCAAQEAgAGAAH4AfgD/AIAAgACAAIAAgACAAIAAgAGAAQEBAAB/AQAAfwCAAIAAgACAAIAAgACAAIAAgAEAAH8AgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAEAAIABAACAAAIBfgB/AIAAgACAAIAAgACAAIABAQCAAIAA/wCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAGAAQAAgAEAAAACAACCAIAAgACAAgAAgAB/AIAA/wCAAIIAgACAAQABAAD/AP8BAAGAAIAAgAF/AQABAAD/AIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAEAAQABAAEAAIAAgACAAIAAgACAAIAA/wCAAIAAgACAAIAAgACAAIAAfwB/AH8AfwB/AH8AgACAAIAAgACAAIAA/wEBAP8A/wCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAfwCAAH8AgAB/AIAAgACAAIAAgP//AH0AgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAEBAQEBAQEBAQEBAQCAAIAAgAD/AIAA/wCAAP8AfwCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAH8BAQCAAIAAgACAAIAAgAEBAQEA/wF/AQABfwB/AIABAQGAAIABfwGBAX8AgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAQEAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIABAQCAAIAAgACAAQEAgACAAIAAgACAAIAAgACAAIABAQCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAQEAgACAAIAAgACAAIAAgACAAIABAQEBAH8AgACAAIAAgACAAIAAgACAAIAAgAB/AIAAfwCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACBAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACBAIAAgACAAIAAgACAAIAAfgCAAH8AgACAAIIAgQCBAIIAgACAAIAAgACAAIAAgACAAIABAAEAAIAAgACAAIAAgAB+AIAAgACAAH8AfwB/AQAAfwB+AH8AAAB/AQEAgQEBAQAAgAEBAIAAAAAAAAABfwF/AQEAgACAAIABAQEBAIABAQB/AX8BAQGAAYABAAB/AQEAgACAAIAAAAAAAIABAQCAAQEAAQEBAQEAgACAAIAAgAABAX8AAQCAAIAAgACAAIABAQCAAIABAAEBAQAAggH/AIAAAAAAAYABAAGAAP8AAAABAYABAAAAAAEBgAF/AQABAAABAAAAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAGAAQABAAAAAAAAAAF/AP0A/QAAAAAAAAF/AP0A/QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgD//wAA//8AgACAAIABAQCAAIEBAQB+AH8AfwB/AH8AfwEBAIAAgACAAH8AfwCAAAAAgACAAIAAAAAAAAAAgACAAAAAAACAAIAAAAAAAAAAAAAAAAAAgACAAP8AAACAAX0AAAF9AQABAAAAAIAAAAAAAX8AAQCAAIAAfwCAAIAAgAEBAIAAfwCAAIAAfwCAAIAAgAAAAIAAAAAAAgAAAQAB//8AAgAAAAEAAAAAAAEAAAAOAAAAGAAAAAAAAgABAAECrAABAAQAAAACAAAAAAAOAK4AAQAAAAAAAAA5AAAAAQAAAAAAAQAKADkAAQAAAAAAAgAH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')\"","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport { BaseGame } from '../base_game';\r\nimport { Hierarchy } from './hierarchy';\r\nimport { DebugFlagButtons, DebugFlagsType } from './debug_flag_buttons';\r\nimport { IS_DEBUG } from '../environment';\r\nimport { Entity } from '../entity';\r\nimport { Container } from 'pixi.js';\r\nimport { TextEntity } from '../text_entity';\r\nimport { Debug } from '../debug';\r\n\r\ntype ReactWrapperProps = {\r\n  game      : BaseGame<{}>;\r\n  debugFlags: DebugFlagsType;\r\n};\r\n\r\ntype ReactWrapperState = {\r\n  selected: Entity | Container | null;\r\n  moused: Entity | Container | null;\r\n};\r\n\r\nexport class GameReactWrapper extends React.Component<ReactWrapperProps, ReactWrapperState> {\r\n  static Instance: GameReactWrapper;\r\n  mounted = false;\r\n\r\n  constructor(props: ReactWrapperProps) {\r\n    super(props);\r\n\r\n    this.state = { \r\n      selected: this.props.game.stage,\r\n      moused  : null,\r\n    };\r\n\r\n    setInterval(() => this.monitorHierarchyUpdates(), 500);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.mounted = true;\r\n    GameReactWrapper.Instance = this;\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    console.error(\"This should never happen!!!! very bad?!?\");\r\n  }\r\n\r\n  monitorHierarchyUpdates = () => {\r\n    if (this.mounted) {\r\n      this.forceUpdate();\r\n    }\r\n  };\r\n\r\n  setSelected = (obj: Entity | Container) => {\r\n    this.setState({\r\n      selected: obj,\r\n    });\r\n  };\r\n\r\n  setMoused = (obj: Entity | Container | null) => {\r\n    this.setState({\r\n      moused: obj,\r\n    });\r\n  };\r\n\r\n\r\n  renderSelected = () => {\r\n    const target = this.state.moused || this.state.selected;\r\n\r\n    if (target === null) { return null; }\r\n\r\n    if (target instanceof Container) {\r\n      return (\r\n        <div style={{ fontWeight: 600, fontFamily: 'arial', paddingTop: '8px', paddingBottom: '8px', fontSize: '18px' }}>Stage</div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <div style={{ fontWeight: 600, fontFamily: 'arial', paddingTop: '8px', paddingBottom: '8px', fontSize: '18px' }}>{ target.name }</div>\r\n        <div>\r\n          x: { target.x }, y: { target.y }\r\n        </div>\r\n        <div>\r\n          xAbs: { target.positionAbsolute().x }, yAbs: { target.positionAbsolute().y }\r\n        </div>\r\n        <div>\r\n          width: { target.width }, height: { target.height }\r\n        </div>\r\n        <div>\r\n          visible: { target.visible ? \"true\" : \"false\" }\r\n        </div>\r\n        <div>\r\n          scaleX: { target.scale.x.toFixed(2) } scaleY: { target.scale.y.toFixed(2) }\r\n        </div>\r\n        {\r\n          target instanceof TextEntity \r\n            ? <div>text: { target.html }</div>\r\n            : <div>hi</div>\r\n        }\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderHierarchy() {\r\n    // if (DebugFlags[\"High Performance\"]) return null;\r\n    // return null;\r\n\r\n    return null;\r\n\r\n    return (<div>\r\n      <Hierarchy \r\n        selectedEntity={ this.state.selected }\r\n        setMoused={ this.setMoused } \r\n        setSelected={ this.setSelected } \r\n        root={this.props.game.stage} \r\n        gameState={this.props.game.state} \r\n      /> \r\n      <Hierarchy \r\n        selectedEntity={ this.state.selected }\r\n        setMoused={ this.setMoused } \r\n        setSelected={ this.setSelected } \r\n        root={this.props.game.fixedCameraStage} \r\n        gameState={this.props.game.state} \r\n      />\r\n      </div>)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div style={{\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        borderLeft: IS_DEBUG ? \"1px solid lightgray\" : 0,\r\n        marginLeft: '16px',\r\n        paddingLeft: '8px',\r\n      }}>\r\n        <div style={{\r\n          overflow: \"auto\",\r\n          height: \"90vh\",\r\n          fontFamily: 'arial',\r\n          fontSize: '14px',\r\n        }}>\r\n          { this.props.game && this.props.game.stage && IS_DEBUG &&\r\n            <div style={{ paddingLeft: '8px', }}>\r\n              <div style={{ fontFamily: \"arial\", marginBottom: '8px', fontSize: '14px', width: '300px', padding: '8px' }}>\r\n                Note: This debugging panel is only shown in development, or production with ?debug=true.\r\n              </div>\r\n              <div style={{ fontWeight: 600, fontFamily: 'arial', paddingBottom: '8px', fontSize: '18px' }}>Debug Options</div>\r\n              <DebugFlagButtons flags={ this.props.debugFlags } />\r\n\r\n              <div>\r\n                Draw Count: { Debug.GetDrawCount() }\r\n              </div>\r\n              { this.renderSelected() }\r\n\r\n              <div style={{ fontWeight: 600, fontFamily: 'arial', paddingTop: '8px', paddingBottom: '8px', fontSize: '18px' }}>Debug Hierarchy</div>\r\n              {this.renderHierarchy()}\r\n            </div> \r\n          }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport const CreateGame = (game: BaseGame<any>, debugFlags: DebugFlagsType) => {\r\n  ReactDOM.render(\r\n    <React.StrictMode>\r\n      <GameReactWrapper\r\n        game={ game }\r\n        debugFlags={ debugFlags }\r\n      />\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n  );\r\n}","import { Vector2, IVector2 } from \"./geometry/vector2\";\r\nimport { Entity } from \"./entity\";\r\nimport { Rect } from \"./geometry/rect\";\r\nimport { Debug } from \"./debug\";\r\nimport { IGameState } from \"Library\";\r\n\r\nexport class Camera {\r\n  private static LERP_SPEED = 0.03;\r\n\r\n  /**\r\n   * Top left coordinate of the camera.\r\n   */\r\n  private _position        = Vector2.Zero;\r\n  private _desiredPosition = Vector2.Zero;\r\n  private _stage           : Entity;\r\n  private _canvasWidth     : number;\r\n  private _canvasHeight    : number;\r\n  private _currentBounds   : Rect;\r\n\r\n  constructor(props: { \r\n    stage       : Entity;\r\n    state       : IGameState;\r\n    canvasWidth : number; \r\n    canvasHeight: number;\r\n    scale       : number;\r\n    bounds      : Rect;\r\n  }) {\r\n    this._stage            = props.stage;\r\n    this._canvasWidth      = props.canvasWidth / props.scale;\r\n    this._canvasHeight     = props.canvasHeight / props.scale;\r\n    this._currentBounds    = props.bounds;\r\n\r\n    this._immediatelyCenterOn(new Vector2({ \r\n      x: this._canvasWidth/ 2, \r\n      y: this._canvasHeight / 2 \r\n    }));\r\n\r\n    this._desiredPosition = this._position;\r\n  }\r\n\r\n  public get center(): Vector2 {\r\n    return new Vector2({\r\n      x: this._position.x + this._canvasWidth / 2,\r\n      y: this._position.y + this._canvasHeight / 2\r\n    });\r\n  }\r\n\r\n  public setBounds(newBounds: Rect) {\r\n    this._currentBounds = newBounds;\r\n  }\r\n\r\n  public getBounds(): Rect {\r\n    return this._currentBounds;\r\n  }\r\n\r\n  public cameraFrame(): Rect {\r\n    return new Rect({\r\n      x     : this.center.x - this._canvasWidth / 2,\r\n      y     : this.center.y - this._canvasHeight / 2,\r\n      width : this._canvasWidth,\r\n      height: this._canvasHeight,\r\n    });\r\n  }\r\n\r\n  private halfDimensions(): Vector2 {\r\n    return new Vector2({\r\n      x: this._canvasWidth / 2,\r\n      y: this._canvasHeight / 2\r\n    });\r\n  }\r\n\r\n  private _immediatelyCenterOn = (position: IVector2) => {\r\n    this._position = new Vector2(position).subtract(this.halfDimensions());\r\n  };\r\n\r\n  centerOn = (position: IVector2, immediate = false) => {\r\n    if (immediate) {\r\n      this._immediatelyCenterOn(position);\r\n    } else {\r\n      this._desiredPosition = new Vector2(position).subtract(this.halfDimensions());\r\n    }\r\n  };\r\n\r\n  calculateDesiredPosition = (): Vector2 => {\r\n    let desiredPosition = this._desiredPosition;\r\n\r\n    const currentBounds = this._currentBounds;\r\n\r\n    if (!currentBounds) {\r\n      console.error(\"no region for camera!\");\r\n\r\n      return desiredPosition;\r\n    }\r\n\r\n    if (currentBounds.width < this._canvasWidth || currentBounds.height < this._canvasHeight) {\r\n      throw new Error(`There is a region on the map which is too small for the camera at x: ${ currentBounds.x } y: ${ currentBounds.y }.`);\r\n    }\r\n\r\n    // fit the camera rect into the regions rect\r\n\r\n    if (desiredPosition.x < currentBounds.left) {\r\n      desiredPosition = desiredPosition.withX(currentBounds.left);\r\n    }\r\n\r\n    if (desiredPosition.x + this.cameraFrame().width > currentBounds.right) {\r\n      desiredPosition = desiredPosition.withX(currentBounds.right - this._canvasWidth);\r\n    }\r\n\r\n    if (desiredPosition.y < currentBounds.top) {\r\n      desiredPosition = desiredPosition.withY(currentBounds.top);\r\n    }\r\n\r\n    if (desiredPosition.y + this.cameraFrame().height > currentBounds.bottom) {\r\n      desiredPosition = desiredPosition.withY(currentBounds.bottom - this._canvasHeight);\r\n    }\r\n\r\n    return desiredPosition;\r\n  };\r\n\r\n  update = (state: IGameState) => {\r\n    if (Debug.DebugMode) {\r\n      return;\r\n    }\r\n\r\n    const desiredPosition = this.calculateDesiredPosition();\r\n\r\n    this._position = this._position.lerp(desiredPosition, Camera.LERP_SPEED);\r\n\r\n    this._position = new Vector2(\r\n      Math.floor(this._position.x / 4) * 4, \r\n      Math.floor(this._position.y / 4) * 4\r\n    );\r\n\r\n    this._stage.x = Math.floor(-this._position.x);\r\n    this._stage.y = Math.floor(-this._position.y);\r\n  };\r\n}","// 2D array that allows for negative indices\r\nexport class DefaultGrid<T> {\r\n  private _data: { [key: number]: { [key: number]: T} } = {};\r\n  private _makeDefault: (x: number, y: number) => T;\r\n  private _count = 0;\r\n\r\n  constructor(makeDefault: (x: number, y: number) => T) {\r\n    this._makeDefault = makeDefault;\r\n  }\r\n\r\n  getCount() {\r\n    return this._count;\r\n  }\r\n\r\n  keys(): { x: number, y: number }[] {\r\n    const result: { x: number, y: number }[] = [];\r\n\r\n    for (const x of Object.keys(this._data)) {\r\n      const inner = this._data[Number(x)];\r\n\r\n      for (const y of Object.keys(inner)) {\r\n        result.push({ \r\n          x: Number(x), \r\n          y: Number(y),\r\n        });\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  values(): T[] {\r\n    const result: T[] = [];\r\n\r\n    for (const x of Object.keys(this._data)) {\r\n      const inner = this._data[Number(x)];\r\n\r\n      for (const y of Object.keys(inner)) {\r\n        result.push(inner[Number(y)]);\r\n      }\r\n    }\r\n\r\n    return result;\r\n\r\n  }\r\n\r\n  set(x: number, y: number, value: T) {\r\n    if (!this._data[x]) {\r\n      this._data[x] = {};\r\n    }\r\n\r\n    if (!this._data[x][y]) {\r\n      this._count++;\r\n    }\r\n\r\n    this._data[x][y] = value;\r\n  }\r\n\r\n  get(x: number, y: number): T {\r\n    if (!this._data[x]) {\r\n      this._data[x] = {};\r\n    }\r\n\r\n    if (this._data[x][y] === undefined) {\r\n      this._data[x][y] = this._makeDefault(x, y);\r\n    }\r\n\r\n    return this._data[x][y];\r\n  }\r\n}\r\n","import { Application, Renderer, Point } from \"pixi.js\";\r\nimport { Entity } from \"./entity\";\r\nimport { Debug } from \"./debug\";\r\nimport { HashSet } from \"./data_structures/hash\";\r\nimport { TypesafeLoader, AllResourcesType } from \"./typesafe_loader\";\r\nimport { CreateGame as ReactMountGame } from \"./react/react_root\";\r\nimport { Camera } from \"./camera\";\r\nimport { DebugFlagsType } from \"./react/debug_flag_buttons\";\r\nimport { CollisionHandler } from \"./collision_handler\";\r\nimport { Rect } from \"./geometry/rect\";\r\nimport { CoroutineManager } from \"./coroutine_manager\";\r\nimport { IGameState } from 'Library';\r\nimport { BaseGameState } from \"./base_state\";\r\nimport { DebugFlags } from \"../game/debug\";\r\n\r\nexport let GameReference: BaseGame<any>;\r\n\r\nexport type GameArgs = {\r\n  scale       : number;\r\n  canvasWidth : number;\r\n  canvasHeight: number;\r\n  tileHeight  : number;\r\n  tileWidth   : number;\r\n  debugFlags  : DebugFlagsType;\r\n  state       : Omit<IGameState, keyof BaseGameState>;\r\n  assets      : TypesafeLoader<any>;\r\n};\r\n\r\nexport const StageName         = \"Stage\";\r\nexport const FixedStageName    = \"FixedStage\";\r\nexport const ParallaxStageName = \"ParallaxStage\";\r\n\r\nexport class BaseGame<TResources extends AllResourcesType = {}> {\r\n  app   : PIXI.Application;\r\n\r\n  state : IGameState;\r\n\r\n  /** \r\n   * The root of the display hierarchy for the game. Everything that exists in\r\n   * the game that isn't fixed as the camera moves should be under this.\r\n   */\r\n  stage : Entity;\r\n\r\n  parallaxStage: Entity;\r\n\r\n  /**\r\n   * A stage for things in the game that don't move when the camera move and are\r\n   * instead fixed to the screen. For example, the HUD.\r\n   */\r\n  fixedCameraStage: Entity;\r\n\r\n  private assets: TypesafeLoader<TResources>;\r\n\r\n  renderer: Renderer;\r\n\r\n  camera: Camera;\r\n\r\n  collisionHandler: CollisionHandler;\r\n\r\n  coroutineManager: CoroutineManager;\r\n\r\n  constructor(props: GameArgs) {\r\n    GameReference = this;\r\n\r\n    this.coroutineManager = new CoroutineManager(this);\r\n    this.state = {\r\n      ...(new BaseGameState()),\r\n      ...props.state,\r\n    } \r\n\r\n    const view = document.getElementById('canvas');\r\n\r\n    if (!view) {\r\n      throw new Error(\"I couldn't find an element named #canvas on initialization. Giving up!\")\r\n    }\r\n\r\n    this.collisionHandler = new CollisionHandler({\r\n      canvasWidth : props.canvasWidth / props.scale,\r\n      canvasHeight: props.canvasHeight / props.scale,\r\n      tileHeight  : props.tileHeight,\r\n      tileWidth   : props.tileWidth,\r\n    });\r\n\r\n    this.app = new Application({\r\n      width          : props.canvasWidth,\r\n      height         : props.canvasHeight,\r\n      antialias      : false,\r\n      transparent    : false,\r\n      resolution     : DebugFlags[\"High Performance\"] ? window.devicePixelRatio / 2 : window.devicePixelRatio,\r\n      autoDensity    : true,\r\n      backgroundColor: 0x4e5759,\r\n      view           : view as HTMLCanvasElement,\r\n    });\r\n\r\n    this.app.stage.scale = new Point(props.scale, props.scale);\r\n\r\n    this.parallaxStage = new Entity({ name: ParallaxStageName });\r\n    this.stage = new Entity({ name: StageName });\r\n    this.fixedCameraStage = new Entity({ name: FixedStageName });\r\n\r\n    this.state.stage = this.stage;\r\n\r\n    this.app.stage.addChild(this.parallaxStage.sprite);\r\n    this.app.stage.addChild(this.stage.sprite);\r\n    this.app.stage.addChild(this.fixedCameraStage.sprite);\r\n\r\n    this.state.renderer = this.app.renderer;\r\n    this.state.stage = this.stage;\r\n\r\n    this.assets = props.assets;\r\n    this.assets.onLoadComplete(() => this.startGameLoop());\r\n    this.assets.onLoadComplete(() => this.initialize());\r\n\r\n    this.renderer = this.app.renderer;\r\n\r\n    this.camera = new Camera({\r\n      stage           : this.stage,\r\n      state           : this.state,\r\n      canvasWidth     : props.canvasWidth,\r\n      canvasHeight    : props.canvasHeight,\r\n      scale           : props.scale,\r\n      bounds          : new Rect({ x: -5000, y: -5000, width: 10000, height: 10000 }),\r\n    });\r\n\r\n    this.state.camera = this.camera;\r\n\r\n    ReactMountGame(this, props.debugFlags);\r\n\r\n    this.stage.sprite.sortableChildren = true;\r\n    this.fixedCameraStage.sprite.sortableChildren = true;\r\n  }\r\n\r\n  /**\r\n   * Called after resources are finished loading.\r\n   */\r\n  initialize() {\r\n\r\n  }\r\n\r\n  startGameLoop = () => {\r\n    this.app.ticker.add(() => this.gameLoop());\r\n  };\r\n\r\n  gameLoop() {\r\n    Debug.Clear();\r\n\r\n    const { entities } = this.state;\r\n\r\n    if (!this.state.lastCollisionGrid) {\r\n      const grid = this.collisionHandler.buildCollisionGrid({\r\n        bounds  : new Rect({ x: 0, y: 0, width: 5000, height: 5000 }),\r\n        entities: this.state.entities,\r\n      });\r\n\r\n      this.state.lastCollisionGrid = grid;\r\n    }\r\n\r\n    this.state.tick++;\r\n\r\n    this.state.keys.update();\r\n\r\n    for (const entity of entities.values()) {\r\n      entity.baseUpdate(this.state);\r\n    }\r\n\r\n    this.state.entities = new HashSet(entities.values().filter(ent => !this.state.toBeDestroyed.includes(ent)));\r\n\r\n    for (const entity of this.state.toBeDestroyed) {\r\n      if (entity.sprite.parent) {\r\n        entity.sprite.parent.removeChild(entity.sprite);\r\n      }\r\n\r\n      this.coroutineManager.stopCoroutinesOwnedBy(entity);\r\n    }\r\n\r\n    this.state.toBeDestroyed = [];\r\n\r\n    const activeEntities = new HashSet(this.state.entities.values().filter(e => e.activeModes.includes(this.state.mode)));\r\n\r\n    const grid = this.collisionHandler.buildCollisionGrid({\r\n      bounds  : this.camera.getBounds(),\r\n      entities: activeEntities,\r\n    });\r\n\r\n    this.state.lastCollisionGrid = grid;\r\n\r\n    this.collisionHandler.resolveCollisions({\r\n      entities: activeEntities,\r\n      grid    : grid,\r\n    });\r\n\r\n    this.camera.update(this.state);\r\n\r\n    this.coroutineManager.updateCoroutines(this.state);\r\n\r\n    Debug.ResetDrawCount();\r\n  };\r\n}","import { Graphics } from \"pixi.js\";\r\nimport { Rect } from \"./geometry/rect\";\r\nimport { Entity } from \"./entity\";\r\nimport { Vector2 } from \"./geometry/vector2\";\r\nimport { DefaultGrid } from \"./data_structures/default_grid\";\r\nimport { RectGroup } from \"./geometry/rect_group\";\r\nimport { Debug } from \"./debug\";\r\nimport { Vine } from \"../game/vine_flower\";\r\n\r\nexport type CollisionResultRect = {\r\n  firstRect    : Rect;\r\n  secondRect   : Rect;\r\n  otherEntity ?: Entity;\r\n  thisEntity?: Entity;\r\n  overlap      : Rect;\r\n};\r\n\r\ntype CollisionResultPoint = {\r\n  firstRect    : Rect;\r\n  secondRect   : Rect;\r\n  firstEntity ?: Entity;\r\n  secondEntity?: Entity;\r\n  overlap      : Vector2;\r\n};\r\n\r\nexport class CollisionGrid {\r\n  private _position: Vector2 = Vector2.Zero;\r\n  private _width: number;\r\n  private _height: number;\r\n  private _cellSize: number;\r\n  private _numCellsPerRow: number;\r\n  private _numCellsPerCol: number;\r\n  private _cells: DefaultGrid<Cell>;\r\n  private _renderLines: Graphics | null = null;\r\n\r\n  constructor(props: {\r\n    width   : number;\r\n    height  : number;\r\n    cellSize: number;\r\n  }) {\r\n    const { width, height, cellSize } = props;\r\n\r\n    this._width = width;\r\n    this._height = height;\r\n    this._cellSize = cellSize;\r\n\r\n    this._numCellsPerRow = Math.ceil(width / cellSize);\r\n    this._numCellsPerCol = Math.ceil(height / cellSize);\r\n\r\n    this._cells = new DefaultGrid<Cell>((x, y) => new Cell(\r\n      new Vector2({ x: x * cellSize, y: y * cellSize }),\r\n      cellSize\r\n    ));\r\n  }\r\n\r\n  debug() {\r\n    for (let x = 0; x < 10; x++) {\r\n      for (let y = 0; y < 10; y++) {\r\n        // Draw cell\r\n\r\n        Debug.DrawRect(new Rect({ \r\n          x     : x * this._cellSize,\r\n          y     : y * this._cellSize,\r\n          width : this._cellSize,\r\n          height: this._cellSize,\r\n        }), 0xff0000, true, \"fixed\");\r\n\r\n        for (const obj of this._cells.get(x, y).colliders) {\r\n          Debug.DrawRect(obj.rect, 0xff0000, true, \"fixed\");\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public get topLeft() {\r\n    return this._position;\r\n  }\r\n\r\n  public get center() {\r\n    return this._position.add({ x: this._width/2, y: this._height / 2 })\r\n  }\r\n\r\n  /** \r\n   * Checks if the provided rect would collide with anything on the grid. If an\r\n   * entity is passed in, ignores that entity when checking for collisions.\r\n   * (Does not add the rect to the grid.)\r\n   */\r\n  getRectCollisions = (rect: Rect, skipEntity?: Entity): CollisionResultRect[] => {\r\n    const cells: Cell[] = [];\r\n\r\n    const lowX  = Math.floor(rect.x           / this._cellSize);\r\n    const highX = Math.ceil((rect.x + rect.width) / this._cellSize);\r\n\r\n    const lowY  = Math.floor(rect.y           / this._cellSize);\r\n    const highY = Math.ceil((rect.y + rect.height) / this._cellSize);\r\n\r\n    for (let x = lowX; x < highX; x++) {\r\n      for (let y = lowY; y < highY; y++) {\r\n        cells.push(this._cells.get(x, y));\r\n      }\r\n    }\r\n\r\n    const collisions: CollisionResultRect[] = [];\r\n\r\n    for (const cell of cells) {\r\n      for (const { rect: rectInCell, entity: entityInCell } of cell.colliders) {\r\n        if (entityInCell === skipEntity) {\r\n          continue;\r\n        }\r\n\r\n        const overlap = rect.getIntersection(rectInCell);\r\n\r\n        if (overlap) {\r\n          collisions.push({\r\n            firstRect   : rectInCell,\r\n            otherEntity : entityInCell,\r\n\r\n            secondRect  : rect,\r\n            thisEntity  : skipEntity,\r\n\r\n            overlap,\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    return collisions;\r\n  };\r\n\r\n  getRectGroupCollisions = (group: RectGroup, entity?: Entity): CollisionResultRect[] => {\r\n    let collisions: CollisionResultRect[] = [];\r\n\r\n    for (const rect of group.getRects()) {\r\n      collisions = [\r\n        ...collisions,\r\n        ...this.getRectCollisions(rect, entity),\r\n      ];\r\n    }\r\n\r\n    return collisions;\r\n  }\r\n\r\n  /** \r\n   * Same as collidesRect but immediately returns true if there's a collision.\r\n   */\r\n  collidesRectFast = (rect: Rect, entity?: Entity): boolean => {\r\n    const corners = rect.getCorners();\r\n    const cells = corners.map(corner => this._cells.get(\r\n      Math.floor(corner.x / this._cellSize),\r\n      Math.floor(corner.y / this._cellSize),\r\n    ));\r\n\r\n    const uniqueCells: { [key: string]: Cell } = {};\r\n\r\n    for (const cell of cells) {\r\n      uniqueCells[cell.hash()] = cell;\r\n    }\r\n\r\n    const values = Object.values(uniqueCells);\r\n\r\n    for (const cell of values) {\r\n      for (const { rect: rectInCell, entity: entityInCell } of cell.colliders) {\r\n        if (entityInCell === entity) {\r\n          continue;\r\n        }\r\n\r\n        const overlap = rect.intersects(rectInCell);\r\n\r\n        if (overlap) {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  collidesPoint = (point: Vector2, takeFirst = false): CollisionResultPoint[] => {\r\n    const cell = this._cells.get(\r\n      Math.floor(point.x / this._cellSize),\r\n      Math.floor(point.y / this._cellSize),\r\n    );\r\n    const collisions: CollisionResultPoint[] = [];\r\n\r\n    for (const { rect, entity: entityInCell } of cell.colliders) {\r\n      const overlap = rect.contains(point);\r\n\r\n      if (overlap) {\r\n        collisions.push({\r\n          firstRect   : rect,\r\n          firstEntity : entityInCell,\r\n\r\n          secondRect  : rect,\r\n          secondEntity: undefined,\r\n\r\n          overlap     : point,\r\n        });\r\n\r\n        if (takeFirst) {\r\n          return collisions;\r\n        }\r\n      }\r\n    }\r\n\r\n    return collisions;\r\n  };\r\n\r\n  /**\r\n   * Get all collisions on the grid.\r\n   */\r\n  getAllCollisions = (): CollisionResultRect[] => {\r\n    const result: CollisionResultRect[] = [];\r\n\r\n    for (let cell of this.cells) {\r\n      const cellRects = cell.colliders;\r\n\r\n      for (let i = 0; i < cellRects.length; i++) {\r\n        for (let j = i; j < cellRects.length; j++) {\r\n          if (i === j) continue;\r\n\r\n          const collider1 = cellRects[i];\r\n          const collider2 = cellRects[j];\r\n\r\n          const intersection = collider1.rect.getIntersection(collider2.rect, false);\r\n\r\n          if (intersection !== undefined) {\r\n            result.push({\r\n              firstRect   : collider1.rect,\r\n              secondRect  : collider2.rect,\r\n              otherEntity : collider1.entity,\r\n              thisEntity: collider2.entity,\r\n              overlap     : intersection,\r\n            })\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  public get cells(): Cell[] {\r\n    return this._cells.values();\r\n  }\r\n\r\n  clear = () => {\r\n    for (const cell of this._cells.values()) {\r\n      cell.removeAll();\r\n    }\r\n  };\r\n\r\n  // Add a rect to the hash grid.\r\n  // Checks each corner, to handle entities that span multiply grid cells.\r\n  add = (rect: Rect, associatedEntity?: Entity) => {\r\n    const startX = Math.floor(rect.x      / this._cellSize);\r\n    const stopX  = Math.floor(rect.right  / this._cellSize);\r\n    const startY = Math.floor(rect.y      / this._cellSize);\r\n    const stopY  = Math.floor(rect.bottom / this._cellSize);\r\n\r\n    for (let x = startX; x <= stopX; x++) {\r\n      for (let y = startY; y <= stopY; y++) {\r\n        this._cells.get(x, y).add(rect, associatedEntity);\r\n      }\r\n    }\r\n  };\r\n\r\n  addRectGroup = (group: RectGroup, associatedEntity?: Entity) => {\r\n    for (const rect of group.getRects()) {\r\n      this.add(rect, associatedEntity);\r\n    }\r\n  }\r\n}\r\n\r\ntype CellItem = {\r\n  rect    : Rect; \r\n  entity ?: Entity;\r\n};\r\n\r\nexport class Cell {\r\n  private _bounds: Rect;\r\n  private _rects: CellItem[] = [];\r\n\r\n  constructor(topLeft: Vector2, cellSize: number) {\r\n    this._bounds = Rect.FromPoint(topLeft, cellSize);\r\n  }\r\n\r\n  public get colliders(): CellItem[] {\r\n    return this._rects;\r\n  }\r\n\r\n  add = (rect: Rect, entity?: Entity) => {\r\n    this._rects.push({ rect, entity });\r\n  };\r\n\r\n  removeAll = () => {\r\n    this._rects = [];\r\n  };\r\n\r\n  hash(): string {\r\n    return this._bounds.toString();\r\n  }\r\n}","import { Entity } from \"./entity\";\r\nimport { Vector2 } from \"./geometry/vector2\";\r\nimport { CollisionGrid, CollisionResultRect } from \"./collision_grid\";\r\nimport { HashSet } from \"./data_structures/hash\";\r\nimport { Rect } from \"./geometry/rect\";\r\nimport { BouncyShroom } from \"../game/bouncy_shroom\";\r\nimport { RectGroup } from \"./geometry/rect_group\";\r\n\r\nexport type HitInfo = { \r\n  hit         : boolean; \r\n  left       ?: boolean;\r\n  right      ?: boolean;\r\n  up         ?: boolean;\r\n  down       ?: boolean;\r\n  collisions  : CollisionResultRect[];\r\n  interactions: CollisionResultRect[];\r\n};\r\n\r\nexport class CollisionHandler {\r\n  private _canvasWidth : number;\r\n  private _canvasHeight: number;\r\n  private _tileSize     : number;\r\n  \r\n  constructor(props: {\r\n    canvasWidth : number;\r\n    canvasHeight: number;\r\n    tileWidth   : number;\r\n    tileHeight  : number;\r\n  }) {\r\n    if (props.tileWidth !== props.tileHeight) {\r\n      throw new Error(\"Collision handler does not currently support tileWidth != tileHeight\");\r\n    }\r\n\r\n    this._canvasWidth  = props.canvasWidth;\r\n    this._canvasHeight = props.canvasHeight;\r\n    this._tileSize      = props.tileWidth;\r\n  }\r\n\r\n  buildCollisionGrid = (props: {\r\n    entities: HashSet<Entity>;\r\n    bounds             : Rect;\r\n  }): CollisionGrid => {\r\n    const { entities, bounds } = props;\r\n\r\n    const grid = new CollisionGrid({\r\n      width   : 2 * this._canvasWidth,\r\n      height  : 2 * this._canvasHeight,\r\n      cellSize: 4 * this._tileSize,\r\n    });\r\n\r\n    const collideableEntities = entities.values().filter(x => x.isCollideable() || x.isInteractable());\r\n\r\n    for (const entity of collideableEntities) {\r\n      const collisionRect = entity.collisionBounds().add(entity.positionAbsolute());\r\n\r\n      if (collisionRect.intersects(bounds)) {\r\n        const rectOrRectGroup = collisionRect;\r\n\r\n        if (rectOrRectGroup instanceof Rect) {\r\n          grid.add(rectOrRectGroup, entity);\r\n        } else {\r\n          grid.addRectGroup(rectOrRectGroup, entity);\r\n        }\r\n      }\r\n    }\r\n\r\n    return grid;\r\n  };\r\n\r\n  getHitsAt = (grid: CollisionGrid, bounds: Rect | RectGroup, entity: Entity): { hits: CollisionResultRect[]; interactions: CollisionResultRect[] } => {\r\n    const xHits =\r\n      bounds instanceof Rect \r\n        ? grid.getRectCollisions(bounds, entity) \r\n        : grid.getRectGroupCollisions(bounds, entity);\r\n\r\n    const hits         = xHits.filter(x => !x.otherEntity || (x.otherEntity && !x.otherEntity.isInteractable()));\r\n    const interactions = xHits.filter(x => (x.otherEntity && x.otherEntity.isInteractable()));\r\n\r\n    return { \r\n      hits,\r\n      interactions,\r\n    };\r\n  }\r\n\r\n  resolveCollisions = (props: {\r\n    entities: HashSet<Entity>;\r\n    grid    : CollisionGrid;\r\n  }) => {\r\n    const { entities, grid } = props;\r\n\r\n    for (const entity of entities.values()) {\r\n      const hitInfo: HitInfo = { \r\n        hit         : false, \r\n        collisions  : [],\r\n        interactions: [],\r\n      };\r\n\r\n      if (entity.velocity.x === 0 && entity.velocity.y === 0) { continue; }\r\n\r\n      let updatedBounds = entity.collisionBounds().add(entity.positionAbsolute());\r\n\r\n      const xVelocity = new Vector2({ x: entity.velocity.x, y: 0 });\r\n      const yVelocity = new Vector2({ x: 0, y: entity.velocity.y });\r\n\r\n      let delta = Vector2.Zero;\r\n\r\n      // resolve x-axis\r\n\r\n      delta = delta.add(xVelocity);\r\n      updatedBounds = updatedBounds.add(xVelocity);\r\n\r\n      const { hits: xHits, interactions: xInteractions } = this.getHitsAt(grid, updatedBounds, entity);\r\n\r\n      if (xHits.length > 0) {\r\n        hitInfo.hit        = true;\r\n        hitInfo.right      = entity.velocity.x > 0;\r\n        hitInfo.left       = entity.velocity.x < 0;\r\n        hitInfo.collisions = [...hitInfo.collisions, ...xHits];\r\n\r\n        delta = delta.subtract(xVelocity);\r\n        updatedBounds = updatedBounds.subtract(xVelocity);\r\n\r\n        for (let x = 0; x < xVelocity.x; x++) {\r\n          updatedBounds = updatedBounds.add(new Vector2(1, 0));\r\n          delta         = delta.add(new Vector2(1, 0));\r\n\r\n          const { hits: newXHits } = this.getHitsAt(grid, updatedBounds, entity);\r\n\r\n          if (newXHits.length > 0) {\r\n            updatedBounds = updatedBounds.add(new Vector2(-1, 0));\r\n            delta         = delta.add(new Vector2(-1, 0));\r\n\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (xInteractions.length > 0) {\r\n        hitInfo.interactions = [...hitInfo.interactions, ...xInteractions];\r\n      }\r\n\r\n      // resolve y-axis\r\n\r\n      delta = delta.add(yVelocity);\r\n      updatedBounds = updatedBounds.add(yVelocity);\r\n\r\n      const { hits: yHits, interactions: yInteractions } = this.getHitsAt(grid, updatedBounds, entity);\r\n\r\n      if (yHits.length > 0) {\r\n        hitInfo.hit        = true;\r\n        hitInfo.up         = entity.velocity.y < 0;\r\n        hitInfo.down       = entity.velocity.y > 0;\r\n        hitInfo.collisions = [...hitInfo.collisions, ...yHits];\r\n\r\n        delta = delta.subtract(yVelocity);\r\n        updatedBounds = updatedBounds.subtract(yVelocity);\r\n\r\n        for (let y = 0; y < yVelocity.y; y++) {\r\n          updatedBounds = updatedBounds.add(new Vector2(0, 1));\r\n          delta         = delta.add(new Vector2(0, 1));\r\n\r\n          const { hits: newYHits } = this.getHitsAt(grid, updatedBounds, entity);\r\n\r\n          if (newYHits.length > 0) {\r\n            updatedBounds = updatedBounds.add(new Vector2(0, -1));\r\n            delta         = delta.add(new Vector2(0, -1));\r\n\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      if (yInteractions.length > 0) {\r\n        hitInfo.interactions = [...hitInfo.interactions, ...yInteractions];\r\n      }\r\n\r\n      entity.hitInfo = hitInfo;\r\n\r\n      hitInfo.hit = hitInfo.collisions.length > 0;\r\n\r\n      entity.x = entity.x + delta.x;\r\n      entity.y = entity.y + delta.y;\r\n    }\r\n  };\r\n}","import { KeyInfoType } from \"./keyboard\";\r\nimport { IGameState } from \"Library\";\r\nimport { Entity } from \"./entity\";\r\nimport { Game } from \"../game/game\";\r\nimport { BaseGame } from \"./base_game\";\r\nimport { IS_DEBUG } from \"./environment\";\r\n\r\n/**\r\n * const state: GameState = yield CoroutineResult;\r\n */\r\nexport type GameCoroutine = Generator<CoroutineResult, void, IGameState>\r\n\r\nexport type CoroutineResult = \"next\" | { frames: number } | { untilKeyPress: keyof KeyInfoType };\r\n\r\ntype ActiveCoroutine = {\r\n  fn     : GameCoroutine;\r\n  status : \r\n    | { waiting: false }\r\n    | { waiting: true; type: \"frames\"  ; frames: number }\r\n    | { waiting: true; type: \"untilKey\"; untilKey: keyof KeyInfoType }\r\n  name    : string;\r\n  owner   : Entity | Game;\r\n};\r\n\r\nexport type CoroutineId = number;\r\n\r\nexport class CoroutineManager {\r\n  private _lastCoroutineId: CoroutineId = -1;\r\n  private _activeCoroutines: { [key: number]: ActiveCoroutine } = [];\r\n  private _game: BaseGame<any>;\r\n\r\n  constructor(game: BaseGame<any>) {\r\n    this._game = game;\r\n  }\r\n\r\n  startCoroutine(name: string, co: GameCoroutine, owner: Entity | Game): CoroutineId {\r\n    for (const activeCo of Object.values(this._activeCoroutines)) {\r\n      if (activeCo.name === name) {\r\n        if (IS_DEBUG) {\r\n          throw new Error(`Two coroutines with the name ${ name }. Tell grant about this!!!`);\r\n        } else {\r\n          return 0;\r\n        }\r\n      }\r\n    }\r\n\r\n    this._activeCoroutines[++this._lastCoroutineId] = {\r\n      fn     : co,\r\n      status : { waiting: false },\r\n      name   : name,\r\n      owner  : owner,\r\n    };\r\n\r\n    return this._lastCoroutineId;\r\n  }\r\n\r\n  public stopCoroutine(id: CoroutineId): void {\r\n    delete this._activeCoroutines[id];\r\n  }\r\n\r\n  public updateCoroutines(state: IGameState): void {\r\n    for (const key of Object.keys(this._activeCoroutines)) {\r\n      const co = this._activeCoroutines[Number(key)];\r\n\r\n      if (co.status.waiting) {\r\n        if (co.status.type === \"frames\") {\r\n          if (co.status.frames-- < 0) {\r\n            co.status = { waiting: false };\r\n          } else {\r\n            continue;\r\n          }\r\n        } else if (co.status.type === \"untilKey\") {\r\n          if (state.keys.justDown[co.status.untilKey]) {\r\n            co.status = { waiting: false };\r\n          } else {\r\n            continue;\r\n          }\r\n        }\r\n      }\r\n\r\n      const { value, done } = co.fn.next(state);\r\n\r\n      if (done) {\r\n        this.stopCoroutine(Number(key));\r\n\r\n        continue;\r\n      }\r\n\r\n      if (value === \"next\") {\r\n        continue;\r\n      } \r\n\r\n      if (typeof value === \"object\") {\r\n        if (\"frames\" in value) {\r\n          co.status = { waiting: true, type: 'frames', frames: value.frames };\r\n\r\n          continue;\r\n        } else if (\"untilKeyPress\" in value) {\r\n          co.status = { waiting: true, type: 'untilKey', untilKey: value.untilKeyPress };\r\n\r\n          continue;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  stopCoroutinesOwnedBy(entity: Entity) {\r\n    const ids = Object.keys(this._activeCoroutines).map(k => Number(k));\r\n\r\n    for (const id of ids) {\r\n      if (this._activeCoroutines[id].owner === entity) {\r\n        this.stopCoroutine(id);\r\n      }\r\n    }\r\n  }\r\n}\r\n","const KeyInfo = () => ({\r\n  Q       : false,\r\n  W       : false,\r\n  E       : false,\r\n  R       : false,\r\n  T       : false,\r\n  Y       : false,\r\n  U       : false,\r\n  I       : false,\r\n  O       : false,\r\n  P       : false,\r\n  A       : false,\r\n  S       : false,\r\n  D       : false,\r\n  F       : false,\r\n  G       : false,\r\n  H       : false,\r\n  J       : false,\r\n  K       : false,\r\n  L       : false,\r\n  Z       : false,\r\n  X       : false,\r\n  C       : false,\r\n  V       : false,\r\n  B       : false,\r\n  N       : false,\r\n  M       : false,\r\n  Up      : false,\r\n  Down    : false,\r\n  Left    : false,\r\n  Right   : false,\r\n  Shift   : false,\r\n  Spacebar: false,\r\n  Enter   : false,\r\n});\r\n\r\nexport type KeyInfoType = ReturnType<typeof KeyInfo>;\r\n\r\ninterface QueuedKeyboardEvent {\r\n  isDown: boolean;\r\n  event : KeyboardEvent;\r\n}\r\n\r\nexport class KeyboardState {\r\n  public down     = KeyInfo();\r\n  public justDown = KeyInfo();\r\n  public justUp   = KeyInfo();\r\n\r\n  private _queuedEvents: QueuedKeyboardEvent[] = [];\r\n\r\n  constructor() {\r\n    document.addEventListener(\"keydown\", e => this.keyDown(e), false);\r\n    document.addEventListener(\"keyup\"  , e => this.keyUp(e),   false);\r\n    window.addEventListener(\"blur\"     , () => { \r\n      this.clear();\r\n    }, false);\r\n  }\r\n\r\n  public clear() {\r\n    this.down          = KeyInfo(); \r\n    this.justDown      = KeyInfo(); \r\n    this.justUp        = KeyInfo(); \r\n    this._queuedEvents = [];\r\n  }\r\n\r\n  private keyUp(e: KeyboardEvent): void {\r\n    // Since events usually happen between two ticks, we queue them up to be\r\n    // processed on the next tick.\r\n\r\n    this._queuedEvents.push({ event: e, isDown: false });\r\n  }\r\n\r\n  private keyDown(e: KeyboardEvent): void {\r\n    this._queuedEvents.push({ event: e, isDown: true });\r\n  }\r\n\r\n  private eventToKey(event: KeyboardEvent): string {\r\n    const number = event.keyCode || event.which;\r\n    let str: string;\r\n\r\n    switch (number) {\r\n      case 13: str = \"Enter\"; break;\r\n      case 16: str = \"Shift\"; break;\r\n      case 37: str = \"Left\" ; break;\r\n      case 38: str = \"Up\"   ; break;\r\n      case 39: str = \"Right\"; break;\r\n      case 40: str = \"Down\" ; break;\r\n\r\n      /* A-Z */\r\n      default: str = String.fromCharCode(number);\r\n    }\r\n\r\n    if (str === \" \") {\r\n      return \"Spacebar\";\r\n    }\r\n\r\n    if (str.length === 1) {\r\n      return str.toUpperCase();\r\n    }\r\n\r\n    return str[0].toUpperCase() + str.slice(1);\r\n  }\r\n\r\n  update(): void {\r\n    for (const key of Object.keys(this.justDown)) {\r\n      this.justDown[key as keyof KeyInfoType] = false;\r\n      this.justUp[key as keyof KeyInfoType] = false;\r\n    }\r\n\r\n    for (const queuedEvent of this._queuedEvents) {\r\n      const key = this.eventToKey(queuedEvent.event);\r\n\r\n      if (queuedEvent.isDown) {\r\n        if (!this.down[key as keyof KeyInfoType]) {\r\n          this.justDown[key as keyof KeyInfoType] = true;\r\n        }\r\n\r\n        this.down[key as keyof KeyInfoType] = true;\r\n      } else {\r\n        if (this.down[key as keyof KeyInfoType]) {\r\n          this.justUp[key as keyof KeyInfoType] = true;\r\n        }\r\n        \r\n        this.down[key as keyof KeyInfoType] = false;\r\n      }\r\n    }\r\n\r\n    this._queuedEvents = [];\r\n  }\r\n}","import { Renderer } from \"pixi.js\";\r\nimport { KeyboardState } from \"./keyboard\";\r\nimport { Entity } from \"./entity\";\r\nimport { HashSet } from \"./data_structures/hash\";\r\nimport { IGameState } from \"Library\";\r\nimport { Mode } from \"Library\";\r\nimport { CollisionGrid } from \"./collision_grid\";\r\n\r\nexport class BaseGameState implements Partial<IGameState> {\r\n  keys              : KeyboardState;\r\n  renderer         !: Renderer;\r\n  entities          = new HashSet<Entity>();\r\n  toBeDestroyed     : Entity[] = [];\r\n  stage            !: Entity;\r\n  spriteToEntity    : { [key: number]: Entity } = {};\r\n  mode              : Mode = \"Normal\";\r\n  lastCollisionGrid!: CollisionGrid;\r\n\r\n  constructor() {\r\n    this.keys = new KeyboardState();\r\n  }\r\n}\r\n","import { Entity } from \"../library/entity\";\r\nimport { TextEntity } from \"../library/text_entity\";\r\nimport { IGameState } from \"Library\";\r\n\r\nexport class HoverText extends Entity {\r\n  text  : TextEntity;\r\n  shadow: TextEntity;\r\n\r\n  constructor(text: string) {\r\n    super({ name: \"HoverText\" });\r\n\r\n    this.addChild(this.shadow = new TextEntity({\r\n      text    : text,\r\n      fontSize: 100,\r\n      color   : \"0x022a2e\",\r\n      width   : 700,\r\n    }));\r\n\r\n    this.shadow.x = 7;\r\n    this.shadow.y = 7;\r\n\r\n    this.addChild(this.text = new TextEntity({\r\n      text    : text,\r\n      fontSize: 100,\r\n      width   : 700,\r\n    }));\r\n  }\r\n\r\n  initialY: number | null = null;\r\n\r\n  update(state: IGameState) {\r\n    if (this.initialY === null) {\r\n      this.initialY = this.y;\r\n    }\r\n\r\n    this.y = this.initialY + Math.sin(state.tick / 30) * 30;\r\n  }\r\n}","import { Entity } from \"../library/entity\";\r\nimport { Sprite, BLEND_MODES } from \"pixi.js\";\r\nimport { Assets } from \"./assets\";\r\n\r\nexport class GabbysGlowThing extends Entity {\r\n  glowOverlay: Sprite;\r\n  \r\n  constructor(tint: number) {\r\n    super({ \r\n      name: \"GabbysGlowThing\",\r\n    });\r\n\r\n    this.glowOverlay = new Sprite(Assets.getResource(\"glow\"))\r\n    this.glowOverlay.blendMode = BLEND_MODES.SOFT_LIGHT;\r\n    this.glowOverlay.tint = tint;\r\n    this.glowOverlay.alpha = 0.35;\r\n    this.sprite.addChild(this.glowOverlay);\r\n    this.glowOverlay.position.x -= 800;\r\n    this.glowOverlay.position.y -= 400;\r\n    this.glowOverlay.zIndex = 1;\r\n  }\r\n}","import { Texture } from \"pixi.js\";\r\nimport { Entity } from \"../library/entity\";\r\nimport { C } from \"./constants\";\r\nimport { IGameState } from \"Library\";\r\nimport { HoverText } from \"./hover_text\";\r\nimport { Assets } from \"./assets\";\r\nimport { GameCoroutine } from \"../library/coroutine_manager\";\r\nimport { Rect } from \"../library/geometry/rect\";\r\nimport { Vector2 } from \"../library/geometry/vector2\";\r\nimport { Sfx } from \"./sfx\";\r\nimport { GabbysGlowThing } from \"./gabbys_glow_thing\";\r\n\r\nclass VineComponent extends Entity {\r\n  public frame = 0;\r\n  private frames = Assets.getResource(\"vine_live\");\r\n\r\n  constructor() {\r\n    super({ name: \"VineComponent\" });\r\n  }\r\n\r\n  setFrame(frame: number) {\r\n    this.texture = this.frames[frame];\r\n    this.frame = frame;\r\n  }\r\n}\r\n\r\nexport class Vine extends Entity {\r\n  finishedVineComponents: VineComponent[] = [];\r\n  parentFlower: VineFlower;\r\n  isActivated = false;\r\n\r\n  constructor(parentFlower: VineFlower) {\r\n    super({\r\n      name        : \"Vine\",\r\n      texture     : Assets.getResource(\"vine_live\")[0],\r\n      interactable: true,\r\n    });\r\n\r\n    this.parentFlower = parentFlower;\r\n  }\r\n\r\n  deadFrame = 4;\r\n  aliveFrame = 7;\r\n\r\n  *growVine(): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    this.visible = true;\r\n    this.isActivated = true;\r\n\r\n    for (let i = 1; true; i++) {\r\n      const ent = new VineComponent();\r\n      ent.setFrame(0);\r\n\r\n      const nextPosition = new Vector2(\r\n        (ent.width / 2),\r\n        (ent.height / 2 + this.y - ent.height * i)\r\n      ).add(this.positionAbsolute());\r\n\r\n      // Are we about to hit a wall?\r\n      if (state.lastCollisionGrid.collidesPoint(nextPosition).length > 0) {\r\n        break;\r\n      }\r\n\r\n      this.addChild(ent, 0, this.y - ent.height * i);\r\n\r\n      for (let frame = 0; frame < this.deadFrame; frame++) {\r\n        ent.setFrame(frame);\r\n\r\n        state = yield { frames: 1 };\r\n      }\r\n\r\n      this.finishedVineComponents.push(ent);\r\n    }\r\n\r\n    if (state.haveVinePerma) {\r\n      return;\r\n    }\r\n\r\n    for (let i = 0; i < 4; i++) {\r\n      const state = yield { frames: 60 };\r\n      state.sfx.tickSound.currentTime = 0;\r\n      state.sfx.tickSound.play();\r\n    }\r\n\r\n    this.parentFlower.texture = this.parentFlower.frames[this.parentFlower.frames.length - 2];\r\n\r\n    for (let i = 0; i < 4 * 2; i++) {\r\n      const state = yield { frames: 30 };\r\n      state.sfx.tickSound.currentTime = 0;\r\n      state.sfx.tickSound.play();\r\n    }\r\n\r\n    this.parentFlower.texture = this.parentFlower.frames[this.parentFlower.frames.length - 3];\r\n\r\n    for (let i = 0; i < 4 * 4; i++) {\r\n      const state = yield { frames: 15 };\r\n      state.sfx.tickSound.currentTime = 0;\r\n      state.sfx.tickSound.play();\r\n    }\r\n\r\n    state = yield \"next\";\r\n\r\n    state.sfx.tickSound2.play();\r\n\r\n    for (let i = 0; i < this.finishedVineComponents.length; i++) {\r\n      const comp = this.finishedVineComponents[i];\r\n\r\n      comp.parent?.removeChild(comp);\r\n      comp.destroy(state);\r\n\r\n      yield { frames: 8 };\r\n    }\r\n\r\n    this.finishedVineComponents = [];\r\n\r\n    yield* this.parentFlower.die()\r\n\r\n    this.parentFlower.interacted = false;\r\n  }\r\n\r\n  update(state: IGameState) {\r\n    if (state.tick % 8 !== 0) return;\r\n\r\n    for (const vine of this.finishedVineComponents) {\r\n      if (state.player.positionAbsolute().distance(vine.positionAbsolute()) < 600) {\r\n        if (vine.frame < this.aliveFrame) {\r\n          vine.setFrame(vine.frame + 1);\r\n        }\r\n      } else {\r\n        if (vine.frame > this.deadFrame) {\r\n          vine.setFrame(vine.frame - 1);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public collisionBounds(): Rect {\r\n    if (this.visible) {\r\n      const height = (this.finishedVineComponents.length * 256);\r\n\r\n      // tiny offsets make vine climbing more forgiving\r\n      return new Rect({\r\n        x     : -this.width*(1/14),\r\n        y     : -height,\r\n        width : this.width*(7/6),\r\n        height: height,\r\n      });\r\n    } else {\r\n      return new Rect({\r\n        x: 0, \r\n        y: 0,\r\n        width: 0,\r\n        height: 0\r\n      });\r\n    }\r\n  }\r\n}\r\n\r\nexport class VineFlower extends Entity {\r\n  interactionDistance = C.InteractionDistance;\r\n  frame = 0;\r\n  hoverText: HoverText;\r\n  interacted = false;\r\n\r\n  vine: Vine;\r\n  frames: Texture[];\r\n\r\n  constructor(tex: Texture) {\r\n    super({\r\n      name   : \"VineFlower\",\r\n      texture: Assets.getResource(\"vine_flower_live\")[0],\r\n    });\r\n\r\n    this.frames = Assets.getResource(\"vine_flower_live\");\r\n\r\n    this.addChild(this.hoverText = new HoverText(\"x: interact\"), 0, -80);\r\n    this.hoverText.visible = false;\r\n\r\n    this.addChild(this.vine = new Vine(this));\r\n\r\n    this.vine.sprite.anchor.set(0, 1); // grow upwards\r\n    this.vine.height = 256;\r\n    this.vine.visible = false;\r\n\r\n    this.addChild(new GabbysGlowThing(0x3c6ad1));\r\n  }\r\n\r\n  *animateAlive(): GameCoroutine {\r\n    for (let i = 0; i < this.frames.length; i++) {\r\n      this.texture = this.frames[i];\r\n\r\n      yield { frames: 8 };\r\n    }\r\n  }\r\n\r\n  *die(): GameCoroutine {\r\n    for (let i = 0; i < this.frames.length; i++) {\r\n      this.texture = this.frames[this.frames.length - i - 1];\r\n\r\n      yield { frames: 8 };\r\n    }\r\n  }\r\n\r\n  update(state: IGameState) {\r\n    if (state.player.position.distance(this.position) < this.interactionDistance) {\r\n      this.hoverText.visible = true;\r\n\r\n      if (state.keys.justDown.X && !this.interacted && state.spiritUnused >= 1) {\r\n        state.spiritUnused -= 1;\r\n\r\n        this.interacted = true;\r\n\r\n        state.sfx.useSpirit.play();\r\n\r\n        this.startCoroutine(`animateAlive-${ this.id }`, this.animateAlive())\r\n        this.startCoroutine(`growVine-${ this.id }`, this.vine.growVine());\r\n      }\r\n    } else {\r\n      this.hoverText.visible = false;\r\n    }\r\n  }\r\n}","import { Entity } from \"../library/entity\";\r\nimport { IGameState } from \"Library\";\r\nimport { Texture } from \"pixi.js\";\r\nimport { Rect } from \"../library/geometry/rect\";\r\nimport { Assets } from \"./assets\";\r\nimport { HoverText } from \"./hover_text\";\r\nimport { C } from \"./constants\";\r\nimport { GameCoroutine } from \"../library/coroutine_manager\";\r\nimport { GabbysGlowThing } from \"./gabbys_glow_thing\";\r\n\r\nexport class BouncyShroom extends Entity {\r\n  public interactionDistance = C.InteractionDistance;\r\n  public frames: Texture[];\r\n  public isActivated = false;\r\n\r\n  hoverText: HoverText;\r\n\r\n  constructor() {\r\n    super({ \r\n      name      : \"BouncyShroom\",\r\n      texture   : Assets.getResource(\"mushroom1\")[0],\r\n      collidable: true,\r\n    });\r\n\r\n    this.frames = Assets.getResource(\"mushroom1\");\r\n\r\n    this.addChild(this.hoverText = new HoverText(\"x: interact\"), 0, -80);\r\n    this.hoverText.visible = false;\r\n\r\n    this.addChild(new GabbysGlowThing(0x3cda61));\r\n  }\r\n\r\n  public collisionBounds(): Rect {\r\n    return new Rect({\r\n      x     : 0,\r\n      y     : 0,\r\n      width : 256,\r\n      height: 256,\r\n    })\r\n  }\r\n\r\n  update(state: IGameState) { \r\n    if (state.player.position.distance(this.position) < this.interactionDistance) {\r\n      this.hoverText.visible = true;\r\n\r\n      if (state.keys.justDown.X && !this.isActivated && state.spiritUnused >= 1) {\r\n        state.spiritUnused -= 1;\r\n        this.isActivated = true;\r\n        state.sfx.useSpirit.play();\r\n        this.startCoroutine(`animateAliveBouncyShroom-${ this.id }`, this.animateAliveThenDie());\r\n      }\r\n    } else {\r\n      this.hoverText.visible = false;\r\n    }\r\n  }\r\n\r\n  *animateAliveThenDie(): GameCoroutine {\r\n    for (let i = 0; i < this.frames.length; i++) {\r\n      this.texture = this.frames[i];\r\n\r\n      yield { frames: 8 };\r\n    }\r\n\r\n    let state = yield \"next\";\r\n\r\n    if (state.haveShroomPerma) {\r\n      return;\r\n    }\r\n\r\n    for (let i = 0; i < 4; i++) {\r\n      state = yield { frames: 60 };\r\n      state.sfx.tickSound.currentTime = 0;\r\n      state.sfx.tickSound.play();\r\n    }\r\n\r\n    this.texture = this.frames[this.frames.length - 2];\r\n\r\n    for (let i = 0; i < 4 * 2; i++) {\r\n      state = yield { frames: 30 };\r\n      state.sfx.tickSound.currentTime = 0;\r\n      state.sfx.tickSound.play();\r\n    }\r\n\r\n    this.texture = this.frames[this.frames.length - 3];\r\n\r\n    for (let i = 0; i < 4 * 4; i++) {\r\n      state = yield { frames: 15 };\r\n      state.sfx.tickSound.currentTime = 0;\r\n      state.sfx.tickSound.play();\r\n    }\r\n\r\n    state = yield \"next\";\r\n\r\n    state.sfx.tickSound2.play();\r\n\r\n    for (let i = 2; i < this.frames.length; i++) {\r\n      this.texture = this.frames[this.frames.length - i - 1];\r\n\r\n      yield { frames: 8 };\r\n    }\r\n\r\n    this.isActivated = false;\r\n  }\r\n}","import { Game } from \"./game\";\r\nimport { Assets } from \"./assets\";\r\nimport { Entity } from \"../library/entity\";\r\nimport { IGameState } from \"Library\";\r\nimport { Texture } from \"pixi.js\";\r\nimport { Rect } from \"../library/geometry/rect\";\r\nimport { Vine } from \"./vine_flower\";\r\nimport { Vector2 } from \"../library/geometry/vector2\";\r\nimport { BouncyShroom } from \"./bouncy_shroom\";\r\nimport { Mode } from \"Library\";\r\nimport { GabbysGlowThing } from \"./gabbys_glow_thing\";\r\n\r\nexport class Player extends Entity {\r\n  activeModes: Mode[] = [\"Normal\", \"Dialog\"];\r\n  public static StartPosition = new Vector2(-12000, 900);\r\n  public static Instance: Player;\r\n\r\n  speed      = 30;\r\n  jumpHeight = 60;\r\n  gravity    = 2;\r\n  colliderSize = new Vector2(100, 530);\r\n\r\n  idle:  Texture[];\r\n  walk:  Texture[];\r\n  jump:  Texture[];\r\n  climb: Texture[];\r\n\r\n  animState: Texture[]\r\n\r\n\r\n  frame = 0;\r\n  facing: \"left\" | \"right\" = \"right\";\r\n  climbSpeed = 20;\r\n\r\n  /** \r\n   * If the character is climbing a ladder, we cap abs(velocity.y) at\r\n   * climbSpeed (so that holding up doesnt cause them to fly into the air).\r\n   * \r\n   * If the character is jumping, we don't cap velocity.y at all.\r\n   * \r\n   * If the character jumps while on a ladder, we need to keep track of which\r\n   * behavior we want, so we have this flag.\r\n   */\r\n  jumpingOnLadder = false;\r\n\r\n  // The first jump on a bouncyshroom should be higher than your initial jump.\r\n  // The rest aren't though, to stop infinitely high jumps.\r\n  hasBouncedOnShroomThisJump = false;\r\n\r\n  graphic: Entity;\r\n\r\n  constructor() {\r\n    super({\r\n      name: \"Player\",\r\n    });\r\n\r\n    this.graphic = new Entity({ name: \"PlayerGraphic\" });\r\n    this.addChild(this.graphic);\r\n\r\n    this.graphic.x = -300;\r\n    this.graphic.y = -100;\r\n\r\n    Player.Instance = this;\r\n\r\n    this.idle  = Assets.getResource(\"char_idle\");\r\n    this.walk  = Assets.getResource(\"char_walk\");\r\n    this.jump  = Assets.getResource(\"char_jump\");\r\n    this.climb = Assets.getResource(\"char_climb\");\r\n\r\n    this.animState = this.idle;\r\n\r\n    this.x = Player.StartPosition.x;\r\n    this.y = Player.StartPosition.y;\r\n\r\n    this.addChild(new GabbysGlowThing(0xfccad1));\r\n  }\r\n\r\n  audio: HTMLAudioElement | null = null;\r\n\r\n  get grounded() {\r\n    return this.hitInfo.down !== undefined\r\n  }\r\n\r\n  animate(state: IGameState) {\r\n    if (state.tick % 6 === 0) {\r\n      if (this.animState === this.jump && this.frame >= this.animState.length - 3) {\r\n        this.frame = this.animState.length - 3 + (state.tick % 12) / 6;\r\n      } else {\r\n        this.frame = (this.frame + 1) % this.animState.length;\r\n      }\r\n    }\r\n    this.graphic.texture = this.animState[this.frame];  \r\n  }\r\n\r\n  public collisionBounds(): Rect {\r\n    return new Rect({\r\n      x     : 0,\r\n      y     : 40,\r\n      width : this.colliderSize.x,\r\n      height: this.colliderSize.y,\r\n    })\r\n  }\r\n\r\n  checkForDialogTriggers(state: IGameState) {\r\n    const trigger = state.map.dialogTriggers.find(t => !t.triggered && t.region.rect.contains(this));\r\n\r\n    if (!trigger) { return; }\r\n\r\n    const dialogName = trigger.region.properties[\"dialog\"];\r\n\r\n    trigger.triggered = true;\r\n\r\n    if (!(dialogName in state.cinematics)) {\r\n      throw new Error(`Cant find a cinematic named ${ dialogName }`);\r\n    }\r\n\r\n    this.startCoroutine(\r\n      dialogName,\r\n      (state.cinematics as any)[dialogName as any]()\r\n    );\r\n  }\r\n\r\n  calculateVelocity(state: IGameState, touchingVine: boolean) {\r\n    const touchingBouncyBoi = this.hitInfo.collisions.find(x => x.otherEntity instanceof BouncyShroom && x.otherEntity.isActivated) !== undefined;\r\n\r\n    const prevVelocity = this.velocity;\r\n    this.velocity = this.velocity.withX(0);\r\n\r\n    if (this.hitInfo.down || this.hitInfo.up) {\r\n      this.velocity = this.velocity.withY(0);\r\n      this.jumpingOnLadder = false;\r\n    }\r\n\r\n    if ((this.hitInfo.down && !touchingBouncyBoi) || touchingVine) {\r\n      this.hasBouncedOnShroomThisJump = false;\r\n    }\r\n\r\n    if (touchingVine) {\r\n      // Climb ladder\r\n\r\n      this.hasBouncedOnShroomThisJump = false;\r\n\r\n      if (!this.jumpingOnLadder) {\r\n        this.velocity = this.velocity.withY(0)\r\n      }\r\n\r\n      if (state.keys.down.Left) {\r\n        this.velocity = this.velocity.addX(-this.climbSpeed);\r\n      }\r\n  \r\n      if (state.keys.down.Right) {\r\n        this.velocity = this.velocity.addX(this.climbSpeed);\r\n      }\r\n\r\n      if (state.keys.down.Up) {\r\n        if (!this.jumpingOnLadder) {\r\n          this.velocity = this.velocity.addY(-this.climbSpeed);\r\n        }\r\n\r\n        if (this.velocity.y > 1) {\r\n          this.jumpingOnLadder = false;\r\n        }\r\n      } \r\n\r\n      if (state.keys.down.Down) {\r\n        this.velocity = this.velocity.addY(this.climbSpeed);\r\n        this.jumpingOnLadder = false;\r\n      }\r\n\r\n      if (this.jumpingOnLadder) {\r\n        this.velocity = this.velocity.addY(this.gravity);\r\n      } else {\r\n        this.velocity = this.velocity.clampY(-this.climbSpeed, this.climbSpeed);\r\n      }\r\n    } else {\r\n      // gravity\r\n\r\n      this.velocity = this.velocity.addY(this.gravity);\r\n\r\n      if (state.keys.down.Left) {\r\n        this.velocity = this.velocity.addX(-this.speed);\r\n      }\r\n  \r\n      if (state.keys.down.Right) {\r\n        this.velocity = this.velocity.addX(this.speed);\r\n      }\r\n    }\r\n\r\n    if (state.keys.justDown.Z && (this.hitInfo.down || (touchingVine && this.velocity.y >= -this.climbSpeed))) {\r\n      this.velocity = this.velocity.withY(-this.jumpHeight);\r\n      this.animState = this.jump;\r\n      this.frame = 0;\r\n\r\n      if (touchingVine) {\r\n        this.jumpingOnLadder = true;\r\n      }\r\n    }\r\n\r\n    if (touchingBouncyBoi) {\r\n      let newVelocity: number;\r\n      \r\n      if (!this.hasBouncedOnShroomThisJump) {\r\n        let addition = Math.abs(prevVelocity.y) * 0.5;\r\n\r\n        if (addition > 30) { addition = 30; }\r\n\r\n        newVelocity = Math.abs(prevVelocity.y) + addition;\r\n      } else {\r\n        newVelocity = Math.abs(prevVelocity.y / 1.2);\r\n      }\r\n\r\n      if (newVelocity < 5) { newVelocity = 5; } // always bounce a little (valuable life advice too)\r\n      if (newVelocity > 200) { newVelocity = 200; } // dont bounce too much (hey, that's also good life advice!)\r\n\r\n      this.velocity = this.velocity.withY(-newVelocity);\r\n      this.hasBouncedOnShroomThisJump = true;\r\n    }\r\n  }\r\n\r\n  firstUpdate(state: IGameState) {\r\n    Game.Instance.camera.centerOn(this.position.add(new Vector2(0, 0)), true);\r\n  }\r\n\r\n  update(state: IGameState): void {\r\n    this.animate(state);\r\n\r\n    if (state.mode === \"Dialog\") {\r\n      \r\n      // BUG: If you're in the air while entering dialog, you'll just stay there for the duration of dialog. \r\n\r\n      this.velocity = Vector2.Zero;\r\n      this.animState = this.idle;\r\n      return;\r\n    }\r\n\r\n    if (this.animState == this.walk && (this.frame) % Math.floor(this.animState.length/4) === 0) {\r\n      state.sfx.stepStone1.play();\r\n    }\r\n\r\n    this.checkForDialogTriggers(state);\r\n\r\n    const touchingVine = this.hitInfo.interactions.find(x => x.otherEntity instanceof Vine && x.otherEntity.isActivated) !== undefined;\r\n    this.calculateVelocity(state, touchingVine);\r\n\r\n    if (this.grounded) {\r\n      if (touchingVine) {\r\n        this.animState = this.climb;\r\n      } else if (this.velocity.x === 0) {\r\n        this.animState = this.idle;\r\n      } else {\r\n        this.animState = this.walk;\r\n      }\r\n    } else {\r\n      if (touchingVine) {\r\n        this.animState = this.climb;\r\n      } else {\r\n        this.animState = this.jump;\r\n      }\r\n    }\r\n\r\n    Game.Instance.camera.centerOn(this.position.add(new Vector2(this.scale.x > 0 ? 1000 : -1000, -400)));\r\n\r\n    if (this.velocity.x > 0 && this.scale.x < 0) {\r\n      this.scale = this.scale.invertX();\r\n      this.graphic.x = -300;\r\n    }\r\n\r\n    if (this.velocity.x < 0 && this.scale.x > 0) {\r\n      this.scale = this.scale.invertX();\r\n      this.graphic.x = -500;\r\n    }\r\n  }\r\n}","import { Entity } from \"../library/entity\";\r\nimport { IGameState } from \"Library\";\r\nimport { C } from \"./constants\";\r\nimport { Texture } from \"pixi.js\";\r\nimport { Assets } from \"./assets\";\r\nimport { Mode } from \"Library\";\r\n\r\nexport class Fountain extends Entity {\r\n  activeModes: Mode[] = [\"Normal\", \"Dialog\"];\r\n\r\n  rechargeRate = 60;\r\n  interactionDistance = C.InteractionDistance;\r\n\r\n  frames: Texture[];\r\n  graphic: Entity;\r\n\r\n  constructor() {\r\n    super({ \r\n      name: \"Fountain\",\r\n    });\r\n\r\n    this.addChild(\r\n      this.graphic = new Entity({\r\n        texture: Assets.getResource(\"fountain\")[0],\r\n        name: \"FountainGraphic\"\r\n      }),\r\n      0, -this.graphic.height + 256\r\n    );\r\n\r\n    this.frames = Assets.getResource(\"fountain\");\r\n  }\r\n\r\n  update(state: IGameState) {\r\n    this.graphic.texture = this.frames[Math.floor(state.tick / 8) % this.frames.length];\r\n\r\n    if (state.tick % this.rechargeRate !== 0) { return; }\r\n\r\n    if (this.distance(state.player) < this.interactionDistance) {\r\n      // Animation?\r\n\r\n      if (state.spiritUnused < state.spiritTotal) {\r\n        Assets.getResource(\"sound effects/refill spirit\").play();\r\n      }\r\n\r\n      state.spiritUnused = Math.min(state.spiritUnused + 1, state.spiritTotal);\r\n    }\r\n  }\r\n}","import { Assets } from \"./assets\";\r\nimport { IGameState } from \"Library\";\r\nimport { Entity } from \"../library/entity\";\r\nimport { Fountain } from \"./fountain\";\r\nimport { Util } from \"../library/util\";\r\n\r\nexport const SetAudioToLoop = (audio: HTMLAudioElement) => {\r\n  audio.addEventListener('ended', () => {\r\n    audio.currentTime = 0;\r\n    audio.play();\r\n  });\r\n\r\n  return audio;\r\n}\r\n\r\nexport class Sfx extends Entity {\r\n  public tickSound   = Assets.getResource(\"sound effects/button 1\");\r\n  public tickSound2  = Assets.getResource(\"sound effects/button 2\");\r\n  public voiceSound1 = Assets.getResource(\"sound effects/voices/voice 1\");\r\n  public voiceSound2 = Assets.getResource(\"sound effects/voices/voice 2\");\r\n  public voiceSound3 = Assets.getResource(\"sound effects/voices/voice 3\");\r\n  public voiceSound4 = Assets.getResource(\"sound effects/voices/voice 4\");\r\n  public voiceWithers= Assets.getResource(\"sound effects/voices/voice withers\");\r\n  public climaxSweep = Assets.getResource(\"sound effects/climax sweep\");\r\n  public alertNoise  = Assets.getResource(\"sound effects/alert_noise\");\r\n\r\n  public useSpirit   = Assets.getResource(\"sound effects/use spirit\");\r\n  public waterfall   = Assets.getResource(\"sound effects/waterfall\");\r\n\r\n  public stepGrass1   = Assets.getResource(\"sound effects/step grass 1\")\r\n  public stepGrass2  = Assets.getResource(\"sound effects/step grass 2\")\r\n  public stepGrass3   = Assets.getResource(\"sound effects/step grass 3\")\r\n  public stepStone1   = Assets.getResource(\"sound effects/step stone 1\")\r\n  public stepStone2   = Assets.getResource(\"sound effects/step stone 2\")\r\n  public stepStone3   = Assets.getResource(\"sound effects/step stone 3\")\r\n  public stepWood1   = Assets.getResource(\"sound effects/step wood 1\")\r\n  public stepWood2   = Assets.getResource(\"sound effects/step wood 2\")\r\n  public stepWood3   = Assets.getResource(\"sound effects/step wood 3\")\r\n  constructor() {\r\n    super({ name: \"Sfx\" });\r\n\r\n    SetAudioToLoop(this.waterfall);\r\n    this.waterfall.play();\r\n  }\r\n\r\n  public playVoiceSound1(tick: number) {\r\n    if (tick % 5 === 0) {\r\n      this.voiceSound1.currentTime = 0;\r\n      this.voiceSound1.play();\r\n    }\r\n  }\r\n\r\n  public playVoiceSound2(tick: number) {\r\n    if (tick % 5 === 0) {\r\n      this.voiceSound2.currentTime = 0;\r\n      this.voiceSound2.play();\r\n    }\r\n  }\r\n\r\n  public playVoiceSound3(tick: number) {\r\n    if (tick % 5 === 0) {\r\n      this.voiceSound3.currentTime = 0;\r\n      this.voiceSound3.play();\r\n    }\r\n  }\r\n\r\n  public playVoiceSound4(tick: number) {\r\n    if (tick % 5 === 0) {\r\n      this.voiceSound4.currentTime = 0;\r\n      this.voiceSound4.play();\r\n    }\r\n  }\r\n\r\n  public playVoiceWithers(tick: number) {\r\n    if (tick % 5 === 0) {\r\n      this.voiceWithers.currentTime = 0;\r\n      this.voiceWithers.play();\r\n    }\r\n  }\r\n\r\n  public update(state: IGameState) {\r\n    const fountains = state.entities.values().filter(x => x instanceof Fountain) as Fountain[];\r\n    const closestFountain = Util.MinBy(fountains, f => f.distance(state.player))?.distance(state.player)!;\r\n\r\n    let fountainVol = Math.max(1 - closestFountain / 4000, 0);\r\n\r\n    this.waterfall.volume = fountainVol;\r\n  }\r\n}","import { Entity } from \"../library/entity\";\r\nimport { TiledTilemap } from \"../library/tilemap/tilemap\";\r\nimport { TilemapRegion } from \"../library/tilemap/tilemap_data\";\r\nimport { Assets, AssetsToLoad } from \"./assets\";\r\nimport { Game } from \"./game\";\r\nimport { IGameState } from \"Library\";\r\nimport { SetAudioToLoop } from \"./sfx\";\r\n\r\ntype AllKeys = keyof typeof AssetsToLoad;\r\ntype AudioNames = {\r\n  [P in AllKeys]: (typeof AssetsToLoad)[P][\"type\"] extends \"Audio\" ? P : null\r\n}[AllKeys];\r\n\r\nexport class MusicMap extends Entity {\r\n  musicRegionsMap: TiledTilemap;\r\n  static musicRegions   : TilemapRegion[] = [];\r\n\r\n  constructor() {\r\n    super({\r\n      name: \"MusicMap\",\r\n    });\r\n\r\n    this.musicRegionsMap = new TiledTilemap({\r\n      pathToTilemap: \"\",\r\n      json         : Assets.getResource(\"music\"),\r\n      renderer     : Game.Instance.renderer,\r\n      customObjects: [{\r\n        type     : \"rect\",\r\n        layerName: \"Music Regions\",\r\n        process  : (rect: TilemapRegion) => {\r\n          MusicMap.musicRegions.push(rect);\r\n        }\r\n      }],\r\n      assets: Assets,\r\n    });\r\n  }\r\n\r\n  playing = false;\r\n\r\n  allMusic: { [key: string]: { coId: null | number; audio: HTMLAudioElement; } } = {\r\n    \"music/Vines\"    : { coId: null, audio: SetAudioToLoop(Assets.getResource(\"music/Vines\")), },\r\n    \"music/The Hub\"  : { coId: null, audio: SetAudioToLoop(Assets.getResource(\"music/The Hub\")), },\r\n    \"music/Sanctuary\": { coId: null, audio: SetAudioToLoop(Assets.getResource(\"music/Sanctuary\")), },\r\n    \"music/Withers\"  : { coId: null, audio: SetAudioToLoop(Assets.getResource(\"music/Withers\")), },\r\n  };\r\n\r\n  firstUpdate(state: IGameState) {\r\n    for (const musicPath of Object.keys(this.allMusic)) {\r\n      const songObj = this.allMusic[musicPath];\r\n\r\n      songObj.audio.pause();\r\n      songObj.audio.volume = 0;\r\n      songObj.audio.currentTime = 0;\r\n    }\r\n  }\r\n\r\n  update(state: IGameState) {\r\n    const songPathsToPlay = MusicMap.musicRegions.filter(r => r.rect.contains(state.player.position)).map(k => k.properties[\"file\"]);\r\n\r\n    for (const musicPath of Object.keys(this.allMusic)) {\r\n      const songObj = this.allMusic[musicPath];\r\n      const shouldPlay = songPathsToPlay.includes(musicPath)\r\n\r\n      if (shouldPlay && songObj.audio.volume < 1) {\r\n        if (songObj.audio.paused) {\r\n          songObj.audio.currentTime = 0;\r\n          songObj.audio.play();\r\n        }\r\n\r\n        songObj.audio.volume = Math.min(songObj.audio.volume + 1 / 100, 1);\r\n      }\r\n\r\n      if (!shouldPlay && songObj.audio.volume > 0) {\r\n        songObj.audio.volume = Math.max(songObj.audio.volume - 1 / 100, 0);\r\n      }\r\n    }\r\n  }\r\n}","import { BaseGameState } from \"../library/base_state\";\r\nimport { TextEntity } from \"../library/text_entity\";\r\nimport { GameCoroutine } from \"../library/coroutine_manager\";\r\nimport { Entity } from \"../library/entity\";\r\nimport { IGameState } from \"Library\";\r\nimport { Mode } from \"Library\";\r\nimport { DebugFlags } from \"./debug\";\r\n\r\nexport type DialogText = {\r\n  speaker: string;\r\n  text   : string;\r\n}[];\r\n\r\nexport class DialogOverlay extends Entity {\r\n  activeModes: Mode[] = [\"Dialog\", \"Normal\"] ;\r\n\r\n  public static Instance: DialogOverlay;\r\n  public static DialogVisible = () => DialogOverlay.Instance.visible;\r\n\r\n  private activeDialogText: DialogText = [];\r\n  private dialogText: TextEntity;\r\n\r\n  constructor() {\r\n    super({\r\n      name: \"Dialog Overlay\",\r\n    });\r\n\r\n    this.visible = false;\r\n    \r\n    this.x = 0;\r\n    this.y = 0;\r\n\r\n    DialogOverlay.Instance = this;\r\n\r\n    this.dialogText = new TextEntity({ text: \"\", width: 2000, height: 2000, fontSize: 30 * 4 });\r\n    this.dialogText.y = 220 * 4;\r\n    this.dialogText.x = 200 * 4;\r\n\r\n    this.addChild(this.dialogText);\r\n  }\r\n\r\n  *startDialog(dialog: DialogText): GameCoroutine {\r\n    this.visible = true;\r\n    this.activeDialogText = dialog.slice();\r\n\r\n    let state: IGameState;\r\n\r\n    state = yield \"next\";\r\n\r\n    let oldMode = state.mode;\r\n    state.mode = \"Dialog\";\r\n\r\n    while (this.activeDialogText.length > 0) {\r\n      const fullText = this.activeDialogText[0];\r\n      let textToShow = \"\";\r\n\r\n      while (textToShow.length < fullText.text.length) {\r\n        textToShow += fullText.text[textToShow.length];\r\n        this.displayDialogContents(textToShow);\r\n\r\n        state.sfx.playVoiceSound3(state.tick);\r\n\r\n        if (state.keys.justDown.X) {\r\n          textToShow = fullText.text;\r\n          this.displayDialogContents(textToShow);\r\n\r\n          state = yield \"next\";\r\n      \r\n          break;\r\n        }\r\n\r\n        state = yield \"next\";\r\n      }\r\n\r\n      state = yield { untilKeyPress: \"X\" };\r\n      state = yield \"next\"; // make sure z isnt justDown\r\n\r\n      this.activeDialogText.shift();\r\n\r\n      textToShow = \"\";\r\n    }\r\n\r\n    state.mode = oldMode;\r\n\r\n    this.visible = false;\r\n  }\r\n\r\n  public static *StartDialog(dialog: DialogText): GameCoroutine {\r\n    if (DebugFlags[\"SKIP ALL DIALOG\"]) { return; }\r\n\r\n    yield* DialogOverlay.Instance.startDialog(dialog.slice(0));\r\n  }\r\n\r\n  displayDialogContents(textToShow: string) {\r\n    this.dialogText.setText(textToShow);\r\n  }\r\n\r\n  update(state: BaseGameState): void { }\r\n}","import { BaseGameState } from \"../library/base_state\";\r\nimport { TextEntity } from \"../library/text_entity\";\r\nimport { GameCoroutine } from \"../library/coroutine_manager\";\r\nimport { Assets } from \"./assets\";\r\nimport { Entity } from \"../library/entity\";\r\nimport { IGameState } from \"Library\";\r\nimport { Mode } from \"Library\";\r\nimport { DebugFlags } from \"./debug\";\r\n\r\nexport type DialogText = (\r\n  | { speaker?: string; text: string; }\r\n  | { \r\n      speaker?: string; \r\n      text    : string; \r\n      branches: { text: string; next: DialogText }[];\r\n    }\r\n)[];\r\n\r\nexport class DialogBox extends Entity {\r\n  activeModes: Mode[] = [\"Dialog\", \"Normal\"] ;\r\n\r\n  public static Instance: DialogBox;\r\n  public static DialogVisible = () => DialogBox.Instance.visible;\r\n\r\n  private dialogText: TextEntity;\r\n  private speakerText: TextEntity;\r\n  private profilePic: Entity;\r\n\r\n  private branches: TextEntity[] = [];\r\n  private graphic: Entity;\r\n\r\n  constructor() {\r\n    super({\r\n      name: \"DialogBox\",\r\n    });\r\n\r\n    this.visible = false;\r\n    \r\n    this.x = 100;\r\n    this.y = 850;\r\n\r\n    this.graphic = new Entity({ \r\n      texture: Assets.getResource(\"dialog_box\"),\r\n      name: \"Dialog Graphic\",\r\n    });\r\n\r\n    this.graphic.width = 1200 * 2;\r\n    this.graphic.height = 300 * 2;\r\n\r\n    this.addChild(this.graphic);\r\n\r\n    DialogBox.Instance = this;\r\n\r\n    this.speakerText = new TextEntity({ text: \"Name test\", width: 900, height: 400, fontSize: 90, color: \"orange\" });\r\n    this.speakerText.y = 20;\r\n    this.speakerText.x = 90;\r\n\r\n    this.addChild(this.speakerText);\r\n\r\n    this.dialogText = new TextEntity({ text: \"Line test\", width: 1800, height: 800, fontSize: 90 });\r\n    this.dialogText.y = 120;\r\n    this.dialogText.x = 380;\r\n\r\n    this.addChild(this.dialogText);\r\n\r\n    this.profilePic = new Entity({ name: \"profile pic\" });\r\n    this.profilePic.x      = -110;\r\n    this.profilePic.y      = 90;\r\n    this.profilePic.width  = 530;\r\n    this.profilePic.height = 530;\r\n    this.addChild(this.profilePic);\r\n\r\n    for (let i = 0; i < 4; i++) {\r\n      let branchText = new TextEntity({ text: \"\", width: 2000, fontSize: 90 });\r\n\r\n      this.branches.push(branchText);\r\n      branchText.x = 100;\r\n      branchText.y = 500 + i * 100;\r\n\r\n      this.addChild(branchText);\r\n    }\r\n  }\r\n\r\n  *startDialog(dialog: DialogText): GameCoroutine {\r\n    let state: IGameState;\r\n\r\n    if (DebugFlags[\"SKIP ALL DIALOG\"]) { return; }\r\n\r\n    state = yield \"next\";\r\n\r\n    let oldMode = state.mode;\r\n    let oldVisible = this.visible;\r\n\r\n    this.visible = true;\r\n    let activeDialogText = dialog.slice();\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    while (activeDialogText.length > 0) {\r\n      const fullText = activeDialogText[0];\r\n\r\n      if ('branches' in fullText) {\r\n        this.graphic.height = 1000;\r\n      } else {\r\n        this.graphic.height = 600;\r\n\r\n        this.branches[0].setText(\"\");\r\n        this.branches[1].setText(\"\");\r\n        this.branches[2].setText(\"\");\r\n        this.branches[3].setText(\"\");\r\n      }\r\n\r\n      let textToShow = \"\";\r\n\r\n      while (textToShow.length < fullText.text.length) {\r\n        textToShow += fullText.text[textToShow.length];\r\n        this.displayDialogContents(fullText.speaker || \"\", textToShow);\r\n\r\n        state.sfx.playVoiceSound2(state.tick);\r\n\r\n        if (state.keys.justDown.X) {\r\n          textToShow = fullText.text;\r\n          this.displayDialogContents(fullText.speaker || \"\", textToShow);\r\n\r\n          state = yield \"next\";\r\n      \r\n          break;\r\n        }\r\n\r\n        state = yield \"next\";\r\n      }\r\n\r\n      if ('branches' in fullText) {\r\n        this.displayBranches(fullText);\r\n\r\n        while (true) {\r\n          state = yield 'next';\r\n\r\n          if (state.keys.justDown.A) { yield* this.startDialog(fullText.branches[0].next); break; }\r\n          if (state.keys.justDown.S) { yield* this.startDialog(fullText.branches[1].next); break; }\r\n          if (state.keys.justDown.D) { yield* this.startDialog(fullText.branches[2].next); break; }\r\n          if (state.keys.justDown.F) { yield* this.startDialog(fullText.branches[3].next); break; }\r\n        }\r\n      } else {\r\n        state = yield { untilKeyPress: \"X\" };\r\n        state = yield \"next\"; // make sure x isnt justDown\r\n      }\r\n\r\n      activeDialogText.shift();\r\n    }\r\n\r\n    state.mode = oldMode;\r\n    this.visible = oldVisible;\r\n  }\r\n\r\n  displayBranches(fullText: { speaker?: string | undefined; text: string; branches: { text: string; next: DialogText; }[]; }) {\r\n    const keys = \"ASDF\";\r\n\r\n    for (let i = 0; i < fullText.branches.length; i++) {\r\n      const branch = fullText.branches[i];\r\n\r\n      this.branches[i].setText(`${ keys[i] }: ${ branch.text }`);\r\n    }\r\n  }\r\n\r\n  public static *StartDialog(dialog: DialogText): GameCoroutine {\r\n    yield* DialogBox.Instance.startDialog(dialog.slice(0));\r\n  }\r\n\r\n  displayDialogContents(speaker: string, textToShow: string) {\r\n    this.dialogText.setText(textToShow);\r\n\r\n    if (speaker) {\r\n      this.speakerText.setText(speaker);\r\n    }\r\n\r\n    // if (speaker === \"Chief Nabisco\") {\r\n    //   this.profilePic.texture = Assets.getResource(\"oberon_portrait\");\r\n    // } else if (speaker === \"Detective Pringle\") {\r\n    //   this.profilePic.texture = Assets.getResource(\"miranda_portrait\");\r\n    // } else if (speaker === \"Tasukete\") {\r\n    //   this.profilePic.texture = Assets.getResource(\"tasukete_portrait\");\r\n    // }\r\n  }\r\n\r\n  update(state: BaseGameState): void { }\r\n}","import { Entity } from \"../library/entity\";\r\nimport { IGameState } from \"Library\";\r\nimport { Texture, Graphics } from \"pixi.js\";\r\nimport { Rect } from \"../library/geometry/rect\";\r\nimport { TextEntity } from \"../library/text_entity\";\r\nimport { HoverText } from \"./hover_text\";\r\nimport { C } from \"./constants\";\r\nimport { Mode } from \"Library\";\r\nimport { Assets } from \"./assets\";\r\nimport { Vector2 } from \"../library/geometry/vector2\";\r\nimport { GameCoroutine } from \"../library/coroutine_manager\";\r\nimport { Game } from \"./game\";\r\n\r\nexport type NpcDialogType = { speaker: Entity; text: string }[];\r\n\r\nexport class NpcDialog extends Entity {\r\n  activeModes: Mode[] = [\"Normal\", \"Dialog\"];\r\n\r\n  public static Instance: NpcDialog;\r\n\r\n  graphic      : Graphics;\r\n  text         : TextEntity;\r\n  dialogHeight = 120;\r\n\r\n  constructor() {\r\n    super({ \r\n      name   : \"NpcDialogParent\", \r\n    });\r\n\r\n    this.text = new TextEntity({\r\n      text    : \"\",\r\n      fontSize: 90,\r\n      width   : 2000,\r\n    });\r\n\r\n    const yOffset = 200;\r\n\r\n    this.graphic = new Graphics();\r\n    this.graphic.x = 0;\r\n    this.graphic.y = yOffset;\r\n    this.drawDialogBox(\"LALALALALA\");\r\n\r\n    this.sprite.addChild(this.graphic);\r\n    this.visible = false;\r\n\r\n    const tip = new Entity({ name: \"DialogTip\", texture: Assets.getResource(\"dialog_tip\") });\r\n    tip.scale = new Vector2(0.25, 0.25);\r\n\r\n    this.addChild(tip, 20, this.dialogHeight + yOffset);\r\n    this.addChild(this.text, 20, 10 + yOffset);\r\n\r\n    NpcDialog.Instance = this;\r\n  }\r\n\r\n  private drawDialogBox(text: string): void {\r\n    let wid = this.text.calculateTextWidth(text);\r\n\r\n    if (wid > 2000) {\r\n      wid = 2000;\r\n      this.dialogHeight = 120 * 4;\r\n    } else {\r\n      this.dialogHeight = 120;\r\n    }\r\n\r\n    this.graphic.clear();\r\n    this.graphic.beginFill(0x0);\r\n    this.graphic.drawRoundedRect(0, 0, wid + 100, this.dialogHeight, 40);\r\n    this.graphic.endFill();\r\n\r\n    if (wid + this.x > Game.Instance.camera.cameraFrame().right) {\r\n      this.graphic.x = -1000;\r\n      this.text.x = -1000;\r\n    } else {\r\n      this.graphic.x = 0;\r\n      this.text.x = 0;\r\n    }\r\n  }\r\n\r\n  public static *StartDialog(dialog: NpcDialogType): GameCoroutine {\r\n    yield* NpcDialog.Instance.initiateDialog(dialog);\r\n  }\r\n\r\n  public *initiateDialog(dialog: NpcDialogType): GameCoroutine {\r\n    yield* this.writeDialog(dialog);\r\n  }\r\n\r\n  *writeDialog(dialogs: NpcDialogType): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    this.visible = true;\r\n\r\n    for (const dialog of dialogs) {\r\n      let textSoFar = \"\";\r\n      let fullText = dialog.text;\r\n\r\n      state.mode = \"Dialog\";\r\n\r\n      this.drawDialogBox(fullText);\r\n      this.visible = true;\r\n\r\n      if (dialog.speaker) {\r\n        // Dunno how tis happened but i saw this bug once\r\n        // i think it was bc bud didnt exist in retrospect\r\n        this.x = dialog.speaker.x;\r\n        this.y = dialog.speaker.y - 512;\r\n      }\r\n\r\n      while (textSoFar.length < fullText.length) {\r\n        textSoFar += fullText[textSoFar.length];\r\n        this.text.setText(textSoFar);\r\n\r\n        state = yield \"next\";\r\n\r\n        state.sfx.playVoiceSound1(state.tick);\r\n\r\n        if (state.keys.justDown.X) {\r\n          break;\r\n        }\r\n      }\r\n\r\n      textSoFar = fullText;\r\n      this.text.setText(textSoFar);\r\n\r\n      yield { untilKeyPress: \"X\" };\r\n    }\r\n\r\n    state.mode = \"Normal\";\r\n\r\n    this.visible = false;\r\n  }\r\n\r\n  update(state: IGameState) {\r\n    \r\n  }\r\n}\r\n\r\nexport class Npc extends Entity {\r\n  activeModes: Mode[] = [\"Normal\"];\r\n  hoverText: HoverText;\r\n  interactionDistance = C.InteractionDistance;\r\n  dialogName: string = \"\";\r\n\r\n  graphic: Entity;\r\n\r\n  initialY = -512;\r\n\r\n  constructor(props: { [key: string]: unknown }, x: number, y: number ) {\r\n    super({ \r\n      name      : \"Npc\",\r\n      collidable: String(props[\"collideable\"]) === \"true\",\r\n    });\r\n\r\n    let path = props[\"imagepath\"];\r\n\r\n    if (!path) {\r\n      path = \"npc1\";\r\n\r\n      console.error(\"interactable without type\", this);\r\n    }\r\n\r\n    const tex: unknown = Assets.getResource(path as any);\r\n\r\n    if (!(tex instanceof Texture)) {\r\n      throw new Error(`Interactable at x ${ x } y ${ y } had path ${ path } which either doesnt exist or isnt a standalone image. animations (imgs that end in numbers) dont work currently but grant might fix that. anyway the point is, go fix it?`);\r\n    }\r\n\r\n    this.graphic = new Entity({ name: \"NpcName\", texture: tex });\r\n    this.graphic.y = this.initialY;\r\n    this.addChild(this.graphic);\r\n\r\n    this.dialogName = props[\"dialog\"] as string;\r\n\r\n    this.addChild(this.hoverText = new HoverText(\"x: interact\"), 0, -550);\r\n    this.hoverText.visible = false;\r\n  }\r\n\r\n  public collisionBounds(): Rect {\r\n    return new Rect({\r\n      x     : 0,\r\n      y     : 0,\r\n      width : 256,\r\n      height: 256,\r\n    })\r\n  }\r\n\r\n  update(state: IGameState) { \r\n    this.graphic.y = this.initialY + Math.sin(state.tick / 100) * 40;\r\n    this.sprite.alpha = 1 + Math.cos(state.tick / 60) / 2\r\n\r\n    // if (this.npcDialog) {\r\n    //   if (state.keys.justDown.X) {\r\n    //     this.hoverText.visible = false;\r\n    //     state.mode = \"Normal\";\r\n\r\n    //     this.removeChild(this.npcDialog);\r\n    //     this.npcDialog = null;\r\n    //   }\r\n    // } else {\r\n    if (state.player.position.distance(this.position) < this.interactionDistance) {\r\n      this.hoverText.visible = true;\r\n\r\n      if (state.keys.justDown.X) {\r\n        this.startCoroutine(\r\n          this.dialogName,\r\n          (state.cinematics as any)[this.dialogName](this)\r\n        );\r\n      }\r\n    } else {\r\n      this.hoverText.visible = false;\r\n    }\r\n    // }\r\n  }\r\n}","import { Entity } from \"../library/entity\";\r\n\r\nexport class HubLocation extends Entity {\r\n  public static Instance: HubLocation;\r\n  constructor() {\r\n    super({\r\n      name: \"HubLocation\",\r\n    });\r\n\r\n    HubLocation.Instance = this;\r\n  }\r\n}","import { Entity } from \"../library/entity\";\r\nimport { Assets } from \"./assets\";\r\nimport { IGameState } from \"Library\";\r\nimport { Texture } from \"pixi.js\";\r\n\r\nexport class Withers extends Entity {\r\n  public static Instance: Withers;\r\n\r\n  frames: Texture[];\r\n  followPlayer: boolean = false;\r\n\r\n  constructor() {\r\n    super({\r\n      name: \"Withers\",\r\n      texture: Assets.getResource(\"withers/withers_idle\")[0],\r\n    });\r\n\r\n    this.frames = Assets.getResource(\"withers/withers_idle\");\r\n\r\n    this.followPlayer = false;\r\n    Withers.Instance = this;\r\n  }\r\n\r\n  x = -10000;\r\n  y = -10000;\r\n\r\n  /*\r\n\r\n  update(state: IGameState) {\r\n    this.texture = this.frames[Math.floor(state.tick / 9) % this.frames.length];\r\n\r\n    const yOffset = Math.sin(state.tick / 20) * 35;\r\n    if (this.followPlayer) {\r\n      this.x = state.player.x - 2000;\r\n      this.y = state.player.y - 2000 + yOffset;\r\n    }\r\n    else {\r\n      this.sprite.y += yOffset;\r\n    }\r\n    \r\n  }\r\n  */\r\n}\r\n","import { Entity } from \"../library/entity\";\r\nimport { Assets } from \"./assets\";\r\nimport { IGameState } from \"Library\";\r\n\r\n\r\nclass SpiritMeter extends Entity {\r\n  icons: Entity[] = [];\r\n  blackBackground: Entity;\r\n\r\n  constructor(spiritTotal: number) {\r\n    super({ name: \"SpiritMeter\" });\r\n\r\n    this.blackBackground = new Entity({ \r\n      texture: Assets.getResource(\"spirit_bg_hud\"),\r\n      name: \"Dialog Graphic\",\r\n    })\r\n    this.addChild(this.blackBackground);\r\n    this.blackBackground.sprite.alpha = 0.8\r\n    this.blackBackground.sprite.scale.x = 3.7;\r\n    this.blackBackground.sprite.scale.y = 2 / 1.1;\r\n    this.blackBackground.sprite.pivot.x = 0.5;\r\n    this.blackBackground.sprite.pivot.y = 0.5;\r\n    this.blackBackground.sprite.rotation = -0.07;\r\n    this.blackBackground.x = -260;\r\n    this.blackBackground.y = -20;\r\n\r\n    for (let i = 0; i < 10; i++) {\r\n      const icon = new Entity({\r\n        name: \"SpiritIcon\"\r\n      });\r\n\r\n      \r\n      this.icons.push(icon);\r\n      this.addChild(icon);\r\n\r\n      icon.x = 80 + i * 280;\r\n      icon.y = 80 + i * - 10;   \r\n\r\n      icon.texture = Assets.getResource(\"spirit_full_hud\");\r\n\r\n      // icon.sprite.pivot = new PIXI.Point(0.5, 0.5);\r\n      icon.visible = false;\r\n    }\r\n  }\r\n\r\n  update(state: IGameState) {\r\n    for (let i = 0; i < state.spiritTotal; i++) {\r\n      if (i < state.spiritUnused) {\r\n        this.icons[i].texture = Assets.getResource(\"spirit_full_hud\");\r\n      } else {\r\n        this.icons[i].texture = Assets.getResource(\"spirit_empty_hud\");\r\n        // this.icons[i].sprite.scale.x = 1.1;\r\n        // this.icons[i].sprite.scale.y = 1.1;\r\n      }\r\n\r\n      const isaudsgksdfjg = Math.sin(state.tick / 35) * 0.016;\r\n      this.icons[i].sprite.scale.x = 1.2 + isaudsgksdfjg;\r\n      this.icons[i].sprite.scale.y = 1.2 + isaudsgksdfjg;\r\n\r\n      this.icons[i].visible = true;\r\n    }\r\n    this.blackBackground.sprite.rotation = -0.04 + Math.sin(state.tick / 40) * 0.007;\r\n  }\r\n}\r\n\r\nexport class Hud extends Entity {\r\n  public static Instance: Hud;\r\n\r\n  constructor(spiritTotal: number) {\r\n    super({\r\n      name: \"HUD\",\r\n    });\r\n    const sm = new SpiritMeter(spiritTotal)\r\n\r\n    //aesthetics\r\n    sm.sprite.scale.set(1.4)\r\n    sm.position = sm.position.add({x:70, y:30})\r\n    \r\n    this.addChild(sm);\r\n\r\n    Hud.Instance = this;\r\n  }\r\n}","// aka this is where luny dumps everything\r\n\r\nimport { CoroutineManager, GameCoroutine } from \"../library/coroutine_manager\";\r\nimport { Game } from \"./game\";\r\nimport { DialogOverlay } from \"./dialog_overlay\";\r\nimport { TextEntity } from \"../library/text_entity\";\r\nimport { IGameState } from \"Library\";\r\nimport { DialogBox } from \"./dialog_box\";\r\nimport { DebugFlags } from \"./debug\";\r\nimport { Bud } from \"./bud\";\r\nimport { Vector2 } from \"../library/geometry/vector2\";\r\nimport { NpcDialog } from \"./npc\";\r\nimport { Entity } from \"../library/entity\";\r\nimport { HubLocation } from \"./hub_location\";\r\nimport { Withers } from \"./withers\";\r\nimport { Assets } from \"./assets\";\r\nimport { Hud } from \"./hud\";\r\n\r\nexport type Tweenable =\r\n  | number\r\n  | Vector2\r\n\r\nexport class Cinematics {\r\n  coroutineManager   : CoroutineManager;\r\n  game               : Game;\r\n  spaceToContinueText: TextEntity;\r\n\r\n  name = \"Herald\";\r\n\r\n  constructor(coroutineManager: CoroutineManager, game: Game) {\r\n    this.coroutineManager = coroutineManager;\r\n    this.game = game;\r\n    this.spaceToContinueText = new TextEntity({\r\n      text: \"Press SPACE to continue\",\r\n      fontSize: 15,\r\n      width: 800,\r\n    });\r\n\r\n    this.game.fixedCameraStage.addChild(this.spaceToContinueText);\r\n    this.spaceToContinueText.x = 400;\r\n    this.spaceToContinueText.y = 600;\r\n\r\n    this.spaceToContinueText.visible = false;\r\n  }\r\n\r\n  public static *LinearTween<T extends Tweenable>(props: {\r\n    set   : (newValue: T) => void;\r\n    start : T;\r\n    stop  : T;\r\n    frames: number;\r\n  }): GameCoroutine {\r\n    const { set, start, stop, frames } = props;\r\n\r\n    if (frames === 0) {\r\n      set(stop);\r\n      return;\r\n    }\r\n\r\n    set(start);\r\n    yield \"next\";\r\n\r\n    for (let i = 0; i < frames; i++) {\r\n      if (typeof start === \"number\" && typeof stop === \"number\") {\r\n        const value = start + (i * (stop - start)) / frames;\r\n\r\n        set(value as any);\r\n        yield \"next\";\r\n      }\r\n\r\n      if (start instanceof Vector2 && stop instanceof Vector2) {\r\n        const newVector = new Vector2({\r\n          x: start.x + (i * (stop.x - start.x)) / frames,\r\n          y: start.y + (i * (stop.y - start.y)) / frames,\r\n        });\r\n\r\n        set(newVector as any);\r\n        yield \"next\";\r\n      }\r\n    }\r\n\r\n    set(stop);\r\n  }\r\n\r\n  public *fadeScreenToPercentage(props: { percentage: number; time: number; state: IGameState }): GameCoroutine {\r\n    const { percentage, time, state } = props;\r\n\r\n    yield* Cinematics.LinearTween({\r\n      set   : x => state.overlay.alpha = x,\r\n      start : state.overlay.alpha,\r\n      stop  : percentage / 100,\r\n      frames: time,\r\n    });\r\n  }\r\n\r\n  public *openingCinematic(): GameCoroutine {\r\n    let state = yield \"next\"; // Wait for one frame.\r\n\r\n    Hud.Instance.visible = false;\r\n\r\n    state.mode = \"Dialog\"; // Set game mode to dialog. This means that the player can't move etc\r\n\r\n    yield* this.fadeScreenToPercentage({ percentage: 100, time: 0, state }); // Fade the screen to 100% faded, taking 0 frames (time). state always has to be there\r\n\r\n    this.spaceToContinueText.visible = true; // Show the \"space to continue\" text\r\n\r\n    yield* DialogOverlay.StartDialog([ // Start the following dialog\r\n      { speaker: \"Herald\", text: \"...\", }, // First dialog: speaker name is Herald, text is \"...\"\r\n      { speaker: \"Herald\", text: \".........\", }, // second dialog\r\n      { speaker: \"Herald\", text: \"...huh?\", }, // etc\r\n      { speaker: \"Herald\", text: \"Where am I?\", },\r\n      { speaker: \"Herald\", text: \"...who am I?\", },\r\n      { speaker: \"Herald\", text: \"And why does my body feel like it’s been asleep for, like, five hundred years?\", },\r\n    ]);\r\n\r\n    this.spaceToContinueText.visible = false; // hide space to continue text\r\n\r\n    yield* this.fadeScreenToPercentage({ percentage: 0, time: 90, state }); // Fade the screen to 0% faded over 90 frames.\r\n\r\n    Hud.Instance.visible = true;\r\n\r\n    state.mode = \"Normal\"; // Set game state back to normal so the player can play the game\r\n    this.game.startSpeedrunTick = this.game.state.tick;\r\n\r\n  }\r\n\r\n  public *openingBud1(): GameCoroutine {\r\n    if (!DebugFlags[\"Show Bud Text\"]) {\r\n      return;\r\n    }\r\n\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    // SPEECH\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"???\", text: \"Sigh... Another day, another lonely diary entry.\", },\r\n      { speaker: \"???\", text: \"Dear diary...\", },\r\n      { speaker: \"???\", text: \"I hope you’re doing well today!\", },\r\n      { speaker: \"???\", text: \"Me? Oh, thanks for asking!\", },\r\n      { speaker: \"???\", text: \"It’s been the same as every other day, I suppose.\", },\r\n      { speaker: \"???\", text: \"Wake up, brush my wings, and stand guard for the whole day!\", },\r\n      { speaker: \"???\", text: \"I can’t complain. I have stability and routine. What more could I want?\", },\r\n      { speaker: \"???\", text: \"...I sure do hope he wakes up someday, though.\", },\r\n      { speaker: \"???\", text: \"Huh? What’s that?\", },\r\n      { speaker: \"???\", text: \"You want me to turn around?\", },\r\n      { speaker: \"???\", text: \"Silly book! Why would I want to do that?\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n\r\n    /*\r\n    for (let i = 0; i < 20; i++) {\r\n      bud.x = startX + (Math.random() * 200 - 100);\r\n      bud.y = startY + (Math.random() * 200 - 100);\r\n\r\n      yield { frames: 2 };\r\n    }\r\n    */\r\n\r\n    // yield* this.openingBud2(); // comment this out later\r\n  }\r\n\r\n  public *openingBud2(): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    const bud = Bud.Instance;\r\n\r\n      let startX = bud.x;\r\n      let startY = bud.y;\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"???\", text: \"Huh? What was that sound?\", },\r\n    ]);\r\n\r\n    bud.sprite.scale.x = bud.sprite.scale.x * -1;\r\n\r\n    yield { frames: 40 };\r\n\r\n    const exclamation = new Entity({\r\n      name: \"exclamation\",\r\n      texture: Assets.getResource(\"exclamation\"),\r\n    })\r\n\r\n    state.stage.addChild(exclamation);\r\n\r\n    exclamation.scale = new Vector2(0.5, 0.5);\r\n\r\n    exclamation.x = bud.x - 180;\r\n    exclamation.y = bud.y - 200;\r\n\r\n    state.sfx.alertNoise.play();\r\n\r\n    yield { frames: 50 };\r\n\r\n    exclamation.alpha = 0;\r\n\r\n    for (let i = 0; i < 8; i++) {\r\n      bud.sprite.rotation = bud.sprite.rotation - (Math.PI / 4);\r\n      yield { frames: 1 };\r\n    }\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"???\", text: \"HOLY CANOPIES!\", },\r\n      { speaker: \"???\", text: \"AM I DREAMING??? I WISH I COULD PINCH MYSELF!\", },\r\n      { speaker: \"???\", text: \"I’VE BEEN WAITING FOR THIS MOMENT FOR SO LONG!\", },\r\n      { speaker: \"???\", text: \"HIHIHIHIHIHIHI\", },\r\n    ]);\r\n\r\n    for (let i = 0; i < 10; i++) {\r\n      bud.x = bud.x - 100;\r\n      yield { frames: 1 };\r\n    }\r\n\r\n    yield* DialogBox.StartDialog([\r\n      {\r\n        speaker: \"???\",\r\n        text: `So... this is real? You’re really awake, ${ this.name }?`,\r\n        branches: [\r\n          { text: \"Yes\", next: [\r\n            { speaker: \"???\", text: \"YESS!!! Oh my gosh, there’s so much to show you!\", },\r\n          ] },\r\n          { text: \"No\", next: [\r\n            { speaker: \"???\", text: \"Huh... so that means...\"},\r\n            { speaker: \"???\", text: \"That I'M the one dreaming...\"},\r\n            { speaker: \"???\", text: \"And if that's the case...\"},\r\n            { speaker: \"???\", text: \"THEN I NEVER WANNA WAKE UP!!! And I'll PRETEND this is real!!!\"},\r\n          ] },\r\n        ]\r\n      },\r\n      { speaker: \"???\", text: \"C'mon! Let's go to the forest!\", },\r\n      { speaker: \"???\", text: \"Or... what used to be the forest...\", },\r\n      { speaker: \"???\", text: \"...but that doesn’t matter! You’re awake now! You'll make things better!\", },\r\n      { speaker: \"???\", text: \"C’MON!!!! It's just over to the right!\", },\r\n    ]);\r\n\r\n    bud.scale = new Vector2(0.5, 0.5);\r\n\r\n    state.budFollowing = true;\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *openingBud3(): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"???\", text: \"Yeah... it really doesn't look too good out here.\", },\r\n      { speaker: \"???\", text: \"Those Tinker Men really did a number on the forest. It's almost all gone...\", },\r\n      { speaker: \"???\", text: \"But now you're here! The secret weapon of the dryads!\", },\r\n      {\r\n        speaker: \"???\",\r\n        text: \"You've got a plan to bring the forest back, right?\",\r\n        branches: [\r\n          { text: \"Yes?\", next: [\r\n            { speaker: \"???\", text: \"HELL YEAH!! I'm all ears!! Mostly because I'm missing a couple of other appendages.\", },\r\n            { speaker: \"???\", text: `What's the plan, ${ this.name }? I'm listening...`},\r\n            { speaker: \"???\", text: \"...\"},\r\n            { speaker: \"???\", text: \"...\"},\r\n            { speaker: \"???\", text: \"You're... not saying anything.\"},\r\n          ] },\r\n          { text: \"No?\", next: [\r\n            { speaker: \"???\", text: \"...huh? What do you mean?\", },\r\n            { speaker: \"???\", text: \"I thought that was the whole point of putting you to sleep for so long...\", },\r\n            { speaker: \"???\", text: \"You're staring at me pretty blankly, dude.\", },\r\n          ] },\r\n        ]\r\n      },\r\n      {\r\n        speaker: \"???\",\r\n        text: \"Everything okay?\",\r\n        branches: [\r\n          { text: \"No.\", next: [\r\n            { speaker: \"???\", text: \"Oh no... I can see it in your eyes. You don't know anything that's going on, do you?\", },\r\n          ] },\r\n          { text: \"No?\", next: [\r\n            { speaker: \"???\", text: \"I should've known... I can see it in your eyes. You don't understand anything that's going on, do you?\", },\r\n          ] },\r\n        ]\r\n      },\r\n      { speaker: \"???\", text: \"This is awful... You don't even recognize me?\", },\r\n      { speaker: \"???\", text: \"I was your spirit partner, long ago. It's me, Bud!\", },\r\n      { speaker: \"Bud\", text: \"Nothing????? C'mon, jog that memory!\", },\r\n      { speaker: \"Bud\", text: `You're ${ this.name }! Hero of the Pastoria Forest!`, },\r\n      { speaker: \"Bud\", text: \"...Well, I guess the forest has been long, long gone. And so have you. For about five hundred years.\", },\r\n      { speaker: \"Bud\", text: `There's a reason you're here, ${ this.name }. You were sent here to the future to take down Withers, the leader of the Tinker Men who destroyed our home.`, },\r\n      { speaker: \"Bud\", text: \"And if you don't remember anything... then it's up to me, Bud, to help you!\", },\r\n      { speaker: \"Bud\", text: `C'mon, ${ this.name }! Withers' Lair is in the Tree of Sprights, which is the only remaining big tree left. Let's go find him!!`, },\r\n    ]);\r\n\r\n    state.budFollowing = true;\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n\r\n  public *outdoorBud1(): GameCoroutine { // functionally replaced by openingBud3\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"Bud\", text: \"Yeah. Not too pretty.\", },\r\n      { speaker: \"Bud\", text: \"So much metal, and so little nature. It’s really kind of horrifying.\", },\r\n      { speaker: \"Bud\", text: `But that’s why you were sent here, ${ this.name }! You can help us make things better!`, },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *outdoorOneHalf(): GameCoroutine { // functionally replaced by openingBud3\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \" \", text: \"Passing by the fountain, you feel a change in the atmosphere.\", },\r\n      { speaker: \" \", text: \"It radiates a spirit-replenshing energy.\", },\r\n      { speaker: \" \", text: \"As you set foot in the soil beyond, your feet begin to tingle...\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *outdoorBud2(): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* DialogBox.StartDialog([\r\n      {\r\n        speaker: \"Bud\",\r\n        text: \"What’s up? You look startled.\",\r\n        branches: [\r\n          { text: \"There's a person there...\", next: [\r\n            { speaker: \"Bud\", text: \"What? Don’t be weird, heh. That’s impossible.\", },\r\n          ] },\r\n          { text: \"I think I see dead people?\", next: [\r\n            { speaker: \"Bud\", text: \"What? Don’t be paranoid, heh. That’s impossible.\", },\r\n          ] },\r\n          { text: \"AAAAAAAA GHOST\", next: [\r\n            { speaker: \"Bud\", text: \"What? Don’t be scared, heh. That’s impossible.\", },\r\n          ] },\r\n        ]\r\n      },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *outdoorBud3(): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"Bud\", text: \"Huh. So you really can see ghosts? That’s so strange.\", },\r\n      { speaker: \"Bud\", text: \"I can't see anything, but I trust you!\", },\r\n      { speaker: \"Bud\", text: \"Hey, wait. This area looks kind of familiar!\", },\r\n      { speaker: \"Bud\", text: \"Oh! I remember now! I actually know a shortcut to the Tree of Sprights from here!\", },\r\n      { speaker: \"Bud\", text: `It's right this way, ${ this.name }! There’s no time to waste!`, },\r\n      { speaker: \"Bud\", text: \"(I'm trying to point, but I don't think it's working.\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *hub01(): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"Bud\", text: \"Welcome to the bottom of the Tree of Sprights!\", },\r\n      { speaker: \"Bud\", text: \"Huh... That's odd.\", },\r\n      { speaker: \"Bud\", text: \"The entrance to Withers' Lair is above here, but getting up there will be tough.\", },\r\n      { speaker: \"Bud\", text: \"You just woke up, and it doesn't look like you're strong enough yet...\", },\r\n      { speaker: \"Bud\", text: \"I wonder if there's anything else we could explore, though?\", },\r\n      { speaker: \"Bud\", text: \"Hey, what's that area all the way to the right?\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *hub02(): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"Bud\", text: \"How did you do that?!\", },\r\n      { speaker: \"Bud\", text: \"It must be your nature powers! Maybe they’re coming back!\", },\r\n      { speaker: \"Bud\", text: \"Sadly, that’s not the exit that leads to Withers' Lair...\", },\r\n      { speaker: \"Bud\", text: \"But let’s go explore it anyway! Maybe we’ll find something helpful.\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *hub03(): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"Bud\", text: \"Huh. So you really can see ghosts? That’s so strange.\", },\r\n      { speaker: \"Bud\", text: \"Hey, wait. This area looks kind of familiar.\", },\r\n      { speaker: \"Bud\", text: \"Oh! I remember now! I actually know a shortcut to the Tree of Sprights from here!\", },\r\n      { speaker: \"Bud\", text: `C’mon, ${ this.name }, there’s no time to waste!`, },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *vineworld01(): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"Bud\", text: \"Uh oh, it looks like we’ve hit a dead end.\", },\r\n      { speaker: \"Bud\", text: \"Unless we can somehow make a new pathway...?\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *vineworld02(): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"Bud\", text: \"Whoa, that's so cool! This vine thing is a game changer!\", },\r\n      { speaker: \"Bud\", text: \"Wait, what the\", },\r\n      { speaker: \"Bud\", text: \"How did you climb that? You don’t even have arms.\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *vineworld03(): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"Bud\", text: \"Whoa... look at that.\", },\r\n      { speaker: \"Bud\", text: \"I had no idea there was still a tree here!\", },\r\n      { speaker: \"Bud\", text: \"It doesn’t look like it’s doing too hot, but I’m sure you’ll still get some good energy out of it.\", },\r\n      { speaker: \"Bud\", text: \"Maybe even enough for us to unblock the Lair entrance!\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *hub04(): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"Bud\", text: \"Let’s see if your new power has changed anything!\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *hub05(): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"Bud\", text: \"Hey, cool!\", },\r\n      { speaker: \"Bud\", text: \"Uh, this still isn't the way to Withers' Lair.\", },\r\n      { speaker: \"Bud\", text: \"But I’m sure there’s interesting stuff down there too!\", },\r\n      { speaker: \"Bud\", text: \"Let’s go explore! Maybe we’ll find another cool tree. Or something.\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *mushworld01(): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"Bud\", text: \"...And, it looks like we’ve hit another dead end.\", },\r\n      { speaker: \"Bud\", text: \"Aww, look at that cute little mushroom!\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *mushworld02(): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"Bud\", text: \"Whoa! How did you do that?\", },\r\n      { speaker: \"Bud\", text: \"Mushrooms aren’t even plants!\", },\r\n      { speaker: \"Bud\", text: \"Artistic license, I guess.\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *mushworld03(): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"Bud\", text: \"Gosh, look at that.\", },\r\n      { speaker: \"Bud\", text: \"It's a little sad-looking, but that’s still the biggest mushroom I’ve seen in centuries.\", },\r\n      { speaker: \"Bud\", text: \"Kinda crazy how much life is still hidden here.\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *hub06(): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"Bud\", text: \"Okay, there’s only one exit out of this tree base left.\", },\r\n      { speaker: \"Bud\", text: \"Now the way to Withers’ Lair HAS to be next!\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *hub07(): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"Bud\", text: \"YES! We can get to Withers' Lair now!\", },\r\n      { speaker: \"Bud\", text: `C’mon, ${ this.name }! Let’s go!`, },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *lair01(): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"Bud\", text: \"So this is Withers' Lair...\", },\r\n      { speaker: \"Bud\", text: \"Kinda spooky!\", },\r\n    ]);\r\n\r\n\r\n    Withers.Instance.x = 41320;\r\n    Withers.Instance.y = -8670;\r\n    Withers.Instance.sprite.scale.x = Withers.Instance.sprite.scale.x * -1;\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *withers01(): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"Withers\", text: \"♫ Doo de doo~ ♫\", },\r\n      { speaker: \"Withers\", text: \"♫ Toss a coin to your Withers~ ♫\", },\r\n      { speaker: \"Withers\", text: \"♫ Oh, factory of plenty~ ♫\", },\r\n      { speaker: \"Withers\", text: \"Ahhh. What a wonderful time to be an industry leader. \", },\r\n      { speaker: \"Withers\", text: \"Business is booming, profits are soaring...\", },\r\n      { speaker: \"Withers\", text: \"On days like these...\", },\r\n      { speaker: \"Withers\", text: \"Heh.\", },\r\n      { speaker: \"Withers\", text: \"On days like these, I do wonder about those old forest dolts.\", },\r\n      { speaker: \"Withers\", text: \"If we hadn’t destroyed their whole race, where would they be now?\", },\r\n      { speaker: \"Withers\", text: \"Perhaps they would’ve migrated off to some foreign land.\", },\r\n      { speaker: \"Withers\", text: \"Perhaps they would’ve stayed hidden nearby, plotting their revenge.\", },\r\n      { speaker: \"Withers\", text: \"But...\", },\r\n      { speaker: \"Withers\", text: \"Heh.\", },\r\n      { speaker: \"Withers\", text: \"Heheh.\", },\r\n      { speaker: \"Withers\", text: \"That’s impossible.\", },\r\n      { speaker: \"Withers\", text: \"After all, I saw to it myself.\", },\r\n      { speaker: \"Withers\", text: \"Those hippies are gone for good.\", },\r\n      { speaker: \"Withers\", text: \"Hmm.\", },\r\n      { speaker: \"Withers\", text: \"Unless, of course...\", },\r\n      { speaker: \"Withers\", text: \"There happened to be one left.\", },\r\n    ]);\r\n\r\n    yield { frames: 10 };\r\n    Withers.Instance.sprite.scale.x = Withers.Instance.sprite.scale.x * -1;\r\n    Withers.Instance.x = Withers.Instance.x - 450;\r\n    yield { frames: 20};\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"Withers\", text: `Hello, ${ this.name }.`, },\r\n      { speaker: \"Withers\", text: \"I’ve been expecting you.\", },\r\n    ]);\r\n\r\n   // Bud.Instance.texture = Assets.getResource(\"evil bud\");\r\n\r\n    Bud.Instance.scale = new Vector2(-0.5, 0.5);\r\n\r\n    state.budFollowing = false;\r\n\r\n    for (let i = 0; i < 10; i++) {\r\n      Bud.Instance.x = Bud.Instance.x - 100;\r\n      yield { frames: 1 };\r\n    }\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"Bud\", text: \"Master! Master! I’ve done as you asked!\", },\r\n      { speaker: \"Withers\", text: \"Very good, Bud.\", },\r\n      { speaker: \"Bud\", text: \"I’ve brought you the dirty dryad!\", },\r\n      { speaker: \"Bud\", text: \"I even timed our entrance to the start of your dramatic monologue! Just like we rehearsed!\", },\r\n      { speaker: \"Withers\", text: \"Yes, thank you. I’m very proud of you, Bud.\", },\r\n      { speaker: \"Withers\", text: \"...What, an evil tycoon can’t show his henchfairies some validation? Please.\", },\r\n      { speaker: \"Withers\", text: \"Our society has progressed by five hundred years since you were put under that spell. Adapt to our new standards, or you’ll be streets behind.\", },\r\n      { speaker: \"Withers\", text: \"Oh, I’m sorry. You don’t know what a “street” is. Or what “standards” are, for that matter.\", },\r\n      { speaker: \"Bud\", text: \"Oooh! Clever burn, master! If I had arms, I would be dabbing in celebration!\", },\r\n      { speaker: \"Bud\", text: \"Y’know, because we’re evil!\", },\r\n      { speaker: \"Withers\", text: `You must be so confused, ${ this.name }. Let me make some things clear to you.`, },\r\n      { speaker: \"Withers\", text: \"Firstly, you’re not here because you’re some kind of Superdryad who intrepidly braved the elements to get to my lair.\", },\r\n      { speaker: \"Withers\", text: \"Didn’t you wonder why your journey here was so easy? I mean, I have Tinker Men everywhere that I could’ve sent to stop you.\", },\r\n      { speaker: \"Withers\", text: \"No, you’re here because I wanted you to be here.\", },\r\n      { speaker: \"Withers\", text: \"And definitely not because we didn’t have time to animate enemies or anything.\", },\r\n      { speaker: \"Withers\", text: \"Secondly, this element of surprise that you thought you had?\", },\r\n      { speaker: \"Withers\", text: \"Please. I’ve known about this plan since before you closed your eyes.\", },\r\n      { speaker: \"Withers\", text: \"Dryad societies are soooo easy to infiltrate.\", },\r\n      { speaker: \"Withers\", text: \"No security anywhere? Implicit trust of strangers? Like, okay, bloomer.\", },\r\n      { speaker: \"Withers\", text: \"Perhaps you don’t understand what this knowledge has allowed me to do.\", },\r\n      { speaker: \"Withers\", text: \"I’ve been planning for your return.\", },\r\n      { speaker: \"Withers\", text: \"For the last five hundred years.\", },\r\n      { speaker: \"Withers\", text: \"Everything you think you know about this world is just everything that Bud told you!\", },\r\n      { speaker: \"Withers\", text: \"And you were foolish enough to believe every word!\", },\r\n      { speaker: \"Withers\", text: \"What the hell is a “spirit partner” anyway? Blathering nonsense!\", },\r\n      { speaker: \"Withers\", text: `In fact, your name isn’t even ${ this.name }!`, },\r\n      { speaker: \"Withers\", text: \"That’s just a dumb name I told Bud to call you!\", },\r\n      { speaker: \"Withers\", text: `What even is that, anyway? ${ this.name }?! What kind of simpleton would just go and embrace such a stupid name?!`, },\r\n      { speaker: \"Bud\", text: \"WAHAHAH! You believed me!\", },\r\n      { speaker: \"Withers\", text: \"You utter fool!\", },\r\n      { speaker: \"Withers\", text: \"Anyway.\", },\r\n      { speaker: \"Withers\", text: \"Lastly.\", },\r\n      { speaker: \"Withers\", text: \"And most importantly.\", },\r\n      { speaker: \"Withers\", text: \"The reason I’ve so cordially invited you here today.\", },\r\n      { speaker: \"Withers\", text: \"Yes, you.\", },\r\n      { speaker: \"Withers\", text: \"Herald of Wisp.\", },\r\n      { speaker: \"Withers\", text: \"Your true name.\", },\r\n      { speaker: \"Withers\", text: \"Herald, you are in this lair right now because I am going to kill you.\", },\r\n      { speaker: \"Withers\", text: \"You hear me? You’re not going to make it out of here alive.\", },\r\n      { speaker: \"Withers\", text: \"And the last hope of the Pastorian Dryads will vanish.\", },\r\n      { speaker: \"Withers\", text: \"No chance of defeating me.\", },\r\n      { speaker: \"Withers\", text: \"No chance of reaching the Energy Fruit.\", },\r\n      { speaker: \"Withers\", text: \"No chance of restoring the forest.\", },\r\n      {\r\n        speaker: \"Withers\",\r\n        text: \"Any last words?\",\r\n        branches: [\r\n          { text: \"...\", next: [\r\n            { speaker: \"Withers\", text: \"Thought so.\", },\r\n          ] },\r\n          { text: \"...\", next: [\r\n            { speaker: \"Withers\", text: \"Thought so.\", },\r\n          ] },\r\n          { text: \"You scoundrel! You won't get away with this!\", next: [\r\n            { speaker: \"SPONSORED CONTENT\", text: \"Sorry! To be able to choose this option, please pay $19.99 to purchase the extra Premium Content at the website www.murderwithers.com!\", },\r\n            { speaker: \"Withers\", text: \"Not saying anything, hmm?\", },\r\n            { speaker: \"Withers\", text: \"Thought so.\", },\r\n          ] },\r\n        ]\r\n      },\r\n\r\n      { speaker: \"Withers\", text: \"DARK BLAST HAH\", },\r\n    ]);\r\n\r\n    const notBeam = new Entity({\r\n      name: \"notBeam\",\r\n      texture: Assets.getResource(\"notbeam/notbeam\")[0],\r\n    })\r\n\r\n    state.stage.addChild(notBeam);\r\n\r\n    notBeam.scale = new Vector2(-0.1, 0.1);\r\n\r\n    notBeam.x = Withers.Instance.x + 600;\r\n    notBeam.y = Withers.Instance.y + 300;\r\n\r\n    for (let i = 0; i < 17; i++) {\r\n      notBeam.x = notBeam.x + 110;\r\n      yield { frames: 1 };\r\n    }\r\n\r\n    notBeam.alpha = 0;\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \" \", text: \"(You feel a burning in your chest.)\", },\r\n      { speaker: \"Withers\", text: \"Hah...\", },\r\n      { speaker: \"Withers\", text: \"Too easy.\", },\r\n      { speaker: \" \", text: \"(The feeling starts burning stronger.)\", },\r\n      { speaker: \" \", text: \"(It feels... healing.)\", },\r\n      { speaker: \" \", text: \"(Your chest starts to glow.)\", },\r\n      { speaker: \"Withers\", text: \"...wait.\", },\r\n      { speaker: \"Withers\", text: \"You’re not dead.\", },\r\n      { speaker: \"Withers\", text: \"What’s going on?\", },\r\n    ]);\r\n\r\n    const newNPC1 = new Entity({\r\n      name: \"NewNPC1\",\r\n      texture: Assets.getResource(\"npc1\"),\r\n    });\r\n\r\n    state.stage.addChild(newNPC1);\r\n\r\n    const newNPC2 = new Entity({\r\n      name: \"NewNPC2\",\r\n      texture: Assets.getResource(\"npc2\"),\r\n    });\r\n\r\n    const newNPC3 = new Entity({\r\n      name: \"NewNPC3\",\r\n      texture: Assets.getResource(\"npc3\"),\r\n    });\r\n\r\n    const newNPC4 = new Entity({\r\n      name: \"NewNPC4\",\r\n      texture: Assets.getResource(\"npc5\"),\r\n    });\r\n\r\n    state.stage.addChild(newNPC1);\r\n    state.stage.addChild(newNPC2);\r\n    state.stage.addChild(newNPC3);\r\n    state.stage.addChild(newNPC4);\r\n\r\n    newNPC1.x = state.player.x + 200;\r\n    newNPC1.y = state.player.y - 200;\r\n\r\n    newNPC2.x = state.player.x + 300;\r\n    newNPC2.y = state.player.y - 200;\r\n\r\n    newNPC3.x = state.player.x - 300;\r\n    newNPC3.y = state.player.y - 200;\r\n\r\n    newNPC4.x = state.player.x - 100;\r\n    newNPC4.y = state.player.y - 200;\r\n\r\n    newNPC1.alpha = 0;\r\n    newNPC2.alpha = 0;\r\n    newNPC3.alpha = 0;\r\n    newNPC4.alpha = 0;\r\n\r\n    for (let i = 0; i < 10; i++) {\r\n      newNPC1.alpha = newNPC1.alpha + 0.1;\r\n      newNPC2.alpha = newNPC2.alpha + 0.1;\r\n      newNPC3.alpha = newNPC3.alpha + 0.1;\r\n      newNPC4.alpha = newNPC3.alpha + 0.1;\r\n\r\n      yield { frames: 1 };\r\n    }\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"Bud\", text: \"Uh... Master...\", },\r\n      { speaker: \"Bud\", text: \"In all the excitement... I may have forgotten to tell you about the ghosts...\", },\r\n      { speaker: \"Withers\", text: \"The\", },\r\n      { speaker: \"Withers\", text: \"WHAT\", },\r\n      { speaker: \"Wisps\", text: \"Never fear, Time Warrior! You are under our protection, for you have given us strength and hope!\", },\r\n      { speaker: \"Squill\", text: \"Hey, Time Warrior! It's me, Squill! Remember me?\", },\r\n      { speaker: \"Wisps\", text: \"Listen here, Withers.\", },\r\n      { speaker: \"Wisps\", text: \"So long as we, the spirits of the forest, still cling to existence...\", },\r\n      { speaker: \"Wisps\", text: \"You will not lay a hand on the Time Warrior!\", },\r\n      { speaker: \"Pisp\", text: \"Yap! Yap!\", },\r\n      { speaker: \"Withers\", text: \"What. The hell.\", },\r\n    ]);\r\n\r\n    notBeam.alpha = 1; \r\n\r\n    notBeam.x = Withers.Instance.x + 600;\r\n\r\n    for (let i = 0; i < 10; i++) {\r\n      notBeam.x = notBeam.x + 200;\r\n      yield { frames: 1 };\r\n    }\r\n\r\n    notBeam.x = Withers.Instance.x + 600;\r\n\r\n    for (let i = 0; i < 10; i++) {\r\n      notBeam.x = notBeam.x + 200;\r\n      yield { frames: 1 };\r\n    }\r\n\r\n    notBeam.alpha = 0;\r\n\r\n    /*\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"Wisps\", text: \"ATTACK HIM NOT.\", },\r\n      { speaker: \"Withers\", text: \"Grr...\", },\r\n      { speaker: \"Withers\", text: \"You know what?\", },\r\n      { speaker: \"Withers\", text: \"Fine.\", },\r\n      { speaker: \"Withers\", text: \"I didn’t want to do this.\", },\r\n      { speaker: \"Withers\", text: \"After all, I’ll lose the energy source for my power plants...\", },\r\n      { speaker: \"Withers\", text: \"No. It’s a worthy sacrifice.\", },\r\n      { speaker: \"Withers\", text: \"You cannot be allowed to come near the Energy Fruit.\", },\r\n      { speaker: \"Withers\", text: \"I WILL GO DESTROY IT MYSELF.\", },\r\n    ]);\r\n    */\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"Wisps\", text: \"ATTACK HIM NOT.\", },\r\n      { speaker: \"Withers\", text: \"Grr...\", },\r\n      { speaker: \"Withers\", text: \"You know what?\", },\r\n      { speaker: \"Withers\", text: \"Fine.\", },\r\n      { speaker: \"Withers\", text: \"I didn’t want to do this.\", },\r\n      { speaker: \"Withers\", text: \"But it looks like I can't hurt you. You've given me no choice\", },\r\n      { speaker: \"Withers\", text: \"And you know what?\", },\r\n      { speaker: \"Withers\", text: \"An evil villain like myself NEVER leaves home without a Plan B.\", },\r\n      { speaker: \"Withers\", text: \"See what happens when I press this button?\", },\r\n      { speaker: \"TREE_OF_SPRIGHTS.trexe\", text: \"SELF-DESTRUCT ACTIVATED. EXPLOSION IN FIVE MINUTES.\", },\r\n      { speaker: \"Withers\", text: \"HAHAHAHA! JUST YOU TRY AND REACH THE ENERGY FRUIT NOW!\", },\r\n      { speaker: \"Withers\", text: \"I may not have won this round...\", },\r\n      { speaker: \"Withers\", text: \"But mark my words.\", },\r\n      { speaker: \"Withers\", text: \"This is not the last you have seen of Withers.\", },\r\n      { speaker: \"Withers\", text: \"HEH HEH HEH HEH\", },\r\n    ]);\r\n\r\n    for (let i = 0; i < 10; i++) {\r\n      Withers.Instance.alpha = Withers.Instance.alpha - 0.1;\r\n      yield { frames: 1 };\r\n    }\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"Bud\", text: \"M... Master? Where did you go?\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  bossCount = 0;\r\n  public *bossFail(): GameCoroutine { // the first NPC the player comes across\r\n    this.bossCount = this.bossCount + 1;\r\n\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    if (this.bossCount === 1){\r\n\r\n      yield* DialogBox.StartDialog([\r\n        { speaker: \"Withers\", text: \"AHAHAHA! Stupid idiot dryad!\", },\r\n        { speaker: \"Withers\", text: \"Nice try, but the Energy Fruit is mine. Sorry, suckaaaa\", },\r\n          // npc ghosts appear\r\n        { speaker: \"Wisps\", text: \"Time Warrior! There is yet one more trick up our sleeve.\", },\r\n        { speaker: \"Wisps\", text: \"It may destroy some of us... but there has never been a better time.\", },\r\n        { speaker: \"Wisps\", text: \"If we pool together our remaining energy, we can send you back in time, but only to the beginning of this tree chase.\", },\r\n        { speaker: \"Wisps\", text: \"We won’t be able to do this much, though. Get ready, and good luck!\", },\r\n          // back to start of boss chase\r\n      ]);\r\n\r\n    } else {\r\n\r\n      yield* DialogBox.StartDialog([\r\n        { speaker: \"Withers\", text: \"AHAHAHA! Stupid idiot dryad!\", },\r\n        { speaker: \"Withers\", text: \"Nice try, but the Energy Fruit is mine. Sorry, suckaaaa\", },\r\n          // npc ghosts appear\r\n        { speaker: \"Wisps\", text: \"Agh, you were so close!\", },\r\n        { speaker: \"Wisps\", text: \"It's okay, we still have enough juice to send you back in time once more.\", },\r\n        { speaker: \"Wisps\", text: \"But you gotta get it on this next one, okay?\", },\r\n          // back to start of boss chase\r\n      ]);\r\n\r\n    }\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *bossWin(): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"Withers\", text: \"No! Don’t do it! Don’t touch that fruit!\", },\r\n      { speaker: \"Withers\", text: \"Look. Maybe I came across too strongly.\", },\r\n      { speaker: \"Withers\", text: \"I’m sure we can work a deal out.\", },\r\n      { speaker: \"Withers\", text: \"Just stay away from the glowing cantaloupe!\", },\r\n      { speaker: \"Wisps\", text: \"God, just shut up already. Jeez.\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *touchFruit(): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* DialogBox.StartDialog([\r\n      { speaker: \"Withers\", text: \"NOOOOOOOOOOOO\", },\r\n    ]);\r\n\r\n    state.sfx.climaxSweep.play();\r\n\r\n    yield* this.fadeScreenToPercentage({ percentage: 100, time: 90, state });\r\n\r\n    this.game.endSpeedrunTick = this.game.state.tick;\r\n\r\n    const tx = Game.Instance.getSpeedrunTimeInS();\r\n    const minutes = Math.floor(tx/60);\r\n    const seconds = `${Math.round(tx) % 60}`.padStart(2, '0');\r\n    const ms = (tx % 1).toFixed(1).slice(2);\r\n    const speedRunTime = `${minutes}:${seconds}.${ms}`;\r\n\r\n    yield* DialogOverlay.StartDialog([ // Start the following dialog\r\n      { speaker: \"Herald\", text: \"...\", }, // First dialog: speaker name is Herald, text is \"...\"\r\n      { speaker: \"Herald\", text: `The time is ${speedRunTime} PM.`}, // second dialog\r\n      { speaker: \"Herald\", text: \"And it looks like...\" }, // second dialog\r\n      { speaker: \"Herald\", text: \"That's the end of things.\" }, // second dialog\r\n      { speaker: \"Herald\", text: \"...\" }, // second dialog\r\n      { speaker: \"Herald\", text: \"...Or is it???\", }, // etc\r\n      { speaker: \"Herald\", text: \"...\", },\r\n      { speaker: \"Herald\", text: \".......\", },\r\n      { speaker: \"Herald\", text: \"..................................................\", },\r\n      { speaker: \"Herald\", text: \"Withers will return in WILL OF THE WISP II: EVEN WISPIER\", },\r\n      { speaker: \"Herald\", text: \"..................................................\", },\r\n      { speaker: \"Herald\", text: \"..................................................\", },\r\n      { speaker: \"Herald\", text: \"That's the real end. You can stop playing now.\", },\r\n      { speaker: \"Herald\", text: \"..................................................\", },\r\n      { speaker: \"Herald\", text: \"..................................................\", },\r\n      { speaker: \"Herald\", text: \".......................................................\", },\r\n      { speaker: \"Herald\", text: \"P.S. EVERYONE DIED!!!!!\", },\r\n      \r\n    ]);\r\n\r\n    // state.mode = \"Normal\";\r\n  }\r\n\r\n\r\n\r\n\r\n  // NPC STUFF DOWN HERE\r\n\r\n  npc01CheckCount = 0;\r\n  public *npc01(speaker: Entity): GameCoroutine { // the first NPC the player comes across\r\n    this.npc01CheckCount = this.npc01CheckCount + 1;\r\n\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    if (this.npc01CheckCount === 1) {\r\n      yield* NpcDialog.StartDialog([\r\n        { speaker, text: \"Huh? I sense something...\", },\r\n        { speaker, text: \"Something weak... but something new!\", },\r\n        { speaker, text: \"Could it possibly be... the Time Warior? After so long?\", },\r\n        { speaker, text: \"Time Warrior, if you’re trying to talk to me, I’m sorry, but I can’t hear you.\", },\r\n        { speaker, text: \"As dryad wisps, all we can really sense is sources of natural energy, and those are so scarce these days.\", },\r\n        { speaker, text: \"Honestly, I’m only sensing a tiny bit of energy right now. Other ghosts might not even be able to sense you at all.\", },\r\n        { speaker, text: \"In fact, you might even just be a random flower. In which case, howdy!\", },\r\n        { speaker, text: \"...But if you actually are the Time Warrior, I’m rooting for you! Go and make Withers rot!\", },\r\n      ]);\r\n    } else {\r\n      yield* NpcDialog.StartDialog([\r\n        { speaker, text: \"Time Warrior, is that you?\", },\r\n        { speaker, text: \"As dryad wisps, all we can really sense is sources of natural energy, and those are so scarce these days.\", },\r\n        { speaker, text: \"In fact, I’m only sensing a tiny bit of energy right now. Other ghosts might not even be able to sense you at all.\", },\r\n        { speaker, text: \"...But if you actually are the Time Warrior, I’m rooting for you! Go and make Withers rot!\", },\r\n      ]);\r\n    }\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *npc02(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"Has it been five hundred years since the Time Warrior was put to sleep yet?\", },\r\n      { speaker, text: \"It feels like he should be waking up any day now!\", },\r\n      { speaker, text: \"Surely we’d be able to sense him, right?\", },\r\n      { speaker, text: \"Hey, wait... I do sense something minor...\", },\r\n      { speaker, text: \"Probably just some moss.\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n\r\n  }\r\n\r\n  public *npc03(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"Time Warrior? Could it be?\", },\r\n      { speaker, text: \"Ever since our woods were cut down and Pastoria Metalworks opened, it’s been so hard to sense anything natural.\", },\r\n      { speaker, text: \"All the other dryad wisps and I have been wandering near-blind for so long...\", },\r\n      { speaker, text: \"If you can hear me, Time Warrior, I hope you come back to us soon.\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *npc04(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"Boo-hoo... boo-hoo... *sniff*\", },\r\n      { speaker, text: \"There’s no use wishing. It won’t be long before the Tinker Men destroy all that remains of Pastoria Forest.\", },\r\n      { speaker, text: \"And when the forest disappears, so will we...\", },\r\n      { speaker, text: \"A-boo-hoo-hoo...\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *npc05(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"I sure do miss the Tree of Sprights.\", },\r\n      { speaker, text: \"Lounging around in the shade, swinging from its branches...\", },\r\n      { speaker, text: \"But those days are gone.\", },\r\n      { speaker, text: \"It’s so hard to sense now, and its signal keeps fading.\", },\r\n      { speaker, text: \"But as long as its Energy Fruit still sits at the top, I know it’ll be okay!\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *npc06(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"Myah! I’m tired of waiting!\", },\r\n      { speaker, text: \"When is that pesky Time Warrior going to wake up?\", },\r\n      { speaker, text: \"He’s been sleeping for too long!\", },\r\n      { speaker, text: \"He’d better wake up soon and bring our forest back! Myah!\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *npc07(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"Time Warrior... if you can hear me...\", },\r\n      { speaker, text: \"You may be the last of our people, but I have faith that you can restore the forest.\", },\r\n      { speaker, text: \"The spirit of our race rests in your hands. I know you’ll keep it alive!\", },\r\n      { speaker: Bud.Instance, text: \"Hey, that’s the theme for the game jam!\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  npc08CheckCount = 0;\r\n  public *npc08(speaker: Entity): GameCoroutine { // first NPC in vine world\r\n    this.npc08CheckCount = this.npc08CheckCount + 1;\r\n\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    if (this.npc08CheckCount === 1){\r\n\r\n      yield* NpcDialog.StartDialog([\r\n        { speaker, text: \"I wish I could go sit down somewhere.\", },\r\n        { speaker, text: \"But I have to stay here and keep talking! If the Time Warrior comes back, I have important information for him!\", },\r\n        { speaker, text: \"What if he doesn't remember that he can use his Spirit Power to breathe life back into certain plants?\", },\r\n        { speaker, text: \"Or that if his Spirit Slots empty out, he can recharge them by standing near the aura of a Weeping Wisp fountain!\", },\r\n        { speaker, text: \"Wait, why am I talking to myself about this? I know all of this already, hah.\", },\r\n        { speaker, text: \"Maybe I’m going crazy!\", },\r\n        { speaker, text: \"I sure wish I could go sit down somewhere...\", },\r\n      ]);\r\n\r\n    } else {\r\n\r\n      yield* NpcDialog.StartDialog([\r\n        { speaker, text: \"If the Time Warrior comes back, I have important information for him!\", },\r\n        { speaker, text: \"What if he doesn't remember that he can use his Spirit Power to breathe life back into certain plants?\", },\r\n        { speaker, text: \"Or that if his Spirit Slots empty out, he can recharge them by standing near the aura of a Weeping Wisp fountain!\", },\r\n        { speaker, text: \"I sure wish I could go sit down somewhere...\", },\r\n      ]);\r\n\r\n    }\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  npc09CheckCount = 0;\r\n  public *npc09(speaker: Entity): GameCoroutine { // vine world\r\n    this.npc09CheckCount = this.npc09CheckCount + 1;\r\n\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    if (this.npc09CheckCount === 1){\r\n\r\n      yield* NpcDialog.StartDialog([\r\n        { speaker, text: \"Vines are so cool. They’re like, my second-favorite favorite plant.\", },\r\n        { speaker, text: \"You can grow them...\", },\r\n        { speaker, text: \"Climb up them...\", },\r\n        { speaker, text: \"Climb down them...\", },\r\n        { speaker, text: \"Climb back up them...\", },\r\n        { speaker, text: \"Uh...\", },\r\n        { speaker, text: \"Where was I?\", },\r\n        { speaker, text: \"Whoa, is that a vine?\", },\r\n        { speaker, text: \"Did I mention that vines are like, my second favorite plant?\", },\r\n        { speaker, text: \"You can grow them...\", },\r\n        { speaker, text: \"Climb up them...\", },\r\n        { speaker, text: \"Climb... yawn...\", },\r\n        { speaker, text: \"zzz...\", },\r\n      ]);\r\n\r\n    } else {\r\n\r\n      yield* NpcDialog.StartDialog([\r\n        { speaker, text: \"zzz...\", },\r\n      ]);\r\n\r\n    }\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *npc10(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"Yap!\", },\r\n      { speaker, text: \"Yap! Yap!\", },\r\n      { speaker, text: \"(It’s a puppy wisp! A pisp!)\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *npc11(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"I wonder if any of the other ghosts think it’s weird that we’re all just talking to ourselves constantly.\", },\r\n      { speaker, text: \"There really isn’t much of anything else to do, though.\", },\r\n      { speaker, text: \"We just gotta go crazy and shout into the void! It’s our only shot to survive!\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *npc12(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"I wonder if the vines are still around?\", },\r\n      { speaker, text: \"I still remember the day I found two vines growing out of the same root!\", },\r\n      { speaker, text: \"It was a BINE!\", },\r\n      { speaker, text: \"...Yeah, comedy was never my strong suit, even when I was alive.\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *npc13(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"I wonder if the Time Warrior is up.\", },\r\n      { speaker, text: \"I also wonder how many Spirit Slots the Time Warrior has!\", },\r\n      { speaker, text: \"Does he have five yet? That’s the maximum, right?\", },\r\n      { speaker, text: \"There couldn’t be any ways to unlock Secret Slots lying around, right?\", },\r\n      { speaker, text: \"So much to wonder about...\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *npc13Extra(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"We wisps do talk a lot, but that's because we're so faded away!\", },\r\n      { speaker, text: \"If we don't talk randomly, how would we remember our history?\", },\r\n      { speaker, text: \"Like our tradition of rooting for people by rooting into the ground!\", },\r\n      { speaker, text: \"Or the escapades our intrepid President, Grower Leafland!\", },\r\n      { speaker, text: \"I'm so excited for the Time Warrior to wake up. So I can have another person to talk to.\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  npc14CheckCount = 0;\r\n  public *npc14(speaker: Entity): GameCoroutine { // first npc encountered in MushWorld(tm)\r\n    this.npc14CheckCount = this.npc14CheckCount + 1;\r\n\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    if (this.npc14CheckCount === 1){\r\n\r\n      yield* NpcDialog.StartDialog([\r\n        { speaker, text: \"Whoa... Did a nearby natural presence just grow stronger?\", },\r\n        { speaker, text: \"I haven’t felt something like that in centuries!\", },\r\n        { speaker, text: \"It must be the Time Warrior!\", },\r\n        { speaker, text: \"Hey, Time Warrior! Can you see me? It’s me, Squill!\", },\r\n        { speaker, text: \"At least, I hope you’re the Time Warrior. But what else could you be? Everything else is slowly dying...\", },\r\n        { speaker, text: \"This is so cool, though! You’re finally back, and we’re one step closer to restoring the forest!\", },\r\n        { speaker, text: \"I wish I could do something in the physical world to help you, but us wisps are far too weak for anything like that at the moment.\", },\r\n        { speaker, text: \"Just remember, I’ll always be there cheering you on! When there’s a Squill, there’s a squay!\", },\r\n      ]);\r\n\r\n    } else {\r\n\r\n      yield* NpcDialog.StartDialog([\r\n        { speaker, text: \"I wish I could do something in the physical world to help you, but us wisps are far too weak for anything like that at the moment.\", },\r\n        { speaker, text: \"Just remember, I’ll always be there cheering you on! When there’s a Squill, there’s a squay!\", },\r\n      ]);\r\n\r\n    }\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *npc15(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"I wish my parents were still around.\", },\r\n      { speaker, text: \"I prayed so hard that they would become ghosts like I did, but...\", },\r\n      { speaker, text: \"I guess they just didn’t have as much unfinished business as me.\", },\r\n      { speaker, text: \"Kind of ironic, really.\", },\r\n      { speaker, text: \"C’mon, Time Warrior. Make things right. I believe in you.\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *npc16(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"There’s been some buzzing going on that the Time Warrior might be back!\", },\r\n      { speaker, text: \"Could it be true? That would be crazy!\", },\r\n      { speaker, text: \"But wait... Withers still doesn’t know about him, right?\", },\r\n      { speaker, text: \"I hope not. Otherwise, our five-hundred year comeback plan will have been a huge dud...\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *npc17(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"Hello? Anyone?\", },\r\n      { speaker, text: \"I think I lost my puppy!\", },\r\n      { speaker, text: \"If anyone could help me find him, I’d be very grateful!\", },\r\n      { speaker, text: \"Man, I hope this doesn’t activate a sidequest or something. We DEFINITELY don’t have time to program one of those.\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *npc18(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"If what they say is true and the Time Warrior is truly awake...\", },\r\n      { speaker, text: \"Maybe we should all head to the top of the Tree of Sprights!\", },\r\n      { speaker, text: \"The Energy Fruit at the top of the tree is the best chance that the Time Warrior has at restoring the forest.\", },\r\n      { speaker, text: \"And if he uses it to channel enough natural energy, maybe we could even get our bodies back!\", },\r\n      { speaker, text: \"Gosh, wouldn’t that be a miracle?\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *npc19(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"If there's one thing that I miss most about being able to see and hear the world...\", },\r\n      { speaker, text: \"It's that I don't know if I'll ever get to hear the tree's song again.\", },\r\n      { speaker, text: \"How does it go? I can't remember...\", },\r\n      { speaker, text: \"Something about seeing flowers, perhaps?\", },\r\n      { speaker, text: \"Maybe I'll remember the words tomorrow.\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *npc20(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"When I was younger, I thought I would grow up to become someone incredible.\", },\r\n      { speaker, text: \"Maybe I’d be a nature shaman, or discover a new type of tree!\", },\r\n      { speaker, text: \"Or even be the dialogue writer for a video game!\", },\r\n      { speaker, text: \"But none of that ever happened. Instead, I’m stuck here as a wisp, forever.\", },\r\n      { speaker, text: \"Always wondering... What could’ve been?\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *npc21(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"Oh my gosh! Time Warrior, is that you?\", },\r\n      { speaker, text: \"I'm such a huge fan!\", },\r\n      { speaker, text: \"Hey, watch out for Withers, okay? He's a sneaky snapdragon.\", },\r\n      { speaker, text: \"But with element of surprise, how could you lose? You're the best!\", },\r\n      { speaker, text: \"Hey, after you restore the forest, I was wondering...\", },\r\n      { speaker, text: \"Could I get your autograph, maybe?\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *npc22(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"Time Warrior. Your aura grows ever stronger.\", },\r\n      { speaker, text: \"Withers' Lair draws near. Be cautious.\", },\r\n      { speaker, text: \"I believe in you.\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *npcWithers(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"How did you activate this text? Truly incredible.\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n\r\n  // INTERACTION STUFF\r\n\r\n  hubFlowerLevel = 0;\r\n  flowerCheckLv0 = 0;\r\n  flowerCheckLv1 = 0;\r\n  flowerCheckLv2 = 0;\r\n  flowerCheckFinal = 0;\r\n  public *hubFlower(): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    if (this.hubFlowerLevel === 0){\r\n      if (this.flowerCheckLv0 === 0){\r\n        this.flowerCheckLv0 = this.flowerCheckLv0 + 1;\r\n\r\n        yield* DialogBox.StartDialog([\r\n          { text: \"You gently touch a small, delicate sunblossom.\", },\r\n          { text: \"Floral energy starts to flow through you.\", },\r\n        ]);\r\n\r\n      } else {\r\n        this.flowerCheckLv0 = this.flowerCheckLv0 + 1;\r\n\r\n        yield* DialogBox.StartDialog([\r\n          { text: \"Floral energy is flowing through you.\", },\r\n        ]);\r\n\r\n      }\r\n    } else if (this.hubFlowerLevel === 1){\r\n      if (this.flowerCheckLv1 === 0){\r\n        this.flowerCheckLv1 = this.flowerCheckLv1 + 1;\r\n\r\n        yield* DialogBox.StartDialog([\r\n          { text: \"You caress the petals of a growing sunblossom. It begins to light up.\", },\r\n          { text: \"Fluorescent energy starts to flow through you.\", },\r\n        ]);\r\n\r\n      } else {\r\n        this.flowerCheckLv1 = this.flowerCheckLv1 + 1;\r\n\r\n        yield* DialogBox.StartDialog([\r\n          { text: \"Fluorescent energy is flowing through you.\", },\r\n        ]);\r\n\r\n      }\r\n    } else if (this.hubFlowerLevel === 2){\r\n        if (this.flowerCheckLv2 === 0){\r\n          this.flowerCheckLv2 = this.flowerCheckLv2 + 1;\r\n\r\n          yield* DialogBox.StartDialog([\r\n            { text: \"You firmly grasp the stem of a sturdy sunblossom.\", },\r\n            { text: \"Sylvan energy starts to flow through you.\", },\r\n          ]);\r\n\r\n        } else {\r\n          this.flowerCheckLv1 = this.flowerCheckLv1 + 1;\r\n\r\n          yield* DialogBox.StartDialog([\r\n            { text: \"Sylvan energy is flowing through you.\", },\r\n          ]);\r\n      }\r\n    } else if (this.hubFlowerLevel === 3){\r\n        this.flowerCheckFinal = this.flowerCheckFinal + 1;\r\n\r\n        yield* DialogBox.StartDialog([\r\n          { text: \"You marvel at the tenacity of a sunblossom.\", },\r\n        ]);\r\n\r\n      } else {\r\n\r\n        yield* DialogBox.StartDialog([\r\n          { text: \"Now how did you get to here?\", },\r\n        ]);\r\n\r\n      }\r\n    }\r\n\r\n  public *teleportBackToHub(): GameCoroutine {\r\n    Hud.Instance.visible = false;\r\n\r\n    let state = yield \"next\";\r\n\r\n    yield* this.fadeScreenToPercentage({ percentage: 100, time: 90, state });\r\n\r\n    state.player.x = HubLocation.Instance.x;\r\n    state.player.y = HubLocation.Instance.y;\r\n\r\n    yield* DialogOverlay.StartDialog([\r\n      { speaker: \"Herald\", text: \"...A mysterious force returns you to the bottom of the Tree of Sprights...\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\"; // let player fall\r\n\r\n    state.camera.centerOn(state.player, true);\r\n    state.camera.update(state);\r\n\r\n    yield* this.fadeScreenToPercentage({ percentage: 0, time: 90, state });\r\n\r\n    Hud.Instance.visible = true;\r\n  }\r\n\r\n  wisteriaCheckCount = 0;\r\n  public *wisteria(): GameCoroutine {\r\n    this.wisteriaCheckCount = this.wisteriaCheckCount + 1;\r\n\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    if (this.wisteriaCheckCount === 1){\r\n      this.wisteriaCheckCount = this.wisteriaCheckCount + 1;\r\n\r\n      yield* DialogBox.StartDialog([\r\n        { text: \"You reach out to the wisteria. It seems to grow stronger in your presence.\", },\r\n        { text: \"Verdant energy starts to flow through you.\", },\r\n        { text: \"Your number of Spirit Slots increased!\", },\r\n      ]);\r\n\r\n      yield* this.teleportBackToHub();\r\n\r\n      yield* DialogOverlay.StartDialog([\r\n        { speaker: \"Herald\", text: \"Your nature healing ability has extended! Now when you heal vines, they will permanently stay alive!\", },\r\n      ]);\r\n\r\n    } else {\r\n      yield* DialogBox.StartDialog([\r\n        { text: \"The wisteria stands majestically before you. It blooms with vigor.\", },\r\n      ]);\r\n    }\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  bigMushCheckCount = 0;\r\n  public *bigMush(): GameCoroutine {\r\n    this.bigMushCheckCount = this.bigMushCheckCount + 1;\r\n\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    if (this.bigMushCheckCount === 1){\r\n      this.bigMushCheckCount = this.bigMushCheckCount + 1;\r\n\r\n      yield* DialogBox.StartDialog([\r\n        { speaker: \"\", text: \"The giant mushroom is cool to the touch.\", },\r\n        { speaker: \"\", text: \"Buoyant energy starts to flow through you.\", },\r\n        { speaker: \"\", text: \"Your number of Spirit Slots increased!\", },\r\n      ]);\r\n\r\n      yield* this.teleportBackToHub();\r\n\r\n      yield* DialogOverlay.StartDialog([\r\n        { speaker: \"Herald\", text: \"Your nature healing ability has extended! Now when you heal shrooms, they will permanently stay alive!\", },\r\n      ]);\r\n    } else {\r\n      yield* DialogBox.StartDialog([\r\n        { text: \"The mushroom has grown plumper. It seems pleased with itself.\", },\r\n      ]);\r\n    }\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *fountain00(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"It's a fountain with a statue of a crying woman.\", },\r\n      { speaker, text: \"The water in its basin seems dusty, like it hasn't been cleaned in a long time.\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *fountain01(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"Standing near the fountain, you feel a sense of uncertainty.\", },\r\n      { speaker, text: \"What's going on...?\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *fountainHub(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"You hear the echoes of voices past from within the fountain.\", },\r\n      { speaker, text: \"'Keep going! You're doing great!'\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *fountainVine1(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"Standing near the fountain, you feel a sense of calm.\", },\r\n      { speaker, text: \"The way forward is becoming clearer.\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *fountainVine2(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"Standing near the fountain, you feel a sense of clarity.\", },\r\n      { speaker, text: \"It's as if the brambles in your head have started to declutter.\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *fountainVine3(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"Standing near the fountain, you feel a sense of history.\", },\r\n      { speaker, text: \"These relics of a vibrant society used to mean so much to so many. It would be good to make things right.\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *fountainVine4(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"Standing near the fountain, you feel a sense of progress.\", },\r\n      { speaker, text: \"You're almost there.\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *fountainMush1(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"Standing near the fountain, you feel a sense of tenacity.\", },\r\n      { speaker, text: \"Nothing can stop you.\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *fountainMush2(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"Standing near the fountain, you feel a sense of illumination.\", },\r\n      { speaker, text: \"You're starting to see the light.\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *fountainMush3(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"Standing near the fountain, you feel a sense of determination.\", },\r\n      { speaker, text: \"Hey, wait a minute. We can't use that word anymore.\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *fountainMush4(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"Standing near the fountain, you feel a sense of progress.\", },\r\n      { speaker, text: \"Just one more room.\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *fountainLair(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"Standing near the fountain, you feel a sense of boreboding.\", },\r\n      { speaker, text: \"Withers looms.\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *fountainPrep(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"Standing near the fountain, you feel a sense of preparation.\", },\r\n      { speaker, text: \"You're getting ready to do something great.\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n  public *fountainBoss(speaker: Entity): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    state.mode = \"Dialog\";\r\n\r\n    yield* NpcDialog.StartDialog([\r\n      { speaker, text: \"Time is of the essence.\", },\r\n    ]);\r\n\r\n    state.mode = \"Normal\";\r\n  }\r\n\r\n}\r\n","import { Entity } from \"../library/entity\";\r\nimport { Assets } from \"./assets\";\r\nimport { IGameState } from \"Library\";\r\nimport { GameCoroutine } from \"../library/coroutine_manager\";\r\nimport { Vector2 } from \"../library/geometry/vector2\";\r\nimport { Cinematics } from \"./cinematics\";\r\nimport { Texture } from \"pixi.js\";\r\n\r\nexport class Bud extends Entity {\r\n  public static Instance: Bud;\r\n  following = false;\r\n\r\n  frames: Texture[]\r\n\r\n  constructor() {\r\n    super({\r\n      name: \"Bud\",\r\n    });\r\n\r\n    this.frames = Assets.getResource(\"bud/bud_idle\");\r\n\r\n    Bud.Instance = this;\r\n\r\n    this.scale = new Vector2(0.5, 0.5);\r\n  }\r\n\r\n  *budFollow(): GameCoroutine {\r\n    let state = yield \"next\";\r\n\r\n    while (true) {\r\n      state = yield \"next\";\r\n\r\n      let nextPosition = state.player.position.add(Vector2.Random(200, 200, -200, -200));\r\n\r\n      yield* Cinematics.LinearTween({\r\n        set   : v => this.position = v,\r\n        start : this.position,\r\n        stop  : nextPosition,\r\n        frames: 120,\r\n      });\r\n    }\r\n  }\r\n\r\n  update(state: IGameState) {\r\n    this.texture = this.frames[Math.floor(state.tick / 8) % this.frames.length];\r\n\r\n    if (state.budFollowing && !this.following) {\r\n      this.following = true;\r\n\r\n      this.startCoroutine(\"budfollow\", this.budFollow());\r\n    }\r\n  }\r\n}\r\n","import { Entity } from \"../library/entity\";import { C } from \"./constants\";import { Texture } from \"pixi.js\";import { HoverText } from \"./hover_text\";import { Assets } from \"./assets\";import { Rect } from \"../library/geometry/rect\";import { IGameState } from \"Library\";import { GameCoroutine } from \"../library/coroutine_manager\";\r\n\r\nexport class Wisteria extends Entity {\r\n  public interactionDistance = C.InteractionDistance;\r\n  public frames: Texture[];\r\n  public interacted = false;\r\n\r\n  hoverText: HoverText;\r\n  graphic: Entity;\r\n\r\n  constructor() {\r\n    super({ \r\n      name      : \"Wisteria\",\r\n    });\r\n\r\n    this.graphic = new Entity({\r\n      name: \"WistGraphic\",\r\n      texture: Assets.getResource(\"wisteria\")[0],\r\n    });\r\n    this.addChild(this.graphic, 0, -Assets.getResource(\"wisteria\")[0].height + 256)\r\n\r\n    this.frames = Assets.getResource(\"wisteria\");\r\n\r\n    this.addChild(this.hoverText = new HoverText(\"x: interact\"), 400, -900);\r\n    this.hoverText.visible = false;\r\n  }\r\n\r\n  interacting = false;\r\n\r\n  update(state: IGameState) { \r\n    if (this.interacting) { return; }\r\n\r\n    if (state.player.position.distance(this.position) < this.interactionDistance) {\r\n      this.hoverText.visible = true;\r\n\r\n      if (state.keys.justDown.X) {\r\n        if (!this.interacted) {\r\n          this.interacting = true;\r\n          this.interacted = true;\r\n          state.sfx.useSpirit.play();\r\n          this.startCoroutine(\"animateAliveWisteria\", this.animateAlive());\r\n\r\n          setTimeout(() => {\r\n            this.interacting = false;\r\n          }, 20000);\r\n        } else {\r\n          this.startCoroutine(\"wisttalk\", state.cinematics.wisteria());\r\n        }\r\n      } \r\n    } else {\r\n      this.hoverText.visible = false;\r\n    }\r\n  }\r\n\r\n  *animateAlive(): GameCoroutine {\r\n    for (let i = 0; i < this.frames.length; i++) {\r\n      this.graphic.texture = this.frames[i];\r\n\r\n      yield { frames: 8 };\r\n    }\r\n\r\n    let state = yield \"next\";\r\n\r\n    state.spiritTotal += 1;\r\n    state.spiritUnused = state.spiritTotal;\r\n    state.haveVinePerma = true;\r\n\r\n    yield* state.cinematics.wisteria();\r\n  }\r\n}","import { Entity } from \"../library/entity\";\r\nimport { C } from \"./constants\";\r\nimport { Texture } from \"pixi.js\";\r\nimport { HoverText } from \"./hover_text\";\r\nimport { Assets } from \"./assets\";\r\nimport { IGameState } from \"Library\";\r\nimport { GameCoroutine } from \"../library/coroutine_manager\";\r\n\r\nexport class BigShroom extends Entity {\r\n  public interactionDistance = C.InteractionDistance;\r\n  public frames: Texture[];\r\n  public interacted = false;\r\n\r\n  hoverText: HoverText;\r\n  graphic: Entity;\r\n\r\n  constructor() {\r\n    super({ \r\n      name: \"BigShroom\",\r\n    });\r\n\r\n    this.graphic = new Entity({\r\n      name: \"BigShroomGraphic\",\r\n      texture: Assets.getResource(\"bigshroom\")[0],\r\n    });\r\n    this.addChild(this.graphic, 0, -Assets.getResource(\"bigshroom\")[0].height + 256)\r\n\r\n    this.frames = Assets.getResource(\"bigshroom\");\r\n\r\n    this.addChild(this.hoverText = new HoverText(\"x: interact\"), 200, -100);\r\n    this.hoverText.visible = false;\r\n  }\r\n\r\n  interacting = false;\r\n\r\n  update(state: IGameState) { \r\n    if (this.interacting) { return; }\r\n\r\n    if (state.player.position.distance(this.position) < this.interactionDistance) {\r\n      this.hoverText.visible = true;\r\n\r\n      if (state.keys.justDown.X) {\r\n        if (!this.interacted) {\r\n          this.interacting = true;\r\n          this.interacted = true;\r\n          state.sfx.useSpirit.play();\r\n\r\n          setTimeout(() => {\r\n            this.interacting = false;\r\n          }, 20000);\r\n\r\n          this.startCoroutine(\"animateAliveBigShroom\", this.animateAlive());\r\n        } else {\r\n          this.startCoroutine(\"shroomtalk\", state.cinematics.bigMush());\r\n        }\r\n      }\r\n    } else {\r\n      this.hoverText.visible = false;\r\n    }\r\n  }\r\n\r\n  *animateAlive(): GameCoroutine {\r\n    for (let i = 0; i < this.frames.length; i++) {\r\n      this.graphic.texture = this.frames[i];\r\n\r\n      yield { frames: 8 };\r\n    }\r\n\r\n    const state = yield \"next\";\r\n\r\n    state.spiritTotal += 1;\r\n    state.spiritUnused = state.spiritTotal;\r\n    state.haveShroomPerma = true;\r\n\r\n    this.interacted = true;\r\n\r\n    yield* state.cinematics.bigMush();\r\n  }\r\n}","import { Game } from \"./game\";\r\nimport { TiledTilemap } from \"../library/tilemap/tilemap\";\r\nimport { Entity } from \"../library/entity\";\r\nimport { TilemapRegion } from \"../library/tilemap/tilemap_data\";\r\nimport { RectGroup } from \"../library/geometry/rect_group\";\r\nimport { Assets } from \"./assets\";\r\nimport { Texture } from \"pixi.js\";\r\nimport { NormalFlower } from \"./normal_flower\";\r\nimport { VineFlower } from \"./vine_flower\";\r\nimport { Player } from \"./player\";\r\nimport { GetInstanceTypeProps } from \"../library/tilemap/tilemap_objects\";\r\nimport { DebugFlags } from \"./debug\";\r\nimport { Vector2 } from \"../library/geometry/vector2\";\r\nimport { IGameState } from \"Library\";\r\nimport { MusicMap } from \"./music_map\";\r\nimport { Bud } from \"./bud\";\r\nimport { Fountain } from \"./fountain\";\r\nimport { BouncyShroom } from \"./bouncy_shroom\";\r\nimport { Npc } from \"./npc\";\r\nimport { Wisteria } from \"./wisteria\";\r\nimport { BigShroom } from \"./big_shroom\";\r\nimport { HubLocation } from \"./hub_location\";\r\nimport { Mode } from \"Library\";\r\n\r\ntype FlowerRegion = {\r\n  tilemapRegion: TilemapRegion,\r\n  level?:        number,\r\n}\r\n\r\nexport class GameMap extends Entity {\r\n  activeModes: Mode[] = [\"Dialog\", \"Normal\"];\r\n  artMap         : TiledTilemap;\r\n  cameraRegions  : TilemapRegion[] = [];\r\n  flowerRegions  : TilemapRegion[] = [];\r\n\r\n  public static Instance: GameMap;\r\n  public dialogTriggers: { region: TilemapRegion, triggered: boolean }[] = [];\r\n\r\n  constructor(state: IGameState) {\r\n    super({ \r\n      collidable: true,\r\n      name: \"Map\",\r\n    });\r\n\r\n    GameMap.Instance = this;\r\n\r\n    this.artMap = new TiledTilemap({\r\n      pathToTilemap: \"\",\r\n      json         : Assets.getResource(\"map\"),\r\n      renderer     : Game.Instance.renderer,\r\n      customObjects: [\r\n        {\r\n          type     : \"single\",\r\n          name     : \"flower\",\r\n          getInstanceType: (tex: Texture, tileProperties: { [key: string]: unknown }, props: GetInstanceTypeProps) => {\r\n            return null;\r\n          }\r\n        },\r\n\r\n        {\r\n          type     : \"single\",\r\n          name     : \"vineflower\",\r\n          getInstanceType: (tex: Texture, tileProperties: { [key: string]: unknown }, props: GetInstanceTypeProps) => {\r\n            return new VineFlower(tex);\r\n          }\r\n        },\r\n\r\n        {\r\n          type     : \"single\",\r\n          name     : \"npc\",\r\n          getInstanceType: (tex: Texture, tileProperties: { [key: string]: unknown }, props: GetInstanceTypeProps) => {\r\n            return new Npc(tileProperties, props.x, props.y);\r\n          }\r\n        },\r\n\r\n        {\r\n          type     : \"single\",\r\n          name     : \"interactable\",\r\n          getInstanceType: (tex: Texture, tileProperties: { [key: string]: unknown }, props: GetInstanceTypeProps) => {\r\n            return new Npc(tileProperties, props.x, props.y);\r\n          }\r\n        },\r\n\r\n        {\r\n          type     : \"single\",\r\n          name     : \"wisteria\",\r\n          getInstanceType: (tex: Texture, tileProperties: { [key: string]: unknown }, props: GetInstanceTypeProps) => {\r\n            return new Wisteria();\r\n          }\r\n        },\r\n\r\n        {\r\n          type     : \"single\",\r\n          name     : \"bigshroom\",\r\n          getInstanceType: (tex: Texture, tileProperties: { [key: string]: unknown }, props: GetInstanceTypeProps) => {\r\n            return new BigShroom();\r\n          }\r\n        },\r\n\r\n        {\r\n          type     : \"single\",\r\n          name     : \"big_shroom\",\r\n          getInstanceType: (tex: Texture, tileProperties: { [key: string]: unknown }, props: GetInstanceTypeProps) => {\r\n            return new BigShroom();\r\n          }\r\n        },\r\n\r\n        {\r\n          type     : \"single\",\r\n          name     : \"bouncyshroom\",\r\n          getInstanceType: (tex: Texture, tileProperties: { [key: string]: unknown }, props: GetInstanceTypeProps) => {\r\n            return new BouncyShroom();\r\n          }\r\n        },\r\n\r\n        {\r\n          type     : \"single\",\r\n          name     : \"fountain\",\r\n          getInstanceType: (tex: Texture, tileProperties: { [key: string]: unknown }, props: GetInstanceTypeProps) => {\r\n            return new Fountain();\r\n          }\r\n        },\r\n\r\n        {\r\n          type     : \"single\",\r\n          name     : \"start\",\r\n          getInstanceType: (tex: Texture, tileProperties: { [key: string]: unknown }, props: GetInstanceTypeProps) => {\r\n            if (DebugFlags[\"Set Position To Start Object\"]) {\r\n              setTimeout(() => {\r\n                Player.Instance.x = props.x;\r\n                Player.Instance.y = props.y;\r\n\r\n                Game.Instance.camera.centerOn(Player.Instance.position.add(new Vector2(0, -400)), true);\r\n              }, 100);\r\n            }\r\n\r\n            return null;\r\n          }\r\n        },\r\n\r\n        {\r\n          type     : \"single\",\r\n          name     : \"bud-start\",\r\n          getInstanceType: (tex: Texture, tileProperties: { [key: string]: unknown }, props: GetInstanceTypeProps) => {\r\n            return new Bud();\r\n          }\r\n        },\r\n\r\n        {\r\n          type     : \"single\",\r\n          name     : \"hub-location\",\r\n          getInstanceType: (tex: Texture, tileProperties: { [key: string]: unknown }, props: GetInstanceTypeProps) => {\r\n            return new HubLocation();\r\n          }\r\n        },\r\n\r\n        {\r\n          type     : \"rect\",\r\n          layerName: \"Camera Region Layer\",\r\n          process  : region => {\r\n            this.cameraRegions.push(region);\r\n          },\r\n        },\r\n\r\n        {\r\n          type     : \"rect\",\r\n          layerName: \"Flower Region Layer\",\r\n          process  : region => {\r\n            this.flowerRegions.push(region);\r\n          },\r\n        },\r\n\r\n        {\r\n          type     : \"rect\",\r\n          layerName: \"Dialog Trigger Layer\",\r\n          process  : region => {\r\n            this.dialogTriggers.push({ region, triggered: false });\r\n          },\r\n        },\r\n    ],\r\n      assets: Assets\r\n    });\r\n    \r\n    this.loadMap(Player.StartPosition, state);\r\n\r\n    if (DebugFlags[\"Play Music\"]) {\r\n      const musicMap = new MusicMap();\r\n      this.addChild(musicMap);\r\n    }\r\n  }\r\n\r\n  getCameraRegion(pos: Vector2): TilemapRegion {\r\n    for (const region of this.cameraRegions) {\r\n      if (region.rect.contains(pos)) {\r\n        return region;\r\n      }\r\n    }\r\n\r\n    throw new Error(\"No camera region for that location. Halp!\")\r\n  }\r\n\r\n  loadMap(position: Vector2, state: IGameState) {\r\n    const newBounds = this.getCameraRegion(position).rect;\r\n    const layers = this.artMap.loadLayersInRectCached(newBounds);\r\n\r\n    this.loadFlowers(state);\r\n\r\n    for (const layer of layers) {\r\n      this.addChild(layer.entity);\r\n    }\r\n  }\r\n\r\n  flowers: NormalFlower[] = [];\r\n\r\n  loadFlowers(state: IGameState) {\r\n    for (const flower of this.flowers) {\r\n      flower.parent?.removeChild(flower);\r\n      flower.destroy(state);\r\n    }\r\n\r\n    let frequency = 2;\r\n    for (const region of this.flowerRegions) {\r\n      if (region.properties[\"frequency\"]) {\r\n        frequency = parseInt(region.properties[\"frequency\"])\r\n      }\r\n\r\n      let numFlowers = Math.round(frequency * region.rect.width / 256 / 2); // 2 is just because the lowest frequency was still too many flowers\r\n\r\n      for (let i = 0; i < numFlowers; i++) {\r\n        let f: NormalFlower;\r\n\r\n        const position = region.rect.topLeft.addX(128).addX(Math.random()*(region.rect.width-256));\r\n\r\n        if (region.properties[\"level\"]) {\r\n          f = new NormalFlower(position, parseInt(region.properties[\"level\"]))\r\n        } else {\r\n          f = new NormalFlower(position, undefined)\r\n        }\r\n\r\n        this.addChild(f);\r\n        this.flowers.push(f);\r\n      }\r\n    } \r\n  }\r\n\r\n  collisionBounds(): RectGroup {\r\n    const bounds = this.getCameraRegion(Player.Instance.position).rect;\r\n    const rects = this.artMap._data.getCollidersInRegionForLayer(\r\n      bounds,\r\n      \"Tile Layer 1\"\r\n    );\r\n\r\n    rects.subtract(this.positionAbsolute());\r\n\r\n    return rects;\r\n  }\r\n\r\n  loadMusicRegions() {\r\n\r\n  }\r\n\r\n  update(state: IGameState) {\r\n    const oldRegion = state.camera.getBounds();\r\n    const cameraRegion = state.map.getCameraRegion(state.player.position).rect;\r\n\r\n    if (!oldRegion.equals(cameraRegion)) {\r\n      this.loadMap(state.player.position, state);\r\n    }\r\n\r\n    state.camera.setBounds(cameraRegion);\r\n  }\r\n}\r\n","import { Entity } from \"../library/entity\";\r\nimport { Graphics } from \"pixi.js\";\r\nimport { C } from \"./constants\";\r\n\r\nexport class Overlay extends Entity {\r\n  constructor() {\r\n    super({\r\n      name: \"overlay\",\r\n    });\r\n\r\n    this.alpha = 0;\r\n\r\n    const graphic = new Graphics();\r\n    this.sprite.addChild(graphic);\r\n\r\n    graphic.beginFill(0x000000);\r\n    graphic.drawRect(0, 0, C.CanvasWidth / C.Scale.x, C.CanvasHeight / C.Scale.y);\r\n    graphic.endFill();\r\n\r\n    this.sprite.addChild(graphic);\r\n  }\r\n}","import { Entity } from \"./entity\";\r\nimport { TextEntity } from \"./text_entity\";\r\nimport { IGameState } from \"Library\";\r\nimport { Sprite, Geometry, Graphics, Texture } from \"pixi.js\";\r\nimport { Assets } from \"../game/assets\";\r\nimport { Vector2 } from \"./geometry/vector2\";\r\nimport { C } from \"../game/constants\";\r\nimport { Mode } from \"Library\";\r\nimport ReactDOM from 'react-dom';\r\nimport React from 'react';\r\nimport { SetAudioToLoop } from \"../game/sfx\";\r\nimport { Game } from \"../game/game\";\r\n\r\n\r\nexport class TitleScreen extends Entity {\r\n    activeModes: Mode[] = [\"Menu\"]\r\n    state: \"main\" | \"entername\" = \"main\";\r\n    // graphic: Sprite;\r\n    blackScreen: Entity;\r\n    pressEnterText: TextEntity;\r\n    enterYourNameText: TextEntity;\r\n    startedGlowing: boolean = false;\r\n    frame: number = 0;\r\n    waitFrames: number = 60;\r\n\r\n    menuAudio = SetAudioToLoop(Assets.getResource(\"music/Maybe Tomorrow\"));\r\n    graphic: Sprite;\r\n\r\n    constructor(textProps: {\r\n        fontSize: number,\r\n        width   : number,\r\n      }) {\r\n        super({name: \"TitleScreen\"});\r\n\r\n        this.menuAudio.play();\r\n        \r\n        this.graphic = new Sprite()\r\n        this.addChild(new Entity({name: \"MenuBackground\", texture: Assets.getResource(\"titlescreen\")}))\r\n\r\n        this.pressEnterText = new TextEntity({text: \"(press enter)\", ...textProps});\r\n        this.pressEnterText.position = new Vector2(C.CanvasWidth-380, C.CanvasHeight + 250)\r\n        this.pressEnterText.alpha = 0;\r\n        this.addChild(this.pressEnterText);\r\n\r\n        this.blackScreen = new Entity({name: \"BlackScreen\", texture: Texture.WHITE});\r\n        this.blackScreen.width = C.CanvasWidth*1.5;\r\n        this.blackScreen.height = C.CanvasHeight*1.5;\r\n        this.blackScreen.sprite.tint = 0x000000;\r\n        this.blackScreen.visible = false;\r\n        this.addChild(this.blackScreen);\r\n\r\n        this.enterYourNameText = new TextEntity({text: \"enter your name\", ... textProps});\r\n        this.enterYourNameText.position = new Vector2(C.CanvasWidth-410, C.CanvasHeight/2)\r\n        this.enterYourNameText.visible = false;\r\n        this.addChild(this.enterYourNameText);\r\n\r\n    }\r\n\r\n    ref!: HTMLInputElement;\r\n    update(state: IGameState) {\r\n        if (state.keys.justDown.Enter) {\r\n            if (this.state === \"main\") {\r\n                this.blackScreen.visible = true;\r\n                this.enterYourNameText.visible = true;\r\n                ReactDOM.render(\r\n                    <input \r\n                    type=\"text\" \r\n                    size={4}\r\n                    autoFocus\r\n                    ref={ref => {this.ref = ref! }}\r\n                    onKeyDown={k => {\r\n                        if (k.keyCode === 13) {\r\n                            state.mode = \"Normal\";\r\n                            state.cinematics.name = k.currentTarget.value;\r\n                            this.visible = false;\r\n                            this.menuAudio.pause();\r\n                            this.ref.remove();\r\n\r\n                            this.startCoroutine(\r\n                                \"Initial Cinematic\",\r\n                                Game.Instance.state.cinematics.openingCinematic()\r\n                              );\r\n                        }\r\n                    }}\r\n                    style={{\r\n                        position: \"absolute\",\r\n                        border: 0,\r\n                        backgroundColor: \"transparent\",\r\n                        color: \"white\",\r\n                        left: \"calc(50vw - 300px)\",\r\n                        top: \"calc(50vh)\",\r\n                        width: \"600px\",\r\n                        height: \"200px\",\r\n                        fontSize: \"40px\",\r\n                        fontFamily: \"FreePixel\",\r\n                        textAlign: \"center\",\r\n                        outline: 0,\r\n                    }}\r\n                    />, \r\n                    document.getElementById('root')\r\n                  );\r\n            } else {\r\n                this.parent?.removeChild(this)\r\n                state.mode = \"Normal\";\r\n            }\r\n        }\r\n\r\n        // Text glow\r\n        this.frame += 1;\r\n        if (this.frame < this.waitFrames) return;\r\n\r\n        if (this.pressEnterText.alpha > 0.5) this.startedGlowing = true;\r\n\r\n        if (!this.startedGlowing) {\r\n            this.pressEnterText.alpha = Math.sin((this.frame - this.waitFrames) / 120)\r\n        } else {\r\n            this.pressEnterText.alpha = 0.5 + (1 - Math.sin((this.frame - this.waitFrames) / 30))/4\r\n        }\r\n    }\r\n}\r\n\r\n","import { Entity } from \"../library/entity\";\r\nimport { Assets } from \"./assets\";\r\nimport { IGameState } from \"Library\";\r\nimport { C } from \"./constants\";\r\nimport { TilingSprite, Point as PixiPoint } from \"pixi.js\";\r\n\r\nexport class ParallaxLayers extends Entity {\r\n  scaleFactor = 2.3\r\n  layers = [\r\n    { speed: -0.03 , texture: Assets.getResource(\"parallax bg/00 - sky\"), },\r\n    { speed: -0.04, texture: Assets.getResource(\"parallax bg/01 - skyline back\"), },\r\n    { speed: -0.08 , texture: Assets.getResource(\"parallax bg/02 - skyline\"), },\r\n    { speed: -0.1, texture: Assets.getResource(\"parallax bg/03 - mist\"), },\r\n    { speed: -0.12 , texture: Assets.getResource(\"parallax bg/04 - city back\"), },\r\n    { speed: -0.15, texture: Assets.getResource(\"parallax bg/05 - forest back\"), },\r\n    { speed: -0.25 , texture: Assets.getResource(\"parallax bg/06 - city\"), },\r\n    { speed: -0.6 , texture: Assets.getResource(\"parallax bg/07 - forest\"), },\r\n    { speed: -0.3 , texture: Assets.getResource(\"hub bg/hub_bg1\"), },\r\n  ];\r\n\r\n  sprites: TilingSprite[] = [];\r\n\r\n  clouds = [\r\n    Assets.getResource(\"parallax bg/bigcloud01\"),\r\n    Assets.getResource(\"parallax bg/bigcloud02\"),\r\n    Assets.getResource(\"parallax bg/bigcloud03\"),\r\n    Assets.getResource(\"parallax bg/bigcloud04\"),\r\n    Assets.getResource(\"parallax bg/bigcloud05\"),\r\n  ];\r\n\r\n  constructor() {\r\n    super({\r\n      name: \"ParallaxLayers\",\r\n    });\r\n\r\n    for (const { texture } of this.layers) {\r\n      const sprite = new TilingSprite(texture, texture.width, texture.height);\r\n      sprite.scale = new PixiPoint(4, 4);\r\n\r\n      this.sprites.push(sprite);\r\n    }\r\n\r\n    for (const layer of this.sprites) {\r\n      this.sprite.addChild(layer);\r\n    }\r\n  }\r\n\r\n  firstUpdate(state: IGameState) {\r\n    for (const layer of this.sprites) {\r\n      layer.x = 0;\r\n      layer.y = C.CanvasHeight * this.scaleFactor - layer.height * this.scaleFactor;\r\n    }\r\n    \r\n    this.changeBackground(0);\r\n\r\n    // 00 - sky\r\n    // 01 - skyline back\r\n    this.sprites[1].y -= 500;\r\n    // 02 - skyline\r\n    this.sprites[2].y -= 20;\r\n    // 03 - mist\r\n    // 04 - city back\r\n    this.sprites[4].y -= 200;\r\n    this.sprites[4].tint = 0xBDBDBD;\r\n    // 05 - forest back\r\n    this.sprites[5].y += 300;\r\n    this.sprites[5].tileScale = new PixiPoint(2, 2);\r\n    // 06 - city\r\n    this.sprites[6].tileScale = new PixiPoint(1, 1);\r\n    this.sprites[6].y += 450;\r\n    this.sprites[6].tint = 0xBDBDBD;\r\n    // 07 - forest\r\n    this.sprites[7].tileScale = new PixiPoint(2.2, 2.2);\r\n    this.sprites[7].y += 1400;\r\n    this.sprites[7].alpha = 0.9;\r\n  \r\n  }\r\n\r\n  update(state: IGameState) {\r\n    for (let i = 0; i < this.layers.length; i++) {\r\n      const layer  = this.layers[i];\r\n      const sprite = this.sprites[i];\r\n\r\n      sprite.tilePosition.x = state.camera.cameraFrame().x * layer.speed / 4;\r\n    }\r\n    this.sprites[0].tilePosition.x += state.tick * -0.5;\r\n    this.sprites[5].tilePosition.x += state.tick * -0.05;\r\n    this.sprites[7].tilePosition.x += state.tick * -0.4;\r\n\r\n    // hub\r\n    this.sprites[8].tilePosition.y = state.camera.cameraFrame().y * this.layers[8].speed / 6;\r\n  }\r\n\r\n  changeBackground(backgroundIndex: number) {\r\n    // city\r\n    if (backgroundIndex === 0) {\r\n      this.sprites.forEach(spr => spr.visible = true);\r\n      this.sprites[8].visible = false;\r\n    }\r\n    // hub\r\n    else if (backgroundIndex === 1) {\r\n      this.sprites.forEach(spr => spr.visible = false);\r\n      this.sprites[8].visible = true;\r\n    }\r\n  }\r\n}\r\n","import { BaseGame } from \"../library/base_game\";\r\nimport { AssetsToLoad, Assets } from \"./assets\";\r\nimport { Player } from \"./player\";\r\nimport { GameMap } from \"./game_map\";\r\nimport { DialogBox } from \"./dialog_box\";\r\nimport { DebugFlags } from \"./debug\";\r\nimport { C } from \"./constants\";\r\nimport { Overlay } from \"./overlay\";\r\nimport { Cinematics } from \"./cinematics\";\r\nimport { DialogOverlay } from \"./dialog_overlay\";\r\nimport { Hud } from \"./hud\";\r\nimport { NpcDialog } from \"./npc\";\r\nimport { Sfx } from \"./sfx\";\r\nimport { Withers } from \"./withers\";\r\nimport { TitleScreen } from \"../library/title_screen\";\r\nimport { ParallaxLayers } from \"./parallax_layers\";\r\n\r\nexport class Game extends BaseGame<typeof AssetsToLoad> {\r\n  public static Instance: Game;\r\n\r\n  public cinematics: Cinematics;\r\n  public startSpeedrunTick: number = 0;\r\n  public endSpeedrunTick: number = 0;\r\n\r\n  constructor() {\r\n    super({\r\n      canvasWidth : C.CanvasWidth,\r\n      canvasHeight: C.CanvasHeight,\r\n      tileWidth   : 256,\r\n      tileHeight  : 256,\r\n      scale       : 1/4,\r\n      assets      : Assets,\r\n      debugFlags  : DebugFlags,\r\n      state       : {\r\n        tick         : 0,\r\n        spiritTotal  : 3,\r\n        spiritUnused : 3,\r\n        budFollowing   : DebugFlags[\"Fairy Follows You Immediately\"],\r\n        haveVinePerma  : DebugFlags[\"Have Vine Perma\"],\r\n        haveShroomPerma: DebugFlags[\"Have Shroom Perma\"],\r\n\r\n        // These are set later.\r\n        sfx          : undefined as any,\r\n        player       : undefined as any,\r\n        overlay      : undefined as any,\r\n        map          : undefined as any,\r\n        camera       : undefined as any,\r\n        cinematics   : undefined as any,\r\n      }\r\n    });\r\n\r\n    Game.Instance = this;\r\n    this.cinematics = new Cinematics(this.coroutineManager, this);\r\n\r\n    this.state.cinematics = this.cinematics;\r\n  }\r\n\r\n  getSpeedrunTimeInS():number {\r\n    if (this.endSpeedrunTick === 0) return ((this.state.tick - this.startSpeedrunTick)/60);\r\n    return ((this.endSpeedrunTick - this.startSpeedrunTick)/60);\r\n\r\n  }\r\n\r\n  initialize() {\r\n    this.stage.addChild(this.state.map = new GameMap(this.state));\r\n    this.stage.addChild(this.state.player = new Player());\r\n    this.stage.addChild(this.state.sfx = new Sfx());\r\n\r\n    this.parallaxStage.addChild(new ParallaxLayers());\r\n\r\n    this.fixedCameraStage.addChild(this.state.overlay = new Overlay());\r\n    this.fixedCameraStage.addChild(new DialogBox());\r\n    this.fixedCameraStage.addChild(new DialogOverlay());\r\n    this.fixedCameraStage.addChild(new Hud(this.state.spiritTotal));\r\n    this.stage.addChild(new NpcDialog());\r\n\r\n    this.stage.addChild(new Withers());\r\n\r\n    if (DebugFlags[\"Show Menu\"]) {\r\n      this.state.mode = \"Menu\";\r\n      const titlescreen = new TitleScreen({\r\n        fontSize: 40,\r\n        width   : 700,\r\n      });\r\n\r\n      titlescreen.sprite.scale.set(8/3)\r\n      this.fixedCameraStage.addChild(titlescreen)\r\n    } else {\r\n      if (DebugFlags[\"Show Initial Cinematic\"]) {\r\n        this.coroutineManager.startCoroutine(\r\n          \"Initial Cinematic\",\r\n          this.cinematics.openingCinematic(),\r\n          this\r\n        );\r\n      }\r\n    }\r\n  }\r\n}\r\n","import ReactDOM from 'react-dom';\r\nimport React from 'react';\r\nimport { Game } from './game/game';\r\nimport { IS_DEBUG } from './library/environment';\r\n\r\nfunction initialize() {\r\n  new Game();\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  let ref: HTMLDivElement | null;\r\n\r\n  if (IS_DEBUG) {\r\n    initialize();\r\n  } else {\r\n    ReactDOM.render(\r\n      <div\r\n      ref={r => ref=r}\r\n        style={{\r\n          width: \"100vw\",\r\n          height: \"100vh\",\r\n          position: \"absolute\",\r\n          left: 0,\r\n          top: 0,\r\n          textAlign: \"center\",\r\n          backgroundColor: \"black\",\r\n          paddingTop: \"200px\",\r\n          fontSize: \"80px\",\r\n          fontFamily: \"FreePixel\",\r\n        }}\r\n        onClick={() => {\r\n          if (ref) ref.remove();\r\n\r\n          initialize();\r\n        }}\r\n      >Click to play.</div>,\r\n      document.getElementById('click-to-play')\r\n    );\r\n  }\r\n});\r\n"],"sourceRoot":""}